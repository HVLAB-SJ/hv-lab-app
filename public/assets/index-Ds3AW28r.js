import{r as l,b as xt,u as Ti,d as Za,N as Ln,e as Fn,O as eo,R as Ze,B as so,f as to,h as Ds}from"./vendor-react-6hpP91OT.js";import{a as no,c as Fi,Q as ro,b as io}from"./vendor-data-D-gg12VW.js";import{B as qn,X as ns,C as qi,T as gs,a as ao,b as ht,W as oo,c as mo,d as ws,P as Ks,R as lo,e as Wi,S as xn,f as co,g as uo,h as Oi,A as Ir,i as po,F as Tr,j as Fr,k as qr,M as fo,U as tt,l as go,m as yn,I as Ys,n as Wr,o as Or,p as Tt,q as $r,r as Yr,s as $i,t as Ft,D as No,u as bo,E as xo,v as yo,w as zr,x as ho,y as ko,z as Do,G as vo,L as Vo}from"./vendor-ui-Ce6xQI3v.js";import{k as Wn,l as Et,m as At,n as Co,o as Eo,p as De,q as Ao,r as Kr,s as wo,t as rs}from"./vendor-date-DbWJ9m7c.js";import{m as jo,C as Lo}from"./vendor-calendar-ZgrlWMy2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Yi={exports:{}},er={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var s=l,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),m=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),z=Symbol.iterator,E="@@iterator";function J(u){if(u===null||typeof u!="object")return null;var $=z&&u[z]||u[E];return typeof $=="function"?$:null}var K=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function D(u){{for(var $=arguments.length,ie=new Array($>1?$-1:0),xe=1;xe<$;xe++)ie[xe-1]=arguments[xe];O("error",u,ie)}}function O(u,$,ie){{var xe=K.ReactDebugCurrentFrame,Be=xe.getStackAddendum();Be!==""&&($+="%s",ie=ie.concat([Be]));var Ke=ie.map(function(We){return String(We)});Ke.unshift("Warning: "+$),Function.prototype.apply.call(console[u],console,Ke)}}var ee=!1,Z=!1,U=!1,Y=!1,G=!1,le;le=Symbol.for("react.module.reference");function de(u){return!!(typeof u=="string"||typeof u=="function"||u===r||u===a||G||u===i||u===y||u===b||Y||u===k||ee||Z||U||typeof u=="object"&&u!==null&&(u.$$typeof===C||u.$$typeof===h||u.$$typeof===o||u.$$typeof===m||u.$$typeof===N||u.$$typeof===le||u.getModuleId!==void 0))}function ke(u,$,ie){var xe=u.displayName;if(xe)return xe;var Be=$.displayName||$.name||"";return Be!==""?ie+"("+Be+")":ie}function se(u){return u.displayName||"Context"}function ue(u){if(u==null)return null;if(typeof u.tag=="number"&&D("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case r:return"Fragment";case n:return"Portal";case a:return"Profiler";case i:return"StrictMode";case y:return"Suspense";case b:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case m:var $=u;return se($)+".Consumer";case o:var ie=u;return se(ie._context)+".Provider";case N:return ke(u,u.render,"ForwardRef");case h:var xe=u.displayName||null;return xe!==null?xe:ue(u.type)||"Memo";case C:{var Be=u,Ke=Be._payload,We=Be._init;try{return ue(We(Ke))}catch{return null}}}return null}var oe=Object.assign,Ve=0,Ee,je,Me,re,be,we,Ne;function Ae(){}Ae.__reactDisabledLog=!0;function He(){{if(Ve===0){Ee=console.log,je=console.info,Me=console.warn,re=console.error,be=console.group,we=console.groupCollapsed,Ne=console.groupEnd;var u={configurable:!0,enumerable:!0,value:Ae,writable:!0};Object.defineProperties(console,{info:u,log:u,warn:u,error:u,group:u,groupCollapsed:u,groupEnd:u})}Ve++}}function Le(){{if(Ve--,Ve===0){var u={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:oe({},u,{value:Ee}),info:oe({},u,{value:je}),warn:oe({},u,{value:Me}),error:oe({},u,{value:re}),group:oe({},u,{value:be}),groupCollapsed:oe({},u,{value:we}),groupEnd:oe({},u,{value:Ne})})}Ve<0&&D("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Se=K.ReactCurrentDispatcher,P;function I(u,$,ie){{if(P===void 0)try{throw Error()}catch(Be){var xe=Be.stack.trim().match(/\n( *(at )?)/);P=xe&&xe[1]||""}return`
`+P+u}}var M=!1,fe;{var Ce=typeof WeakMap=="function"?WeakMap:Map;fe=new Ce}function W(u,$){if(!u||M)return"";{var ie=fe.get(u);if(ie!==void 0)return ie}var xe;M=!0;var Be=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ke;Ke=Se.current,Se.current=null,He();try{if($){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(cs){xe=cs}Reflect.construct(u,[],We)}else{try{We.call()}catch(cs){xe=cs}u.call(We.prototype)}}else{try{throw Error()}catch(cs){xe=cs}u()}}catch(cs){if(cs&&xe&&typeof cs.stack=="string"){for(var Te=cs.stack.split(`
`),Xe=xe.stack.split(`
`),ss=Te.length-1,qe=Xe.length-1;ss>=1&&qe>=0&&Te[ss]!==Xe[qe];)qe--;for(;ss>=1&&qe>=0;ss--,qe--)if(Te[ss]!==Xe[qe]){if(ss!==1||qe!==1)do if(ss--,qe--,qe<0||Te[ss]!==Xe[qe]){var Qe=`
`+Te[ss].replace(" at new "," at ");return u.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",u.displayName)),typeof u=="function"&&fe.set(u,Qe),Qe}while(ss>=1&&qe>=0);break}}}finally{M=!1,Se.current=Ke,Le(),Error.prepareStackTrace=Be}var ds=u?u.displayName||u.name:"",ts=ds?I(ds):"";return typeof u=="function"&&fe.set(u,ts),ts}function ce(u,$,ie){return W(u,!1)}function w(u){var $=u.prototype;return!!($&&$.isReactComponent)}function T(u,$,ie){if(u==null)return"";if(typeof u=="function")return W(u,w(u));if(typeof u=="string")return I(u);switch(u){case y:return I("Suspense");case b:return I("SuspenseList")}if(typeof u=="object")switch(u.$$typeof){case N:return ce(u.render);case h:return T(u.type,$,ie);case C:{var xe=u,Be=xe._payload,Ke=xe._init;try{return T(Ke(Be),$,ie)}catch{}}}return""}var ae=Object.prototype.hasOwnProperty,ye={},Ie=K.ReactDebugCurrentFrame;function Ue(u){if(u){var $=u._owner,ie=T(u.type,u._source,$?$.type:null);Ie.setExtraStackFrame(ie)}else Ie.setExtraStackFrame(null)}function R(u,$,ie,xe,Be){{var Ke=Function.call.bind(ae);for(var We in u)if(Ke(u,We)){var Te=void 0;try{if(typeof u[We]!="function"){var Xe=Error((xe||"React class")+": "+ie+" type `"+We+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof u[We]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Xe.name="Invariant Violation",Xe}Te=u[We]($,We,xe,ie,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ss){Te=ss}Te&&!(Te instanceof Error)&&(Ue(Be),D("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",xe||"React class",ie,We,typeof Te),Ue(null)),Te instanceof Error&&!(Te.message in ye)&&(ye[Te.message]=!0,Ue(Be),D("Failed %s type: %s",ie,Te.message),Ue(null))}}}var f=Array.isArray;function B(u){return f(u)}function v(u){{var $=typeof Symbol=="function"&&Symbol.toStringTag,ie=$&&u[Symbol.toStringTag]||u.constructor.name||"Object";return ie}}function p(u){try{return S(u),!1}catch{return!0}}function S(u){return""+u}function d(u){if(p(u))return D("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",v(u)),S(u)}var q=K.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0},V,te,X;X={};function ge(u){if(ae.call(u,"ref")){var $=Object.getOwnPropertyDescriptor(u,"ref").get;if($&&$.isReactWarning)return!1}return u.ref!==void 0}function pe(u){if(ae.call(u,"key")){var $=Object.getOwnPropertyDescriptor(u,"key").get;if($&&$.isReactWarning)return!1}return u.key!==void 0}function he(u,$){if(typeof u.ref=="string"&&q.current&&$&&q.current.stateNode!==$){var ie=ue(q.current.type);X[ie]||(D('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ue(q.current.type),u.ref),X[ie]=!0)}}function Pe(u,$){{var ie=function(){V||(V=!0,D("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",$))};ie.isReactWarning=!0,Object.defineProperty(u,"key",{get:ie,configurable:!0})}}function $e(u,$){{var ie=function(){te||(te=!0,D("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",$))};ie.isReactWarning=!0,Object.defineProperty(u,"ref",{get:ie,configurable:!0})}}var Re=function(u,$,ie,xe,Be,Ke,We){var Te={$$typeof:t,type:u,key:$,ref:ie,props:We,_owner:Ke};return Te._store={},Object.defineProperty(Te._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Te,"_self",{configurable:!1,enumerable:!1,writable:!1,value:xe}),Object.defineProperty(Te,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Be}),Object.freeze&&(Object.freeze(Te.props),Object.freeze(Te)),Te};function Fe(u,$,ie,xe,Be){{var Ke,We={},Te=null,Xe=null;ie!==void 0&&(d(ie),Te=""+ie),pe($)&&(d($.key),Te=""+$.key),ge($)&&(Xe=$.ref,he($,Be));for(Ke in $)ae.call($,Ke)&&!x.hasOwnProperty(Ke)&&(We[Ke]=$[Ke]);if(u&&u.defaultProps){var ss=u.defaultProps;for(Ke in ss)We[Ke]===void 0&&(We[Ke]=ss[Ke])}if(Te||Xe){var qe=typeof u=="function"?u.displayName||u.name||"Unknown":u;Te&&Pe(We,qe),Xe&&$e(We,qe)}return Re(u,Te,Xe,Be,xe,q.current,We)}}var Ye=K.ReactCurrentOwner,Je=K.ReactDebugCurrentFrame;function Ge(u){if(u){var $=u._owner,ie=T(u.type,u._source,$?$.type:null);Je.setExtraStackFrame(ie)}else Je.setExtraStackFrame(null)}var es;es=!1;function is(u){return typeof u=="object"&&u!==null&&u.$$typeof===t}function us(){{if(Ye.current){var u=ue(Ye.current.type);if(u)return`

Check the render method of \``+u+"`."}return""}}function bs(u){{if(u!==void 0){var $=u.fileName.replace(/^.*[\\\/]/,""),ie=u.lineNumber;return`

Check your code at `+$+":"+ie+"."}return""}}var fs={};function L(u){{var $=us();if(!$){var ie=typeof u=="string"?u:u.displayName||u.name;ie&&($=`

Check the top-level render call using <`+ie+">.")}return $}}function ne(u,$){{if(!u._store||u._store.validated||u.key!=null)return;u._store.validated=!0;var ie=L($);if(fs[ie])return;fs[ie]=!0;var xe="";u&&u._owner&&u._owner!==Ye.current&&(xe=" It was passed a child from "+ue(u._owner.type)+"."),Ge(u),D('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ie,xe),Ge(null)}}function g(u,$){{if(typeof u!="object")return;if(B(u))for(var ie=0;ie<u.length;ie++){var xe=u[ie];is(xe)&&ne(xe,$)}else if(is(u))u._store&&(u._store.validated=!0);else if(u){var Be=J(u);if(typeof Be=="function"&&Be!==u.entries)for(var Ke=Be.call(u),We;!(We=Ke.next()).done;)is(We.value)&&ne(We.value,$)}}}function H(u){{var $=u.type;if($==null||typeof $=="string")return;var ie;if(typeof $=="function")ie=$.propTypes;else if(typeof $=="object"&&($.$$typeof===N||$.$$typeof===h))ie=$.propTypes;else return;if(ie){var xe=ue($);R(ie,u.props,"prop",xe,u)}else if($.PropTypes!==void 0&&!es){es=!0;var Be=ue($);D("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Be||"Unknown")}typeof $.getDefaultProps=="function"&&!$.getDefaultProps.isReactClassApproved&&D("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function c(u){{for(var $=Object.keys(u.props),ie=0;ie<$.length;ie++){var xe=$[ie];if(xe!=="children"&&xe!=="key"){Ge(u),D("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",xe),Ge(null);break}}u.ref!==null&&(Ge(u),D("Invalid attribute `ref` supplied to `React.Fragment`."),Ge(null))}}var A={};function j(u,$,ie,xe,Be,Ke){{var We=de(u);if(!We){var Te="";(u===void 0||typeof u=="object"&&u!==null&&Object.keys(u).length===0)&&(Te+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Xe=bs(Be);Xe?Te+=Xe:Te+=us();var ss;u===null?ss="null":B(u)?ss="array":u!==void 0&&u.$$typeof===t?(ss="<"+(ue(u.type)||"Unknown")+" />",Te=" Did you accidentally export a JSX literal instead of a component?"):ss=typeof u,D("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ss,Te)}var qe=Fe(u,$,ie,Be,Ke);if(qe==null)return qe;if(We){var Qe=$.children;if(Qe!==void 0)if(xe)if(B(Qe)){for(var ds=0;ds<Qe.length;ds++)g(Qe[ds],u);Object.freeze&&Object.freeze(Qe)}else D("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else g(Qe,u)}if(ae.call($,"key")){var ts=ue(u),cs=Object.keys($).filter(function(ft){return ft!=="key"}),Os=cs.length>0?"{key: someKey, "+cs.join(": ..., ")+": ...}":"{key: someKey}";if(!A[ts+Os]){var Ls=cs.length>0?"{"+cs.join(": ..., ")+": ...}":"{}";D(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Os,ts,Ls,ts),A[ts+Os]=!0}}return u===r?c(qe):H(qe),qe}}var Q=j;er.Fragment=r,er.jsxDEV=Q})();Yi.exports=er;var e=Yi.exports,zi,Jr=xt;{var Qr=Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;zi=function(s,t){Qr.usingClientEntryPoint=!0;try{return Jr.createRoot(s,t)}finally{Qr.usingClientEntryPoint=!1}}}let _o={data:""},Ho=s=>{if(typeof window=="object"){let t=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(s||document.head).appendChild(t),t.firstChild}return s||_o},Bo=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Uo=/\/\*[^]*?\*\/|  +/g,Xr=/\n+/g,at=(s,t)=>{let n="",r="",i="";for(let a in s){let o=s[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?at(o,a):a+"{"+at(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=at(o,t?t.replace(/([^,])+/g,m=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,N=>/&/.test(N)?N.replace(/&/g,m):m?m+" "+N:N)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=at.p?at.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Zs={},Ki=s=>{if(typeof s=="object"){let t="";for(let n in s)t+=n+Ki(s[n]);return t}return s},So=(s,t,n,r,i)=>{let a=Ki(s),o=Zs[a]||(Zs[a]=(N=>{let y=0,b=11;for(;y<N.length;)b=101*b+N.charCodeAt(y++)>>>0;return"go"+b})(a));if(!Zs[o]){let N=a!==s?s:(y=>{let b,h,C=[{}];for(;b=Bo.exec(y.replace(Uo,""));)b[4]?C.shift():b[3]?(h=b[3].replace(Xr," ").trim(),C.unshift(C[0][h]=C[0][h]||{})):C[0][b[1]]=b[2].replace(Xr," ").trim();return C[0]})(s);Zs[o]=at(i?{["@keyframes "+o]:N}:N,n?"":"."+o)}let m=n&&Zs.g?Zs.g:null;return n&&(Zs.g=Zs[o]),((N,y,b,h)=>{h?y.data=y.data.replace(h,N):y.data.indexOf(N)===-1&&(y.data=b?N+y.data:y.data+N)})(Zs[o],t,r,m),o},Po=(s,t,n)=>s.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let m=o(n),N=m&&m.props&&m.props.className||/^go/.test(m)&&m;o=N?"."+N:m&&typeof m=="object"?m.props?"":at(m,""):m===!1?"":m}return r+i+(o??"")},"");function _n(s){let t=this||{},n=s.call?s(t.p):s;return So(n.unshift?n.raw?Po(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Ho(t.target),t.g,t.o,t.k)}let Ji,sr,tr;_n.bind({g:1});let nt=_n.bind({k:1});function Ro(s,t,n,r){at.p=t,Ji=s,sr=n,tr=r}function ct(s,t){let n=this||{};return function(){let r=arguments;function i(a,o){let m=Object.assign({},a),N=m.className||i.className;n.p=Object.assign({theme:sr&&sr()},m),n.o=/ *go\d+/.test(N),m.className=_n.apply(n,r)+(N?" "+N:"");let y=s;return s[0]&&(y=m.as||s,delete m.as),tr&&y[0]&&tr(m),Ji(y,m)}return i}}var Mo=s=>typeof s=="function",hn=(s,t)=>Mo(s)?s(t):s,Io=(()=>{let s=0;return()=>(++s).toString()})(),Qi=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),To=20,xr="default",Xi=(s,t)=>{let{toastLimit:n}=s.settings;switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,n)};case 1:return{...s,toasts:s.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return Xi(s,{type:s.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...s,toasts:s.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let a=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},un=[],Gi={toasts:[],pausedAt:void 0,settings:{toastLimit:To}},zs={},Zi=(s,t=xr)=>{zs[t]=Xi(zs[t]||Gi,s),un.forEach(([n,r])=>{n===t&&r(zs[t])})},ea=s=>Object.keys(zs).forEach(t=>Zi(s,t)),Fo=s=>Object.keys(zs).find(t=>zs[t].toasts.some(n=>n.id===s)),Hn=(s=xr)=>t=>{Zi(t,s)},qo={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Wo=(s={},t=xr)=>{let[n,r]=l.useState(zs[t]||Gi),i=l.useRef(zs[t]);l.useEffect(()=>(i.current!==zs[t]&&r(zs[t]),un.push([t,r]),()=>{let o=un.findIndex(([m])=>m===t);o>-1&&un.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var m,N,y;return{...s,...s[o.type],...o,removeDelay:o.removeDelay||((m=s[o.type])==null?void 0:m.removeDelay)||(s==null?void 0:s.removeDelay),duration:o.duration||((N=s[o.type])==null?void 0:N.duration)||(s==null?void 0:s.duration)||qo[o.type],style:{...s.style,...(y=s[o.type])==null?void 0:y.style,...o.style}}});return{...n,toasts:a}},Oo=(s,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Io()}),Yt=s=>(t,n)=>{let r=Oo(t,s,n);return Hn(r.toasterId||Fo(r.id))({type:2,toast:r}),r.id},Vs=(s,t)=>Yt("blank")(s,t);Vs.error=Yt("error");Vs.success=Yt("success");Vs.loading=Yt("loading");Vs.custom=Yt("custom");Vs.dismiss=(s,t)=>{let n={type:3,toastId:s};t?Hn(t)(n):ea(n)};Vs.dismissAll=s=>Vs.dismiss(void 0,s);Vs.remove=(s,t)=>{let n={type:4,toastId:s};t?Hn(t)(n):ea(n)};Vs.removeAll=s=>Vs.remove(void 0,s);Vs.promise=(s,t,n)=>{let r=Vs.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let a=t.success?hn(t.success,i):void 0;return a?Vs.success(a,{id:r,...n,...n==null?void 0:n.success}):Vs.dismiss(r),i}).catch(i=>{let a=t.error?hn(t.error,i):void 0;a?Vs.error(a,{id:r,...n,...n==null?void 0:n.error}):Vs.dismiss(r)}),s};var $o=1e3,Yo=(s,t="default")=>{let{toasts:n,pausedAt:r}=Wo(s,t),i=l.useRef(new Map).current,a=l.useCallback((h,C=$o)=>{if(i.has(h))return;let k=setTimeout(()=>{i.delete(h),o({type:4,toastId:h})},C);i.set(h,k)},[]);l.useEffect(()=>{if(r)return;let h=Date.now(),C=n.map(k=>{if(k.duration===1/0)return;let z=(k.duration||0)+k.pauseDuration-(h-k.createdAt);if(z<0){k.visible&&Vs.dismiss(k.id);return}return setTimeout(()=>Vs.dismiss(k.id,t),z)});return()=>{C.forEach(k=>k&&clearTimeout(k))}},[n,r,t]);let o=l.useCallback(Hn(t),[t]),m=l.useCallback(()=>{o({type:5,time:Date.now()})},[o]),N=l.useCallback((h,C)=>{o({type:1,toast:{id:h,height:C}})},[o]),y=l.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),b=l.useCallback((h,C)=>{let{reverseOrder:k=!1,gutter:z=8,defaultPosition:E}=C||{},J=n.filter(O=>(O.position||E)===(h.position||E)&&O.height),K=J.findIndex(O=>O.id===h.id),D=J.filter((O,ee)=>ee<K&&O.visible).length;return J.filter(O=>O.visible).slice(...k?[D+1]:[0,D]).reduce((O,ee)=>O+(ee.height||0)+z,0)},[n]);return l.useEffect(()=>{n.forEach(h=>{if(h.dismissed)a(h.id,h.removeDelay);else{let C=i.get(h.id);C&&(clearTimeout(C),i.delete(h.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:N,startPause:m,endPause:y,calculateOffset:b}}},zo=nt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ko=nt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jo=nt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Qo=ct("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zo} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ko} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Jo} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Xo=nt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Go=ct("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${Xo} 1s linear infinite;
`,Zo=nt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,em=nt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sm=ct("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zo} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${em} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tm=ct("div")`
  position: absolute;
`,nm=ct("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rm=nt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,im=ct("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rm} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,am=({toast:s})=>{let{icon:t,type:n,iconTheme:r}=s;return t!==void 0?typeof t=="string"?l.createElement(im,null,t):t:n==="blank"?null:l.createElement(nm,null,l.createElement(Go,{...r}),n!=="loading"&&l.createElement(tm,null,n==="error"?l.createElement(Qo,{...r}):l.createElement(sm,{...r})))},om=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,mm=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,lm="0%{opacity:0;} 100%{opacity:1;}",dm="0%{opacity:1;} 100%{opacity:0;}",cm=ct("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,um=ct("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,pm=(s,t)=>{let n=s.includes("top")?1:-1,[r,i]=Qi()?[lm,dm]:[om(n),mm(n)];return{animation:t?`${nt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nt(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fm=l.memo(({toast:s,position:t,style:n,children:r})=>{let i=s.height?pm(s.position||t||"top-center",s.visible):{opacity:0},a=l.createElement(am,{toast:s}),o=l.createElement(um,{...s.ariaProps},hn(s.message,s));return l.createElement(cm,{className:s.className,style:{...i,...n,...s.style}},typeof r=="function"?r({icon:a,message:o}):l.createElement(l.Fragment,null,a,o))});Ro(l.createElement);var gm=({id:s,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=l.useCallback(o=>{if(o){let m=()=>{let N=o.getBoundingClientRect().height;r(s,N)};m(),new MutationObserver(m).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return l.createElement("div",{ref:a,className:t,style:n},i)},Nm=(s,t)=>{let n=s.includes("top"),r=n?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Qi()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},bm=_n`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gt=16,xm=({reverseOrder:s,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:m})=>{let{toasts:N,handlers:y}=Yo(n,a);return l.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Gt,left:Gt,right:Gt,bottom:Gt,pointerEvents:"none",...o},className:m,onMouseEnter:y.startPause,onMouseLeave:y.endPause},N.map(b=>{let h=b.position||t,C=y.calculateOffset(b,{reverseOrder:s,gutter:r,defaultPosition:t}),k=Nm(h,C);return l.createElement(gm,{id:b.id,key:b.id,onHeightUpdate:y.updateHeight,className:b.visible?bm:"",style:k},b.type==="custom"?hn(b.message,b):i?i(b):l.createElement(fm,{toast:b,position:h}))}))},F=Vs;const Qs=Object.create(null);Qs.open="0";Qs.close="1";Qs.ping="2";Qs.pong="3";Qs.message="4";Qs.upgrade="5";Qs.noop="6";const pn=Object.create(null);Object.keys(Qs).forEach(s=>{pn[Qs[s]]=s});const nr={type:"error",data:"parser error"},sa=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ta=typeof ArrayBuffer=="function",na=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,yr=({type:s,data:t},n,r)=>sa&&t instanceof Blob?n?r(t):Gr(t,r):ta&&(t instanceof ArrayBuffer||na(t))?n?r(t):Gr(new Blob([t]),r):r(Qs[s]+(t||"")),Gr=(s,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(s)};function Zr(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let On;function ym(s,t){if(sa&&s.data instanceof Blob)return s.data.arrayBuffer().then(Zr).then(t);if(ta&&(s.data instanceof ArrayBuffer||na(s.data)))return t(Zr(s.data));yr(s,!1,n=>{On||(On=new TextEncoder),t(On.encode(n))})}const ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<ei.length;s++)_t[ei.charCodeAt(s)]=s;const hm=s=>{let t=s.length*.75,n=s.length,r,i=0,a,o,m,N;s[s.length-1]==="="&&(t--,s[s.length-2]==="="&&t--);const y=new ArrayBuffer(t),b=new Uint8Array(y);for(r=0;r<n;r+=4)a=_t[s.charCodeAt(r)],o=_t[s.charCodeAt(r+1)],m=_t[s.charCodeAt(r+2)],N=_t[s.charCodeAt(r+3)],b[i++]=a<<2|o>>4,b[i++]=(o&15)<<4|m>>2,b[i++]=(m&3)<<6|N&63;return y},km=typeof ArrayBuffer=="function",hr=(s,t)=>{if(typeof s!="string")return{type:"message",data:ra(s,t)};const n=s.charAt(0);return n==="b"?{type:"message",data:Dm(s.substring(1),t)}:pn[n]?s.length>1?{type:pn[n],data:s.substring(1)}:{type:pn[n]}:nr},Dm=(s,t)=>{if(km){const n=hm(s);return ra(n,t)}else return{base64:!0,data:s}},ra=(s,t)=>{switch(t){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},ia="",vm=(s,t)=>{const n=s.length,r=new Array(n);let i=0;s.forEach((a,o)=>{yr(a,!1,m=>{r[o]=m,++i===n&&t(r.join(ia))})})},Vm=(s,t)=>{const n=s.split(ia),r=[];for(let i=0;i<n.length;i++){const a=hr(n[i],t);if(r.push(a),a.type==="error")break}return r};function Cm(){return new TransformStream({transform(s,t){ym(s,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}s.data&&typeof s.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let $n;function Zt(s){return s.reduce((t,n)=>t+n.length,0)}function en(s,t){if(s[0].length===t)return s.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=s[0][r++],r===s[0].length&&(s.shift(),r=0);return s.length&&r<s[0].length&&(s[0]=s[0].slice(r)),n}function Em(s,t){$n||($n=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(o,m){for(n.push(o);;){if(r===0){if(Zt(n)<1)break;const N=en(n,1);a=(N[0]&128)===128,i=N[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Zt(n)<2)break;const N=en(n,2);i=new DataView(N.buffer,N.byteOffset,N.length).getUint16(0),r=3}else if(r===2){if(Zt(n)<8)break;const N=en(n,8),y=new DataView(N.buffer,N.byteOffset,N.length),b=y.getUint32(0);if(b>Math.pow(2,21)-1){m.enqueue(nr);break}i=b*Math.pow(2,32)+y.getUint32(4),r=3}else{if(Zt(n)<i)break;const N=en(n,i);m.enqueue(hr(a?N:$n.decode(N),t)),r=0}if(i===0||i>s){m.enqueue(nr);break}}}})}const aa=4;function hs(s){if(s)return Am(s)}function Am(s){for(var t in hs.prototype)s[t]=hs.prototype[t];return s}hs.prototype.on=hs.prototype.addEventListener=function(s,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(t),this};hs.prototype.once=function(s,t){function n(){this.off(s,n),t.apply(this,arguments)}return n.fn=t,this.on(s,n),this};hs.prototype.off=hs.prototype.removeListener=hs.prototype.removeAllListeners=hs.prototype.removeEventListener=function(s,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+s];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+s],this};hs.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+s],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};hs.prototype.emitReserved=hs.prototype.emit;hs.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};hs.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Bn=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ps=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wm="arraybuffer";function oa(s,...t){return t.reduce((n,r)=>(s.hasOwnProperty(r)&&(n[r]=s[r]),n),{})}const jm=Ps.setTimeout,Lm=Ps.clearTimeout;function Un(s,t){t.useNativeTimers?(s.setTimeoutFn=jm.bind(Ps),s.clearTimeoutFn=Lm.bind(Ps)):(s.setTimeoutFn=Ps.setTimeout.bind(Ps),s.clearTimeoutFn=Ps.clearTimeout.bind(Ps))}const _m=1.33;function Hm(s){return typeof s=="string"?Bm(s):Math.ceil((s.byteLength||s.size)*_m)}function Bm(s){let t=0,n=0;for(let r=0,i=s.length;r<i;r++)t=s.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function ma(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Um(s){let t="";for(let n in s)s.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(s[n]));return t}function Sm(s){let t={},n=s.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Pm extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class kr extends hs{constructor(t){super(),this.writable=!1,Un(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Pm(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=hr(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Um(t);return n.length?"?"+n:""}}class Rm extends kr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Vm(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,vm(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=ma()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let la=!1;try{la=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Mm=la;function Im(){}class Tm extends Rm{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Js extends hs{constructor(t,n,r){super(),this.createRequest=t,Un(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=oa(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Js.requestsCount++,Js.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Im,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Js.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Js.requestsCount=0;Js.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",si);else if(typeof addEventListener=="function"){const s="onpagehide"in Ps?"pagehide":"unload";addEventListener(s,si,!1)}}function si(){for(let s in Js.requests)Js.requests.hasOwnProperty(s)&&Js.requests[s].abort()}const Fm=function(){const s=da({xdomain:!1});return s&&s.responseType!==null}();class qm extends Tm{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Fm&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Js(da,this.uri(),t)}}function da(s){const t=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Mm))return new XMLHttpRequest}catch{}if(!t)try{return new Ps[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ca=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Wm extends kr{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=ca?{}:oa(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;yr(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&Bn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=ma()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Yn=Ps.WebSocket||Ps.MozWebSocket;class Om extends Wm{createSocket(t,n,r){return ca?new Yn(t,n,r):n?new Yn(t,n):new Yn(t)}doWrite(t,n){this.ws.send(n)}}class $m extends kr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Em(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=Cm();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:m,value:N})=>{m||(this.onPacket(N),a())}).catch(m=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&Bn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Ym={websocket:Om,webtransport:$m,polling:qm},zm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Km=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rr(s){if(s.length>8e3)throw"URI too long";const t=s,n=s.indexOf("["),r=s.indexOf("]");n!=-1&&r!=-1&&(s=s.substring(0,n)+s.substring(n,r).replace(/:/g,";")+s.substring(r,s.length));let i=zm.exec(s||""),a={},o=14;for(;o--;)a[Km[o]]=i[o]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Jm(a,a.path),a.queryKey=Qm(a,a.query),a}function Jm(s,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Qm(s,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}const ir=typeof addEventListener=="function"&&typeof removeEventListener=="function",fn=[];ir&&addEventListener("offline",()=>{fn.forEach(s=>s())},!1);class lt extends hs{constructor(t,n){if(super(),this.binaryType=wm,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=rr(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=rr(n.host).host);Un(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Sm(this.opts.query)),ir&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fn.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=aa,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&lt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",lt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Hm(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Bn(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(lt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ir&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=fn.indexOf(this._offlineEventListener);r!==-1&&fn.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}lt.protocol=aa;class Xm extends lt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;lt.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;lt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(b(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const C=new Error("probe error");C.transport=n.name,this.emitReserved("upgradeError",C)}}))};function a(){r||(r=!0,b(),n.close(),n=null)}const o=h=>{const C=new Error("probe error: "+h);C.transport=n.name,a(),this.emitReserved("upgradeError",C)};function m(){o("transport closed")}function N(){o("socket closed")}function y(h){n&&h.name!==n.name&&a()}const b=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",m),this.off("close",N),this.off("upgrading",y)};n.once("open",i),n.once("error",o),n.once("close",m),this.once("close",N),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Gm=class extends Xm{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Ym[i]).filter(i=>!!i)),super(t,r)}};function Zm(s,t="",n){let r=s;n=n||typeof location<"u"&&location,s==null&&(s=n.protocol+"//"+n.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=n.protocol+s:s=n.host+s),/^(https?|wss?):\/\//.test(s)||(typeof n<"u"?s=n.protocol+"//"+s:s="https://"+s),r=rr(s)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const el=typeof ArrayBuffer=="function",sl=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,ua=Object.prototype.toString,tl=typeof Blob=="function"||typeof Blob<"u"&&ua.call(Blob)==="[object BlobConstructor]",nl=typeof File=="function"||typeof File<"u"&&ua.call(File)==="[object FileConstructor]";function Dr(s){return el&&(s instanceof ArrayBuffer||sl(s))||tl&&s instanceof Blob||nl&&s instanceof File}function gn(s,t){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let n=0,r=s.length;n<r;n++)if(gn(s[n]))return!0;return!1}if(Dr(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return gn(s.toJSON(),!0);for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&gn(s[n]))return!0;return!1}function rl(s){const t=[],n=s.data,r=s;return r.data=ar(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ar(s,t){if(!s)return s;if(Dr(s)){const n={_placeholder:!0,num:t.length};return t.push(s),n}else if(Array.isArray(s)){const n=new Array(s.length);for(let r=0;r<s.length;r++)n[r]=ar(s[r],t);return n}else if(typeof s=="object"&&!(s instanceof Date)){const n={};for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=ar(s[r],t));return n}return s}function il(s,t){return s.data=or(s.data,t),delete s.attachments,s}function or(s,t){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<t.length)return t[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let n=0;n<s.length;n++)s[n]=or(s[n],t);else if(typeof s=="object")for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(s[n]=or(s[n],t));return s}const al=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ol=5;var as;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(as||(as={}));class ml{constructor(t){this.replacer=t}encode(t){return(t.type===as.EVENT||t.type===as.ACK)&&gn(t)?this.encodeAsBinary({type:t.type===as.EVENT?as.BINARY_EVENT:as.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===as.BINARY_EVENT||t.type===as.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=rl(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function ti(s){return Object.prototype.toString.call(s)==="[object Object]"}class vr extends hs{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===as.BINARY_EVENT;r||n.type===as.BINARY_ACK?(n.type=r?as.EVENT:as.ACK,this.reconstructor=new ll(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Dr(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(as[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===as.BINARY_EVENT||r.type===as.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(a,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(vr.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case as.CONNECT:return ti(n);case as.DISCONNECT:return n===void 0;case as.CONNECT_ERROR:return typeof n=="string"||ti(n);case as.EVENT:case as.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&al.indexOf(n[0])===-1);case as.ACK:case as.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ll{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=il(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const dl=Object.freeze(Object.defineProperty({__proto__:null,Decoder:vr,Encoder:ml,get PacketType(){return as},protocol:ol},Symbol.toStringTag,{value:"Module"}));function Is(s,t,n){return s.on(t,n),function(){s.off(t,n)}}const cl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class pa extends hs{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Is(t,"open",this.onopen.bind(this)),Is(t,"packet",this.onpacket.bind(this)),Is(t,"error",this.onerror.bind(this)),Is(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,a;if(cl.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:as.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const b=this.ids++,h=n.pop();this._registerAckCallback(b,h),o.id=b}const m=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,N=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!m||(N?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===t&&this.sendBuffer.splice(m,1);n.call(this,new Error("operation has timed out"))},i),o=(...m)=>{this.io.clearTimeoutFn(a),n.apply(this,m)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,i)=>{const a=(o,m)=>o?i(o):r(m);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:as.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case as.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case as.EVENT:case as.BINARY_EVENT:this.onevent(t);break;case as.ACK:case as.BINARY_ACK:this.onack(t);break;case as.DISCONNECT:this.ondisconnect();break;case as.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:as.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:as.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Dt(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Dt.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*s);s=Math.floor(t*10)&1?s+n:s-n}return Math.min(s,this.max)|0};Dt.prototype.reset=function(){this.attempts=0};Dt.prototype.setMin=function(s){this.ms=s};Dt.prototype.setMax=function(s){this.max=s};Dt.prototype.setJitter=function(s){this.jitter=s};class mr extends hs{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Un(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Dt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||dl;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Gm(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Is(n,"open",function(){r.onopen(),t&&t()}),a=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),t?t(m):this.maybeReconnectOnOpen()},o=Is(n,"error",a);if(this._timeout!==!1){const m=this._timeout,N=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},m);this.opts.autoUnref&&N.unref(),this.subs.push(()=>{this.clearTimeoutFn(N)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Is(t,"ping",this.onping.bind(this)),Is(t,"data",this.ondata.bind(this)),Is(t,"error",this.onerror.bind(this)),Is(t,"close",this.onclose.bind(this)),Is(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Bn(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new pa(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const wt={};function Nn(s,t){typeof s=="object"&&(t=s,s=void 0),t=t||{};const n=Zm(s,t.path||"/socket.io"),r=n.source,i=n.id,a=n.path,o=wt[i]&&a in wt[i].nsps,m=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let N;return m?N=new mr(r,t):(wt[i]||(wt[i]=new mr(r,t)),N=wt[i]),n.query&&!t.query&&(t.query=n.queryKey),N.socket(n.path,t)}Object.assign(Nn,{Manager:mr,Socket:pa,io:Nn,connect:Nn});const ul="modulepreload",pl=function(s){return"/"+s},ni={},fl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),m=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(N=>{if(N=pl(N),N in ni)return;ni[N]=!0;const y=N.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${N}"]${b}`))return;const h=document.createElement("link");if(h.rel=y?"stylesheet":ul,y||(h.as="script"),h.crossOrigin="",h.href=N,m&&h.setAttribute("nonce",m),document.head.appendChild(h),y)return new Promise((C,k)=>{h.addEventListener("load",C),h.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${N}`)))})}))}function a(o){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=o,window.dispatchEvent(m),!m.defaultPrevented)throw o}return i.then(o=>{for(const m of o||[])m.status==="rejected"&&a(m.reason);return t().catch(a)})};function gl(s={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=s;let m,N,y;const b=async(C=!0)=>{await N,await(y==null?void 0:y())};async function h(){if("serviceWorker"in navigator){if(m=await fl(async()=>{const{Workbox:C}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:C}},[]).then(({Workbox:C})=>new C("/sw.js",{scope:"/",type:"classic"})).catch(C=>{o==null||o(C)}),!m)return;y=async()=>{await(m==null?void 0:m.messageSkipWaiting())};{let C=!1;const k=()=>{C=!0,m==null||m.addEventListener("controlling",z=>{z.isUpdate&&window.location.reload()}),n==null||n()};m.addEventListener("installed",z=>{typeof z.isUpdate>"u"?typeof z.isExternal<"u"?z.isExternal?k():!C&&(r==null||r()):z.isExternal?window.location.reload():!C&&(r==null||r()):z.isUpdate||r==null||r()}),m.addEventListener("waiting",k),m.addEventListener("externalwaiting",k)}m.register({immediate:t}).then(C=>{a?a("/sw.js",C):i==null||i(C)}).catch(C=>{o==null||o(C)})}}return N=h(),b}const Nl="/api",ve=no.create({baseURL:Nl,headers:{"Content-Type":"application/json"}});ve.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));ve.interceptors.response.use(s=>s,s=>{var t;return((t=s.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(s)});const fa=l.createContext(void 0);function bl({children:s}){const[t,n]=l.useState(null),[r,i]=l.useState(!0),a=Ti();l.useEffect(()=>{o()},[]);const o=async()=>{try{const b=localStorage.getItem("token");if(!b){i(!1);return}ve.defaults.headers.common.Authorization=`Bearer ${b}`;const h=await ve.get("/auth/me");h.data.success&&n(h.data.user)}catch{localStorage.removeItem("token"),delete ve.defaults.headers.common.Authorization}finally{i(!1)}},m=async(b,h)=>{var C,k;try{const z=await ve.post("/auth/login",{username:b,password:h}),{token:E,user:J}=z.data;localStorage.setItem("token",E),ve.defaults.headers.common.Authorization=`Bearer ${E}`,n(J),F.success(`${J.name}, !`),a("/")}catch(z){const E=z;throw F.error(((k=(C=E.response)==null?void 0:C.data)==null?void 0:k.message)||" "),z}},N=()=>{localStorage.removeItem("token"),delete ve.defaults.headers.common.Authorization,n(null),a("/login"),F.success("")},y=b=>{n(b)};return e.jsxDEV(fa.Provider,{value:{user:t,loading:r,login:m,logout:N,updateUser:y},children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/contexts/AuthContext.tsx",lineNumber:88,columnNumber:5},this)}function js(){const s=l.useContext(fa);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const xl={};function yl(s,t){let n;try{n=s()}catch{return}return{getItem:i=>{var a;const o=N=>N===null?null:JSON.parse(N,void 0),m=(a=n.getItem(i))!=null?a:null;return m instanceof Promise?m.then(o):o(m)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const qt=s=>t=>{try{const n=s(t);return n instanceof Promise?n:{then(r){return qt(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return qt(r)(n)}}}},hl=(s,t)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:J=>J,version:0,merge:(J,K)=>({...K,...J}),...t},o=!1;const m=new Set,N=new Set;let y;try{y=a.getStorage()}catch{}if(!y)return s((...J)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...J)},r,i);const b=qt(a.serialize),h=()=>{const J=a.partialize({...r()});let K;const D=b({state:J,version:a.version}).then(O=>y.setItem(a.name,O)).catch(O=>{K=O});if(K)throw K;return D},C=i.setState;i.setState=(J,K)=>{C(J,K),h()};const k=s((...J)=>{n(...J),h()},r,i);let z;const E=()=>{var J;if(!y)return;o=!1,m.forEach(D=>D(r()));const K=((J=a.onRehydrateStorage)==null?void 0:J.call(a,r()))||void 0;return qt(y.getItem.bind(y))(a.name).then(D=>{if(D)return a.deserialize(D)}).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==a.version){if(a.migrate)return a.migrate(D.state,D.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return D.state}).then(D=>{var O;return z=a.merge(D,(O=r())!=null?O:k),n(z,!0),h()}).then(()=>{K==null||K(z,void 0),o=!0,N.forEach(D=>D(z))}).catch(D=>{K==null||K(void 0,D)})};return i.persist={setOptions:J=>{a={...a,...J},J.getStorage&&(y=J.getStorage())},clearStorage:()=>{y==null||y.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>E(),hasHydrated:()=>o,onHydrate:J=>(m.add(J),()=>{m.delete(J)}),onFinishHydration:J=>(N.add(J),()=>{N.delete(J)})},E(),z||k},kl=(s,t)=>(n,r,i)=>{let a={storage:yl(()=>localStorage),partialize:E=>E,version:0,merge:(E,J)=>({...J,...E}),...t},o=!1;const m=new Set,N=new Set;let y=a.storage;if(!y)return s((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...E)},r,i);const b=()=>{const E=a.partialize({...r()});return y.setItem(a.name,{state:E,version:a.version})},h=i.setState;i.setState=(E,J)=>{h(E,J),b()};const C=s((...E)=>{n(...E),b()},r,i);i.getInitialState=()=>C;let k;const z=()=>{var E,J;if(!y)return;o=!1,m.forEach(D=>{var O;return D((O=r())!=null?O:C)});const K=((J=a.onRehydrateStorage)==null?void 0:J.call(a,(E=r())!=null?E:C))||void 0;return qt(y.getItem.bind(y))(a.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==a.version){if(a.migrate)return[!0,a.migrate(D.state,D.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var O;const[ee,Z]=D;if(k=a.merge(Z,(O=r())!=null?O:C),n(k,!0),ee)return b()}).then(()=>{K==null||K(k,void 0),k=r(),o=!0,N.forEach(D=>D(k))}).catch(D=>{K==null||K(void 0,D)})};return i.persist={setOptions:E=>{a={...a,...E},E.storage&&(y=E.storage)},clearStorage:()=>{y==null||y.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>z(),hasHydrated:()=>o,onHydrate:E=>(m.add(E),()=>{m.delete(E)}),onFinishHydration:E=>(N.add(E),()=>{N.delete(E)})},a.skipHydration||z(),k||C},Dl=(s,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((xl?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),hl(s,t)):kl(s,t),ga=Dl,Na=Fi()(ga((s,t)=>({notifications:[],unreadCount:0,addNotification:n=>{const r={...n,id:Date.now().toString()+Math.random().toString(36).substr(2,9),read:!1,createdAt:new Date};s(i=>({notifications:[r,...i.notifications].slice(0,50),unreadCount:i.unreadCount+1}))},markAsRead:n=>{s(r=>({notifications:r.notifications.map(i=>i.id===n?{...i,read:!0}:i),unreadCount:Math.max(0,r.unreadCount-1)}))},markAllAsRead:()=>{s(n=>({notifications:n.notifications.map(r=>({...r,read:!0})),unreadCount:0}))},deleteNotification:n=>{s(r=>{const i=r.notifications.find(o=>o.id===n),a=i&&!i.read;return{notifications:r.notifications.filter(o=>o.id!==n),unreadCount:a?Math.max(0,r.unreadCount-1):r.unreadCount}})},clearAll:()=>{s({notifications:[],unreadCount:0})},getUnreadCount:()=>t().unreadCount}),{name:"notification-storage",partialize:s=>({notifications:s.notifications,unreadCount:s.unreadCount})}));var vl={lessThanXSeconds:{one:"1 ",other:"{{count}} "},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1 ",other:"{{count}} "},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:" 1",other:" {{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:" 1",other:" {{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:" 1",other:" {{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:" 1",other:" {{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1 ",other:"{{count}} "},almostXYears:{one:" 1",other:" {{count}}"}},Vl=function(t,n,r){var i,a=vl[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?i+" ":i+" ":i},Cl={full:"y M d EEEE",long:"y M d",medium:"y.MM.dd",short:"y.MM.dd"},El={full:"a H mm ss zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Al={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},wl={date:Wn({formats:Cl,defaultWidth:"full"}),time:Wn({formats:El,defaultWidth:"full"}),dateTime:Wn({formats:Al,defaultWidth:"full"})},jl={lastWeek:"'' eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"'' eeee p",other:"P"},Ll=function(t,n,r,i){return jl[t]},_l={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["",""]},Hl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},Bl={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},Ul={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Sl={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Pl={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Rl=function(t,n){var r=Number(t),i=String(n==null?void 0:n.unit);switch(i){case"minute":case"second":return String(r);case"date":return r+"";default:return r+""}},Ml={ordinalNumber:Rl,era:Et({values:_l,defaultWidth:"wide"}),quarter:Et({values:Hl,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Et({values:Bl,defaultWidth:"wide"}),day:Et({values:Ul,defaultWidth:"wide"}),dayPeriod:Et({values:Sl,defaultWidth:"wide",formattingValues:Pl,defaultFormattingWidth:"wide"})},Il=/^(\d+)(|)?/i,Tl=/\d+/i,Fl={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(|)/i},ql={any:[/^(bc|)/i,/^(ad|)/i]},Wl={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]?/i},Ol={any:[/1/i,/2/i,/3/i,/4/i]},$l={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])/i,wide:/^(1[012]|[123456789])/i},Yl={any:[/^1?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},zl={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},Kl={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},Jl={any:/^(am|pm|||||||)/i},Ql={any:{am:/^(am|)/i,pm:/^(pm|)/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},Xl={ordinalNumber:Co({matchPattern:Il,parsePattern:Tl,valueCallback:function(t){return parseInt(t,10)}}),era:At({matchPatterns:Fl,defaultMatchWidth:"wide",parsePatterns:ql,defaultParseWidth:"any"}),quarter:At({matchPatterns:Wl,defaultMatchWidth:"wide",parsePatterns:Ol,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:At({matchPatterns:$l,defaultMatchWidth:"wide",parsePatterns:Yl,defaultParseWidth:"any"}),day:At({matchPatterns:zl,defaultMatchWidth:"wide",parsePatterns:Kl,defaultParseWidth:"any"}),dayPeriod:At({matchPatterns:Jl,defaultMatchWidth:"any",parsePatterns:Ql,defaultParseWidth:"any"})},ms={code:"ko",formatDistance:Vl,formatLong:wl,formatRelative:Ll,localize:Ml,match:Xl,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Gl=({isOpen:s,onClose:t})=>{const n=Ti(),{notifications:r,unreadCount:i,markAsRead:a,markAllAsRead:o,deleteNotification:m,clearAll:N}=Na();if(!s)return null;const y=C=>{switch(C){case"payment":return e.jsxDEV(mo,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:21,columnNumber:16},void 0);case"as_request":return e.jsxDEV(oo,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:23,columnNumber:16},void 0);case"schedule":return e.jsxDEV(ht,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:25,columnNumber:16},void 0);case"work_request":return e.jsxDEV(ao,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:27,columnNumber:16},void 0);default:return e.jsxDEV(qn,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:29,columnNumber:16},void 0)}},b=C=>{switch(C){case"payment":return"text-green-600 bg-green-50";case"as_request":return"text-yellow-600 bg-yellow-50";case"schedule":return"text-blue-600 bg-blue-50";case"work_request":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},h=C=>{a(C.id),C.link&&(n(C.link),t())};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:t},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:59,columnNumber:7},void 0),e.jsxDEV("div",{className:"fixed right-0 top-16 h-[calc(100vh-4rem)] w-full sm:w-96 bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(qn,{className:"h-5 w-5 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:70,columnNumber:13},void 0),i>0&&e.jsxDEV("span",{className:"px-2 py-0.5 bg-gray-900 text-white text-xs font-bold rounded-full",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:72,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:68,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ns,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:77,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:67,columnNumber:9},void 0),r.length>0&&e.jsxDEV("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[i>0&&e.jsxDEV("button",{onClick:o,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-gray-900",children:[e.jsxDEV(qi,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:93,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:89,columnNumber:15},void 0),e.jsxDEV("button",{onClick:N,className:"flex items-center gap-1 text-xs text-gray-600 hover:text-red-600 ml-auto",children:[e.jsxDEV(gs,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:101,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:97,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:87,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:r.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[e.jsxDEV(qn,{className:"h-12 w-12 text-gray-300 mb-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:111,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:112,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:110,columnNumber:13},void 0):e.jsxDEV("div",{className:"divide-y divide-gray-100",children:r.map(C=>e.jsxDEV("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${C.read?"":"bg-blue-50"}`,onClick:()=>h(C),children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${b(C.type)}`,children:y(C.type)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:126,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("p",{className:`text-sm font-semibold ${C.read?"text-gray-700":"text-gray-900"}`,children:C.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:133,columnNumber:25},void 0),!C.read&&e.jsxDEV("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:137,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:132,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:C.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:140,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:Eo(new Date(C.createdAt),{addSuffix:!0,locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:143,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("button",{onClick:k=>{k.stopPropagation(),m(C.id)},className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded transition-colors",children:e.jsxDEV(ns,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:159,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:152,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:124,columnNumber:19},void 0)},C.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:117,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:115,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:108,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:65,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/NotificationPanel.tsx",lineNumber:57,columnNumber:5},void 0)},rt={getAllWorkRequests:async()=>(await ve.get("/workrequests")).data,getWorkRequestById:async s=>(await ve.get(`/workrequests/${s}`)).data,createWorkRequest:async s=>{console.log("[workRequestService.createWorkRequest] Input data:",s);const t={project:s.project,requestType:s.requestType,description:s.description,requestDate:s.requestDate instanceof Date?s.requestDate.toISOString():s.requestDate,dueDate:s.dueDate instanceof Date?s.dueDate.toISOString():s.dueDate,requestedBy:s.requestedBy,assignedTo:s.assignedTo,priority:s.priority||"medium",status:s.status||"pending",notes:s.notes||""};return console.log("[workRequestService.createWorkRequest] Sending to backend:",t),(await ve.post("/workrequests",t)).data},updateWorkRequest:async(s,t)=>{console.log("[workRequestService.updateWorkRequest] Input data:",t);const n={};return t.project!==void 0&&(n.project=t.project),t.requestType!==void 0&&(n.requestType=t.requestType),t.description!==void 0&&(n.description=t.description),t.requestDate!==void 0&&(n.requestDate=t.requestDate instanceof Date?t.requestDate.toISOString():t.requestDate),t.dueDate!==void 0&&(n.dueDate=t.dueDate instanceof Date?t.dueDate.toISOString():t.dueDate),t.requestedBy!==void 0&&(n.requestedBy=t.requestedBy),t.assignedTo!==void 0&&(n.assignedTo=t.assignedTo),t.priority!==void 0&&(n.priority=t.priority),t.status!==void 0&&(n.status=t.status),t.notes!==void 0&&(n.notes=t.notes),t.completedDate!==void 0&&(n.completedDate=t.completedDate instanceof Date?t.completedDate.toISOString():t.completedDate),console.log("[workRequestService.updateWorkRequest] Sending to backend:",n),(await ve.put(`/workrequests/${s}`,n)).data},deleteWorkRequest:async s=>{await ve.delete(`/workrequests/${s}`)}},ut={getAllPayments:async()=>(await ve.get("/payments")).data,getPaymentById:async s=>(await ve.get(`/payments/${s}`)).data,createPayment:async s=>{var r,i,a;const t={project_id:s.projectId,request_type:s.category,vendor_name:s.process||"",description:s.purpose||"",amount:s.amount,account_holder:((r=s.bankInfo)==null?void 0:r.accountHolder)||"",bank_name:((i=s.bankInfo)==null?void 0:i.bankName)||"",account_number:((a=s.bankInfo)==null?void 0:a.accountNumber)||"",notes:s.notes||"",itemName:s.itemName||"",materialAmount:s.materialAmount||0,laborAmount:s.laborAmount||0,originalMaterialAmount:s.originalMaterialAmount||0,originalLaborAmount:s.originalLaborAmount||0,applyTaxDeduction:s.applyTaxDeduction||!1,includesVAT:s.includesVAT||!1,quickText:s.quickText||"",images:s.images||[]};return console.log("[paymentService.createPayment] Sending to backend:",t),(await ve.post("/payments",t)).data},updatePayment:async(s,t)=>{const n={};return t.projectId!==void 0&&(n.project=t.projectId),t.purpose!==void 0&&(n.description=t.purpose),t.amount!==void 0&&(n.amount=t.amount),t.process!==void 0&&(n.vendor_name=t.process),t.category!==void 0&&(n.request_type=t.category),t.itemName!==void 0&&(n.itemName=t.itemName),t.materialAmount!==void 0&&(n.materialAmount=t.materialAmount),t.laborAmount!==void 0&&(n.laborAmount=t.laborAmount),t.originalMaterialAmount!==void 0&&(n.originalMaterialAmount=t.originalMaterialAmount),t.originalLaborAmount!==void 0&&(n.originalLaborAmount=t.originalLaborAmount),t.applyTaxDeduction!==void 0&&(n.applyTaxDeduction=t.applyTaxDeduction),t.includesVAT!==void 0&&(n.includesVAT=t.includesVAT),t.notes!==void 0&&(n.notes=t.notes),t.requestDate!==void 0&&(n.requestDate=t.requestDate),t.bankInfo!==void 0&&(t.bankInfo.accountHolder&&(n.account_holder=t.bankInfo.accountHolder),t.bankInfo.bankName&&(n.bank_name=t.bankInfo.bankName),t.bankInfo.accountNumber&&(n.account_number=t.bankInfo.accountNumber)),(await ve.put(`/payments/${s}`,n)).data},updatePaymentStatus:async(s,t)=>(await ve.put(`/payments/${s}/status`,{status:t})).data,updatePaymentAmounts:async(s,t,n)=>(await ve.patch(`/payments/${s}/amounts`,{materialAmount:t,laborAmount:n})).data,deletePayment:async s=>{await ve.delete(`/payments/${s}`)}},Ht={getAllASRequests:async()=>(await ve.get("/as-requests")).data,getASRequestById:async s=>(await ve.get(`/as-requests/${s}`)).data,createASRequest:async s=>(await ve.post("/as-requests",s)).data,updateASRequest:async(s,t)=>(await ve.put(`/as-requests/${s}`,t)).data,deleteASRequest:async s=>{await ve.delete(`/as-requests/${s}`)}},Zl=()=>{var be,we;const{user:s,logout:t,loading:n}=js(),[r,i]=l.useState(!1),[a,o]=l.useState(!1),[m,N]=l.useState(!1),y=Za(),{unreadCount:b}=Na(),[h,C]=l.useState(0),[k,z]=l.useState(0),[E,J]=l.useState(0),[K,D]=l.useState(0),[O,ee]=l.useState(!1),[Z,U]=l.useState(0),[Y,G]=l.useState(!1),le=l.useRef(0),de=l.useRef(null),ke=80,se=l.useCallback(Ne=>{window.scrollY===0&&window.innerWidth<768&&(le.current=Ne.touches[0].clientY,ee(!0))},[]),ue=l.useCallback(Ne=>{if(!O||Y)return;const He=Ne.touches[0].clientY-le.current;if(He>0&&window.scrollY===0){const Le=Math.min(He*.5,120);U(Le)}},[O,Y]),oe=l.useCallback(()=>{O&&(Z>=ke&&!Y?(G(!0),U(50),setTimeout(()=>{window.location.reload()},300)):U(0),ee(!1))},[O,Z,Y]);if(l.useEffect(()=>{N(!1)},[y.pathname]),l.useEffect(()=>{const Ne=Ae=>{N(Ae.detail.isOpen)};return window.addEventListener("mobileFormStateChange",Ne),()=>window.removeEventListener("mobileFormStateChange",Ne)},[]),l.useEffect(()=>{const Ne=()=>{D(Ae=>Math.max(0,Ae-1))};return window.addEventListener("quoteInquiryRead",Ne),()=>window.removeEventListener("quoteInquiryRead",Ne)},[]),l.useEffect(()=>{if(!s)return;const Ne=async()=>{try{const[He,Le,Se]=await Promise.all([rt.getAllWorkRequests(),ut.getAllPayments(),Ht.getAllASRequests()]);if(C(He.filter(P=>P.assignedTo===s.name&&P.status==="pending").length),z(Le.filter(P=>P.status==="pending").length),J(Se.filter(P=>P.status==="in-progress").length),s.role==="admin"||s.role==="manager")try{const I=(await ve.get("/quote-inquiries")).data.filter(M=>!M.isRead).length;D(I)}catch(P){console.error("Failed to load quote inquiry count:",P)}}catch(He){console.error("Failed to load badge counts:",He)}};Ne();const Ae=setInterval(Ne,3e4);return()=>clearInterval(Ae)},[s]),n)return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:154,columnNumber:11},void 0),e.jsxDEV("p",{className:"mt-4 text-gray-600",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:155,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:153,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:152,columnNumber:7},void 0);if(!s)return e.jsxDEV(Ln,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:163,columnNumber:12},void 0);const Ve=[{name:"",href:"/dashboard"},{name:"",href:"/projects"},{name:"",href:"/schedule"},{name:"",href:"/drawings"},{name:"",href:"/site-log"},{name:"",href:"/additional-work"},{name:"",href:"/construction-payment",roles:["admin","manager"]},{name:"",href:"/work-request",...h>0&&{badge:h}},{name:"",href:"/specbook"},{name:"",href:"/finish-check"},{name:"",href:"/execution-history"},{name:"",href:"/payments",...k>0&&{badge:k}},{name:"AS ",href:"/after-service",...E>0&&{badge:E}},{name:"",href:"/estimate-preview",roles:["admin","manager"]},{name:"",href:"/quote-inquiry",roles:["admin","manager"],...K>0&&{badge:K}},{name:"",href:"/contractors"}],Ee=Ve.filter(Ne=>!Ne.roles||Ne.roles.includes((s==null?void 0:s.role)||"")),je=((be=Ve.find(Ne=>Ne.href===y.pathname))==null?void 0:be.name)||"",re=(()=>{const Ne=y.pathname;return["/projects","/schedule","/after-service","/additional-work","/construction-payment","/contractors","/work-request"].includes(Ne)?()=>{const He=new CustomEvent("headerAddButtonClick");window.dispatchEvent(He)}:null})();return e.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[e.jsxDEV("div",{className:ws("fixed inset-0 z-40 lg:hidden",r?"block":"hidden"),children:[e.jsxDEV("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50",onClick:()=>i(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:230,columnNumber:9},void 0),e.jsxDEV("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[e.jsxDEV("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:236,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>i(!1),className:"text-sm text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:237,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:235,columnNumber:11},void 0),e.jsxDEV("nav",{className:"flex-1 space-y-1 px-4 py-4",children:Ee.map(Ne=>e.jsxDEV(Fn,{to:Ne.href,className:({isActive:Ae})=>ws("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",Ae?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),onClick:()=>i(!1),children:e.jsxDEV("span",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:Ne.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:260,columnNumber:19},void 0),Ne.badge&&Ne.badge>0&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:Ne.badge>99?"99+":Ne.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:262,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:259,columnNumber:17},void 0)},Ne.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:246,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:244,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-4 py-4",children:e.jsxDEV("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:271,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:224,columnNumber:7},void 0),e.jsxDEV("div",{className:"desktop-sidebar hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:e.jsxDEV("div",{className:"flex flex-col bg-white border-r border-gray-200",children:[e.jsxDEV("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:285,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:284,columnNumber:11},void 0),e.jsxDEV("nav",{className:"flex-1 space-y-1 px-4 py-4",children:Ee.map(Ne=>e.jsxDEV(Fn,{to:Ne.href,className:({isActive:Ae})=>ws("block px-4 py-3 text-sm font-medium border-l-2 transition-colors relative",Ae?"border-gray-900 bg-gray-50 text-gray-900":"border-transparent text-gray-600 hover:border-gray-400 hover:bg-gray-50"),children:e.jsxDEV("span",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:Ne.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:302,columnNumber:19},void 0),Ne.badge&&Ne.badge>0&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:Ne.badge>99?"99+":Ne.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:304,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:301,columnNumber:17},void 0)},Ne.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:289,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:287,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-4 py-4",children:e.jsxDEV("button",{onClick:t,className:"w-full px-4 py-3 text-sm font-medium text-gray-600 hover:bg-gray-50 text-left",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:313,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:312,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:283,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:282,columnNumber:7},void 0),e.jsxDEV("div",{className:"main-content lg:pl-64",children:[e.jsxDEV("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("button",{onClick:()=>i(!0),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 -ml-2","aria-label":" ",children:e.jsxDEV("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:336,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:335,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:330,columnNumber:15},void 0),je&&e.jsxDEV("h1",{className:"text-lg font-bold text-gray-900",children:je},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:340,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:329,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2 sm:space-x-6 ml-auto",children:[re&&e.jsxDEV("button",{onClick:re,className:"lg:hidden p-2 text-gray-900 hover:text-gray-700","aria-label":m?"":"",children:m?e.jsxDEV(ns,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:353,columnNumber:37},void 0):e.jsxDEV(Ks,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:353,columnNumber:65},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>o(!a),className:"hidden sm:block relative p-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"",children:[e.jsxDEV("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:363,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:362,columnNumber:17},void 0),b>0&&e.jsxDEV("span",{className:"absolute top-1 right-1 flex items-center justify-center h-4 w-4 bg-red-600 text-white text-[10px] font-bold rounded-full",children:b>9?"9+":b},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:357,columnNumber:15},void 0),e.jsxDEV("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:373,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:s==null?void 0:s.role},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:374,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:372,columnNumber:17},void 0),e.jsxDEV("div",{className:"h-8 w-8 sm:h-9 sm:w-9 bg-gray-900 text-white flex items-center justify-center text-xs font-bold rounded-full",children:(we=s==null?void 0:s.name)==null?void 0:we.substring(0,1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:376,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:371,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:345,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:327,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:326,columnNumber:9},void 0),e.jsxDEV("div",{className:"portrait-top-nav hidden",children:e.jsxDEV("div",{className:"flex items-center gap-1 px-2 py-2 bg-white border-b border-gray-200 overflow-x-auto",children:Ee.map(Ne=>e.jsxDEV(Fn,{to:Ne.href,className:({isActive:Ae})=>ws("px-3 py-1.5 text-sm font-medium rounded-full whitespace-nowrap transition-colors relative",Ae?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"),children:e.jsxDEV("span",{className:"flex items-center gap-1",children:[e.jsxDEV("span",{children:Ne.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:401,columnNumber:19},void 0),Ne.badge&&Ne.badge>0&&e.jsxDEV("span",{className:"inline-flex items-center justify-center min-w-[18px] h-[18px] px-1 text-[10px] font-bold leading-none text-white bg-red-600 rounded-full",children:Ne.badge>99?"99+":Ne.badge},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:403,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:400,columnNumber:17},void 0)},Ne.name,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:388,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:386,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:385,columnNumber:9},void 0),e.jsxDEV("main",{ref:de,className:"py-[10px] md:py-6 lg:py-8",onTouchStart:se,onTouchMove:ue,onTouchEnd:oe,children:[Z>0&&e.jsxDEV("div",{className:"md:hidden fixed left-0 right-0 flex items-center justify-center z-50 pointer-events-none",style:{top:56,height:Z,transition:O?"none":"height 0.2s ease-out"},children:e.jsxDEV("div",{className:ws("flex items-center justify-center w-10 h-10 bg-white rounded-full shadow-lg border",Y&&"animate-spin"),style:{transform:`rotate(${Y?0:Z*2}deg)`,opacity:Math.min(Z/ke,1)},children:e.jsxDEV(lo,{className:ws("w-5 h-5",Z>=ke?"text-blue-600":"text-gray-400")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:441,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:431,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:423,columnNumber:13},void 0),e.jsxDEV("div",{className:"px-3 sm:px-4 md:px-6 lg:px-8",style:{transform:Z>0?`translateY(${Z}px)`:"none",transition:O?"none":"transform 0.2s ease-out"},children:e.jsxDEV(eo,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:458,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:451,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:414,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:324,columnNumber:7},void 0),e.jsxDEV(Gl,{isOpen:a,onClose:()=>o(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:464,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/Layout.tsx",lineNumber:222,columnNumber:5},void 0)},sn={getAllSchedules:async()=>(await ve.get("/schedules")).data,getScheduleById:async s=>(await ve.get(`/schedules/${s}`)).data,createSchedule:async s=>(await ve.post("/schedules",{project:s.project,title:s.title,type:s.type||"other",phase:s.phase||"",startDate:s.startDate,endDate:s.endDate,allDay:s.allDay!==void 0?s.allDay:!0,assignedTo:s.assignedTo||[],description:s.description,location:s.location,priority:s.priority||"medium",progress:s.progress||0,isCompleted:s.isCompleted||!1,asRequestId:s.asRequestId,time:s.time})).data,updateSchedule:async(s,t)=>(await ve.put(`/schedules/${s}`,t)).data,deleteSchedule:async s=>{await ve.delete(`/schedules/${s}`)}},tn={getAllProjects:async()=>(await ve.get("/projects")).data,getProjectById:async s=>(await ve.get(`/projects/${s}`)).data,createProject:async s=>{const t={name:s.name,client:typeof s.client=="string"?s.client:s.client.name,location:typeof s.location=="string"?s.location:s.location.address,status:s.status||"planning",manager:s.manager,description:s.description||""};if(s.startDate){const r=typeof s.startDate=="string"?new Date(s.startDate):s.startDate;t.startDate=r.toISOString().split("T")[0]}if(s.endDate){const r=typeof s.endDate=="string"?new Date(s.endDate):s.endDate;t.endDate=r.toISOString().split("T")[0]}return console.log("[projectService.createProject] Sending to backend:",t),(await ve.post("/projects",t)).data},updateProject:async(s,t)=>{var r;const n={};if(t.name!==void 0&&(n.name=t.name),t.client!==void 0&&(n.client=typeof t.client=="string"?t.client:t.client.name),t.location!==void 0&&(n.location=typeof t.location=="string"?t.location:t.location.address),t.startDate!==void 0)if(typeof t.startDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.startDate))n.startDate=t.startDate;else{const i=typeof t.startDate=="string"?new Date(t.startDate):t.startDate;n.startDate=i.toISOString().split("T")[0]}if(t.endDate!==void 0)if(typeof t.endDate=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t.endDate))n.endDate=t.endDate;else{const i=typeof t.endDate=="string"?new Date(t.endDate):t.endDate;n.endDate=i.toISOString().split("T")[0]}t.status!==void 0&&(n.status=t.status),t.manager!==void 0&&(n.manager=t.manager),t.description!==void 0&&(n.description=t.description),t.meetingNotes!==void 0&&(n.meetingNotes=t.meetingNotes),t.customerRequests!==void 0&&(n.customerRequests=t.customerRequests),t.entrancePassword!==void 0&&(n.entrancePassword=t.entrancePassword),t.sitePassword!==void 0&&(n.sitePassword=t.sitePassword),console.log("[projectService.updateProject] Sending to backend:",n);try{return(await ve.put(`/projects/${s}`,n)).data}catch(i){const a=i;throw console.error("[projectService.updateProject] Error:",i),console.error("[projectService.updateProject] Error response:",(r=a.response)==null?void 0:r.data),i}},deleteProject:async s=>{await ve.delete(`/projects/${s}`)}},st={getAllContractors:async()=>(await ve.get("/contractors")).data,getContractorById:async s=>(await ve.get(`/contractors/${s}`)).data,createContractor:async s=>(await ve.post("/contractors",s)).data,updateContractor:async(s,t)=>(await ve.put(`/contractors/${s}`,t)).data,deleteContractor:async s=>{await ve.delete(`/contractors/${s}`)}},nn={getAllConstructionPayments:async()=>(await ve.get("/construction-payments")).data,getConstructionPaymentById:async s=>(await ve.get(`/construction-payments/${s}`)).data,createConstructionPayment:async s=>(await ve.post("/construction-payments",s)).data,updateConstructionPayment:async(s,t)=>(await ve.put(`/construction-payments/${s}`,t)).data,deleteConstructionPayment:async s=>{await ve.delete(`/construction-payments/${s}`)}},rn={getAllRecords:async()=>(await ve.get("/execution-records")).data,getRecordById:async s=>(await ve.get(`/execution-records/${s}`)).data,createRecord:async s=>(console.log("[executionRecordService.createRecord] Creating:",s),(await ve.post("/execution-records",s)).data),updateRecord:async(s,t)=>(await ve.put(`/execution-records/${s}`,t)).data,deleteRecord:async s=>{await ve.delete(`/execution-records/${s}`)}},Ws=Fi()(ga((s,t)=>({projects:[],schedules:[],payments:[],contractors:[],constructionPayments:[],asRequests:[],executionRecords:[],setProjects:n=>s({projects:n}),addProject:n=>s(r=>{const i={id:n.id,project:n.name,client:n.client,totalAmount:n.contractAmount,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]};return{projects:[n,...r.projects],constructionPayments:[i,...r.constructionPayments]}}),updateProject:(n,r)=>s(i=>({projects:i.projects.map(a=>a.id===n?{...a,...r}:a)})),deleteProject:n=>s(r=>({projects:r.projects.filter(i=>i.id!==n),constructionPayments:r.constructionPayments.filter(i=>i.id!==n)})),setSchedules:n=>s({schedules:n}),addSchedule:n=>s(r=>({schedules:[n,...r.schedules]})),updateSchedule:(n,r)=>s(i=>({schedules:i.schedules.map(a=>a.id===n?{...a,...r}:a)})),deleteSchedule:n=>s(r=>({schedules:r.schedules.filter(i=>i.id!==n)})),setPayments:n=>s({payments:n}),addPayment:n=>s(r=>({payments:[n,...r.payments]})),updatePayment:(n,r)=>s(i=>({payments:i.payments.map(a=>a.id===n?{...a,...r}:a)})),deletePayment:n=>s(r=>({payments:r.payments.filter(i=>i.id!==n)})),setContractors:n=>s({contractors:n}),addContractor:n=>s(r=>({contractors:[n,...r.contractors]})),updateContractor:(n,r)=>s(i=>({contractors:i.contractors.map(a=>a.id===n?{...a,...r}:a)})),deleteContractor:n=>s(r=>({contractors:r.contractors.filter(i=>i.id!==n)})),setConstructionPayments:n=>s({constructionPayments:n}),addConstructionPayment:n=>s(r=>({constructionPayments:[n,...r.constructionPayments]})),updateConstructionPayment:(n,r)=>s(i=>({constructionPayments:i.constructionPayments.map(a=>a.id===n?{...a,...r}:a)})),deleteConstructionPayment:n=>s(r=>({constructionPayments:r.constructionPayments.filter(i=>i.id!==n)})),setASRequests:n=>s({asRequests:n}),addASRequest:n=>s(r=>({asRequests:[n,...r.asRequests]})),updateASRequest:(n,r)=>s(i=>({asRequests:i.asRequests.map(a=>a.id===n?{...a,...r}:a)})),deleteASRequest:n=>s(r=>({asRequests:r.asRequests.filter(i=>i.id!==n)})),setExecutionRecords:n=>s({executionRecords:n}),addExecutionRecord:n=>{console.log("[dataStore]  :",n.id,n.itemName),s(r=>{const i=[n,...r.executionRecords];return console.log("[dataStore]   :",i.length),{executionRecords:i}})},updateExecutionRecord:(n,r)=>s(i=>({executionRecords:i.executionRecords.map(a=>a.id===n?{...a,...r}:a)})),deleteExecutionRecord:n=>s(r=>({executionRecords:r.executionRecords.filter(i=>i.id!==n)})),loadPaymentsFromAPI:async()=>{try{const n=await ut.getAllPayments();console.log("[loadPaymentsFromAPI] Raw API response sample:",n[0]);const r=n.map(i=>(i.images&&console.log(`[loadPaymentsFromAPI] Payment ${i.id} has images:`,i.images.substring(0,100)),{id:String(i.id),project:i.project_name,purpose:i.description,process:i.vendor_name,itemName:i.item_name||"",amount:i.amount,materialAmount:i.material_amount||0,laborAmount:i.labor_amount||0,originalMaterialAmount:i.original_material_amount||0,originalLaborAmount:i.original_labor_amount||0,applyTaxDeduction:i.apply_tax_deduction===1,includesVAT:i.includes_vat===1,quickText:i.quick_text||"",images:(()=>{if(!i.images)return console.log(`[loadPaymentsFromAPI] Payment ${i.id}: no images field`),[];try{const a=JSON.parse(i.images),o=Array.isArray(a)?a:[];return console.log(`[loadPaymentsFromAPI] Payment ${i.id}: parsed ${o.length} images`),o}catch(a){return console.error("  :",a,i.images),[]}})(),category:i.request_type,status:i.status,urgency:"normal",requestedBy:i.requester_name,requestDate:new Date(i.created_at),approvalDate:i.approved_at?new Date(i.approved_at):void 0,bankInfo:{accountHolder:i.account_holder||"",bankName:i.bank_name||"",accountNumber:i.account_number||""},attachments:[],notes:i.notes||""}));s({payments:r})}catch(n){throw console.error("Failed to load payments from API:",n),n}},addPaymentToAPI:async n=>{try{const r={projectId:n.project,purpose:n.purpose,process:n.process,itemName:n.itemName,amount:n.amount,category:n.category,urgency:n.urgency,requestedBy:n.requestedBy,bankInfo:n.bankInfo,notes:n.notes,attachments:[],materialAmount:n.materialAmount||0,laborAmount:n.laborAmount||0,originalMaterialAmount:n.originalMaterialAmount||0,originalLaborAmount:n.originalLaborAmount||0,applyTaxDeduction:n.applyTaxDeduction||!1,includesVAT:n.includesVAT||!1,quickText:n.quickText||"",images:n.images||[]};console.log("[addPaymentToAPI] Sending payment data:",r);const i=await ut.createPayment(r),a=String(i.id),o={...n,id:a};return s(m=>({payments:[o,...m.payments]})),a}catch(r){throw console.error("Failed to add payment to API:",r),r}},updatePaymentInAPI:async(n,r)=>{try{if(r.status&&Object.keys(r).length===1)await ut.updatePaymentStatus(n,r.status);else{let i=r.project;if(r.project){const o=t().projects.find(m=>m.name===r.project);i=o?o.id:r.project}await ut.updatePayment(n,{projectId:i,purpose:r.purpose,process:r.process,itemName:r.itemName,amount:r.amount,materialAmount:r.materialAmount,laborAmount:r.laborAmount,originalMaterialAmount:r.originalMaterialAmount,originalLaborAmount:r.originalLaborAmount,category:r.category,urgency:r.urgency,bankInfo:r.bankInfo,notes:r.notes,requestDate:r.requestDate,includesVAT:r.includesVAT,applyTaxDeduction:r.applyTaxDeduction})}s(i=>({payments:i.payments.map(a=>a.id===n?{...a,...r}:a)}))}catch(i){throw console.error("Failed to update payment in API:",i),i}},deletePaymentFromAPI:async n=>{try{await ut.deletePayment(n),s(r=>({payments:r.payments.filter(i=>i.id!==n)}))}catch(r){throw console.error("Failed to delete payment from API:",r),r}},loadSchedulesFromAPI:async()=>{try{const n=await sn.getAllSchedules();console.log(" LOAD SCHEDULES - Raw API response sample:",n[0]);const r=n.map(i=>{var o;console.log(" Processing schedule:",{id:i._id,title:i.title,assigneeNames:i.assigneeNames,assignedTo:i.assignedTo,assignedToType:typeof i.assignedTo,assignedToLength:Array.isArray(i.assignedTo)?i.assignedTo.length:"not array"});const a=Array.isArray(i.assigneeNames)?i.assigneeNames:i.assigneeNames?typeof i.assigneeNames=="string"?i.assigneeNames.split(",").map(m=>m.trim()):[i.assigneeNames]:((o=i.assignedTo)==null?void 0:o.map(m=>typeof m=="object"?m.name:m))||[];return console.log(" Final attendees:",a),{id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:a,description:i.description,time:i.time}});s({schedules:r})}catch(n){throw console.error("Failed to load schedules from API:",n),n}},addScheduleToAPI:async n=>{var r;try{console.log(" addScheduleToAPI - Input schedule:",{project:n.project,attendees:n.attendees,title:n.title});const i=await sn.createSchedule({project:n.project||"",title:n.title,type:n.type,startDate:n.start,endDate:n.end,allDay:!n.time||n.time==="-",location:n.location,assignedTo:n.attendees||[],description:n.description,asRequestId:n.asRequestId,time:n.time});console.log(" addScheduleToAPI - API Response:",{id:i._id,assigneeNames:i.assigneeNames,assignedTo:i.assignedTo,project:i.project});const a=n.attendees||[];let o=i.assigneeNames||((r=i.assignedTo)==null?void 0:r.map(N=>typeof N=="object"?N.name:N))||[];a.length>0&&o.length>a.length&&(console.log(" Server added extra attendees, filtering to match request:",{requested:a,serverReturned:o}),o=a);const m={id:i._id,title:i.title,start:new Date(i.startDate),end:new Date(i.endDate),type:i.type,project:typeof i.project=="object"?i.project.name:i.project,location:i.location,attendees:o,description:i.description,time:i.time};console.log(" addScheduleToAPI - Final schedule attendees:",m.attendees),s(N=>({schedules:[m,...N.schedules]}))}catch(i){throw console.error("Failed to add schedule to API:",i),i}},updateScheduleInAPI:async(n,r)=>{var i,a,o;try{console.log(" updateScheduleInAPI called with:",{id:n,updatedSchedule:r});const m=await sn.updateSchedule(n,{project:r.project,title:r.title,type:r.type,startDate:r.start,endDate:r.end,location:r.location,description:r.description,assignedTo:r.attendees||[],time:r.time});console.log(" updateScheduleInAPI response:",m);const N={id:m._id,title:m.title,start:new Date(m.startDate),end:new Date(m.endDate),type:m.type,project:typeof m.project=="object"?m.project.name:m.project,location:m.location,attendees:m.assigneeNames||((i=m.assignedTo)==null?void 0:i.map(y=>typeof y=="object"?y.name:y))||[],description:m.description,time:m.time};s(y=>({schedules:y.schedules.map(b=>b.id===n?N:b)}))}catch(m){throw console.error("Failed to update schedule in API:",m),console.error("Error details:",{message:m instanceof Error?m.message:"Unknown error",response:m&&typeof m=="object"&&"response"in m?(a=m.response)==null?void 0:a.data:void 0,status:m&&typeof m=="object"&&"response"in m?(o=m.response)==null?void 0:o.status:void 0}),m}},deleteScheduleFromAPI:async n=>{try{await sn.deleteSchedule(n),s(r=>({schedules:r.schedules.filter(i=>i.id!==n)}))}catch(r){throw console.error("Failed to delete schedule from API:",r),r}},loadProjectsFromAPI:async()=>{try{const r=(await tn.getAllProjects()).map(i=>{var a,o;return{id:i._id||i.id,name:i.name,client:typeof i.client=="object"?i.client.name:i.client||"",location:typeof i.location=="object"?i.location.address:i.location||i.address||"",status:i.status==="inProgress"?"in-progress":i.status==="onHold"?"on-hold":i.status,progress:i.progress||0,startDate:i.startDate||i.start_date?new Date(i.startDate||i.start_date):void 0,endDate:i.endDate||i.end_date?new Date(i.endDate||i.end_date):void 0,contractAmount:i.budget||i.contractAmount||0,spent:i.actualCost||i.spent||0,manager:i.manager||"",team:[],description:i.description||"",meetingNotes:((a=i.meetingNotes)==null?void 0:a.map(m=>({id:m.id,content:m.content,date:new Date(m.date)})))||[],customerRequests:((o=i.customerRequests)==null?void 0:o.map(m=>({id:m.id,content:m.content,completed:m.completed,createdAt:new Date(m.createdAt)})))||[],entrancePassword:i.entrancePassword||"",sitePassword:i.sitePassword||""}});s({projects:r})}catch(n){throw console.error("Failed to load projects from API:",n),n}},addProjectToAPI:async n=>{var r,i;try{const a=await tn.createProject({name:n.name,client:n.client,location:n.location,startDate:n.startDate,endDate:n.endDate,status:n.status,contractAmount:n.contractAmount,spent:n.spent,manager:n.manager,team:n.team,progress:n.progress,description:n.description}),o={id:a._id||a.id,name:a.name,client:typeof a.client=="object"?a.client.name:a.client||"",location:typeof a.location=="object"?a.location.address:a.location||a.address||"",status:a.status==="inProgress"?"in-progress":a.status==="onHold"?"on-hold":a.status,progress:a.progress||0,startDate:a.startDate||a.start_date?new Date(a.startDate||a.start_date):void 0,endDate:a.endDate||a.end_date?new Date(a.endDate||a.end_date):void 0,contractAmount:a.budget||a.contractAmount||0,spent:a.actualCost||a.spent||0,manager:a.manager||"",team:[],description:a.description||"",meetingNotes:((r=a.meetingNotes)==null?void 0:r.map(m=>({id:m.id,content:m.content,date:new Date(m.date)})))||[],customerRequests:((i=a.customerRequests)==null?void 0:i.map(m=>({id:m.id,content:m.content,completed:m.completed,createdAt:new Date(m.createdAt)})))||[],entrancePassword:a.entrancePassword||"",sitePassword:a.sitePassword||""};s(m=>({projects:[o,...m.projects]}))}catch(a){throw console.error("Failed to add project to API:",a),a}},updateProjectInAPI:async(n,r)=>{var i,a;try{const o=await tn.updateProject(n,r),m={id:o._id||o.id,name:o.name,client:typeof o.client=="object"?o.client.name:o.client||"",location:typeof o.location=="object"?o.location.address:o.location||o.address||"",status:o.status==="inProgress"?"in-progress":o.status==="onHold"?"on-hold":o.status,progress:o.progress||0,startDate:o.startDate||o.start_date?new Date(o.startDate||o.start_date):void 0,endDate:o.endDate||o.end_date?new Date(o.endDate||o.end_date):void 0,contractAmount:o.budget||o.contractAmount||0,spent:o.actualCost||o.spent||0,manager:o.manager||"",team:[],description:o.description||"",meetingNotes:((i=o.meetingNotes)==null?void 0:i.map(N=>({id:N.id,content:N.content,date:new Date(N.date)})))||[],customerRequests:((a=o.customerRequests)==null?void 0:a.map(N=>({id:N.id,content:N.content,completed:N.completed,createdAt:new Date(N.createdAt)})))||[],entrancePassword:o.entrancePassword||"",sitePassword:o.sitePassword||""};s(N=>({projects:N.projects.map(y=>y.id===n?m:y)}))}catch(o){throw console.error("Failed to update project in API:",o),o}},deleteProjectFromAPI:async n=>{try{await tn.deleteProject(n),s(r=>({projects:r.projects.filter(i=>i.id!==n)}))}catch(r){throw console.error("Failed to delete project from API:",r),r}},loadContractorsFromAPI:async()=>{try{const r=(await st.getAllContractors()).map(i=>({id:i._id,rank:i.rank,companyName:i.companyName,name:i.name,process:i.process,contact:i.contact,accountNumber:i.accountNumber,notes:i.notes,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)}));s({contractors:r})}catch(n){throw console.error("Failed to load contractors from API:",n),n}},addContractorToAPI:async n=>{try{const r=await st.createContractor({rank:n.rank,companyName:n.companyName,name:n.name,process:n.process,contact:n.contact,accountNumber:n.accountNumber,notes:n.notes}),i={id:r._id,rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)};s(a=>({contractors:[i,...a.contractors]}))}catch(r){throw console.error("Failed to add contractor to API:",r),r}},updateContractorInAPI:async(n,r)=>{try{const i=await st.updateContractor(n,{rank:r.rank,companyName:r.companyName,name:r.name,process:r.process,contact:r.contact,accountNumber:r.accountNumber,notes:r.notes}),a={id:i._id,rank:i.rank,companyName:i.companyName,name:i.name,process:i.process,contact:i.contact,accountNumber:i.accountNumber,notes:i.notes,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)};s(o=>({contractors:o.contractors.map(m=>m.id===n?a:m)}))}catch(i){throw console.error("Failed to update contractor in API:",i),i}},deleteContractorFromAPI:async n=>{try{await st.deleteContractor(n),s(r=>({contractors:r.contractors.filter(i=>i.id!==n)}))}catch(r){throw console.error("Failed to delete contractor from API:",r),r}},loadConstructionPaymentsFromAPI:async()=>{try{const r=(await nn.getAllConstructionPayments()).map(i=>{var o;let a;return i.expectedPaymentDates&&(a={contract:i.expectedPaymentDates.contract?new Date(i.expectedPaymentDates.contract):void 0,start:i.expectedPaymentDates.start?new Date(i.expectedPaymentDates.start):void 0,middle:i.expectedPaymentDates.middle?new Date(i.expectedPaymentDates.middle):void 0,final:i.expectedPaymentDates.final?new Date(i.expectedPaymentDates.final):void 0}),{id:i._id,project:i.project,client:i.client,totalAmount:i.totalAmount,vatType:i.vatType,vatPercentage:i.vatPercentage,vatAmount:i.vatAmount,expectedPaymentDates:a,payments:((o=i.payments)==null?void 0:o.map(m=>{var b;const N=m.date?new Date(m.date):new Date,y=isNaN(N.getTime())?new Date:N;return{type:m.type||((b=m.types)==null?void 0:b[0])||"",amount:m.amount,date:y,method:m.method,notes:m.notes}}))||[]}});s({constructionPayments:r})}catch(n){throw console.error("Failed to load construction payments from API:",n),n}},addConstructionPaymentToAPI:async n=>{var r;try{const i=await nn.createConstructionPayment(n),a={id:i._id,project:i.project,client:i.client,totalAmount:i.totalAmount,vatType:i.vatType,vatPercentage:i.vatPercentage,vatAmount:i.vatAmount,payments:((r=i.payments)==null?void 0:r.map(o=>{var y;const m=o.date?new Date(o.date):new Date,N=isNaN(m.getTime())?new Date:m;return{type:o.type||((y=o.types)==null?void 0:y[0])||"",amount:o.amount,date:N,method:o.method,notes:o.notes}}))||[]};s(o=>({constructionPayments:[a,...o.constructionPayments]}))}catch(i){throw console.error("Failed to add construction payment to API:",i),i}},updateConstructionPaymentInAPI:async(n,r)=>{var i;try{const a=await nn.updateConstructionPayment(n,r);let o;a.expectedPaymentDates&&(o={contract:a.expectedPaymentDates.contract?new Date(a.expectedPaymentDates.contract):void 0,start:a.expectedPaymentDates.start?new Date(a.expectedPaymentDates.start):void 0,middle:a.expectedPaymentDates.middle?new Date(a.expectedPaymentDates.middle):void 0,final:a.expectedPaymentDates.final?new Date(a.expectedPaymentDates.final):void 0});const m={id:a._id,project:a.project,client:a.client,totalAmount:a.totalAmount,vatType:a.vatType,vatPercentage:a.vatPercentage,vatAmount:a.vatAmount,expectedPaymentDates:o,payments:((i=a.payments)==null?void 0:i.map(N=>{var y;return{type:N.type||((y=N.types)==null?void 0:y[0])||"",amount:N.amount,date:new Date(N.date),method:N.method,notes:N.notes}}))||[]};s(N=>({constructionPayments:N.constructionPayments.map(y=>y.id===n?m:y)}))}catch(a){throw console.error("Failed to update construction payment in API:",a),a}},deleteConstructionPaymentFromAPI:async n=>{try{await nn.deleteConstructionPayment(n),s(r=>({constructionPayments:r.constructionPayments.filter(i=>i.id!==n)}))}catch(r){throw console.error("Failed to delete construction payment from API:",r),r}},loadASRequestsFromAPI:async()=>{try{const r=(await Ht.getAllASRequests()).map(i=>({id:i._id,project:i.project,client:i.client,requestDate:new Date(i.requestDate),siteAddress:i.siteAddress,entrancePassword:i.entrancePassword,description:i.description,scheduledVisitDate:i.scheduledVisitDate?new Date(i.scheduledVisitDate):void 0,scheduledVisitTime:i.scheduledVisitTime,assignedTo:i.assignedTo?Array.isArray(i.assignedTo)?i.assignedTo:[i.assignedTo]:[],completionDate:i.completionDate?new Date(i.completionDate):void 0,notes:i.notes,status:i.status||"pending"}));s({asRequests:r})}catch(n){throw console.error("Failed to load AS requests from API:",n),n}},addASRequestToAPI:async n=>{try{const r=await Ht.createASRequest(n),i={id:r._id,project:r.project,client:r.client,requestDate:new Date(r.requestDate),siteAddress:r.siteAddress,entrancePassword:r.entrancePassword,description:r.description,scheduledVisitDate:r.scheduledVisitDate?new Date(r.scheduledVisitDate):void 0,scheduledVisitTime:r.scheduledVisitTime,assignedTo:Array.isArray(r.assignedTo)?r.assignedTo:[],completionDate:r.completionDate?new Date(r.completionDate):void 0,notes:r.notes};return s(a=>({asRequests:[i,...a.asRequests]})),i}catch(r){throw console.error("Failed to add AS request to API:",r),r}},updateASRequestInAPI:async(n,r)=>{try{const i=await Ht.updateASRequest(n,r),a={id:i._id,project:i.project,client:i.client,requestDate:new Date(i.requestDate),siteAddress:i.siteAddress,entrancePassword:i.entrancePassword,description:i.description,scheduledVisitDate:i.scheduledVisitDate?new Date(i.scheduledVisitDate):void 0,scheduledVisitTime:i.scheduledVisitTime,assignedTo:Array.isArray(i.assignedTo)?i.assignedTo:[],completionDate:i.completionDate?new Date(i.completionDate):void 0,notes:i.notes,status:i.status||"pending"};s(o=>({asRequests:o.asRequests.map(m=>m.id===n?a:m)}))}catch(i){throw console.error("Failed to update AS request in API:",i),i}},deleteASRequestFromAPI:async n=>{try{await Ht.deleteASRequest(n),s(r=>({asRequests:r.asRequests.filter(i=>i.id!==n)}))}catch(r){throw console.error("Failed to delete AS request from API:",r),r}},loadExecutionRecordsFromAPI:async()=>{try{const n=await rn.getAllRecords();console.log("[loadExecutionRecordsFromAPI] Loaded",n.length,"records");const r=n.map(i=>({id:String(i.id),project:i.project_name,author:i.author||void 0,date:new Date(i.date),process:i.process||void 0,itemName:i.item_name,materialCost:i.material_cost||0,laborCost:i.labor_cost||0,vatAmount:i.vat_amount||0,totalAmount:i.total_amount||0,notes:i.notes||void 0,paymentId:i.payment_id?String(i.payment_id):void 0,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)}));s({executionRecords:r})}catch(n){throw console.error("Failed to load execution records from API:",n),n}},addExecutionRecordToAPI:async n=>{try{console.log("[addExecutionRecordToAPI] Adding:",n.itemName);const r=await rn.createRecord({project_name:n.project,author:n.author,date:n.date.toISOString().split("T")[0],process:n.process,item_name:n.itemName,material_cost:n.materialCost,labor_cost:n.laborCost,vat_amount:n.vatAmount,total_amount:n.totalAmount,notes:n.notes,payment_id:n.paymentId}),i={id:String(r.id),project:r.project_name,author:r.author||void 0,date:new Date(r.date),process:r.process||void 0,itemName:r.item_name,materialCost:r.material_cost||0,laborCost:r.labor_cost||0,vatAmount:r.vat_amount||0,totalAmount:r.total_amount||0,notes:r.notes||void 0,paymentId:r.payment_id?String(r.payment_id):void 0,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)};return s(a=>({executionRecords:[i,...a.executionRecords]})),console.log("[addExecutionRecordToAPI] Added with ID:",i.id),i}catch(r){throw console.error("Failed to add execution record to API:",r),r}},updateExecutionRecordInAPI:async(n,r)=>{var i;try{await rn.updateRecord(n,{project_name:r.project,author:r.author,date:(i=r.date)==null?void 0:i.toISOString().split("T")[0],process:r.process,item_name:r.itemName,material_cost:r.materialCost,labor_cost:r.laborCost,vat_amount:r.vatAmount,total_amount:r.totalAmount,notes:r.notes,payment_id:r.paymentId}),s(a=>({executionRecords:a.executionRecords.map(o=>o.id===n?{...o,...r,updatedAt:new Date}:o)}))}catch(a){throw console.error("Failed to update execution record in API:",a),a}},deleteExecutionRecordFromAPI:async n=>{try{await rn.deleteRecord(n),s(r=>({executionRecords:r.executionRecords.filter(i=>i.id!==n)}))}catch(r){throw console.error("Failed to delete execution record from API:",r),r}}}),{name:"interior-management-storage",partialize:s=>({...s,payments:s.payments.map(t=>{const{images:n,...r}=t;return r}),executionRecords:s.executionRecords.map(t=>{const{images:n,...r}=t;return r})}),storage:{getItem:s=>{var N,y,b,h,C,k,z;const t=localStorage.getItem(s);if(!t)return null;const{state:n}=JSON.parse(t),r=((N=n.projects)==null?void 0:N.map(E=>({...E,startDate:E.startDate?new Date(E.startDate):void 0,endDate:E.endDate?new Date(E.endDate):void 0,contractAmount:E.contractAmount!==void 0?E.contractAmount:E.budget||0})))||[],i=((y=n.constructionPayments)==null?void 0:y.map(E=>{var J;return{...E,vatType:E.vatType||"percentage",vatPercentage:E.vatPercentage??100,vatAmount:E.vatAmount??0,payments:((J=E.payments)==null?void 0:J.map(K=>({...K,date:new Date(K.date)})))||[]}}))||[],a=new Set(i.map(E=>E.id)),o=r.filter(E=>!a.has(E.id)).map(E=>({id:E.id,project:E.name,client:E.client,totalAmount:E.contractAmount||0,vatType:"percentage",vatPercentage:100,vatAmount:0,payments:[]})),m=[...i,...o];return{state:{...n,projects:r,schedules:((b=n.schedules)==null?void 0:b.map(E=>({...E,start:new Date(E.start),end:new Date(E.end)})))||[],payments:((h=n.payments)==null?void 0:h.map(E=>({...E,requestDate:new Date(E.requestDate),approvalDate:E.approvalDate?new Date(E.approvalDate):void 0})))||[],contractors:((C=n.contractors)==null?void 0:C.map(E=>({...E,createdAt:new Date(E.createdAt),updatedAt:new Date(E.updatedAt)})))||[],constructionPayments:m,asRequests:((k=n.asRequests)==null?void 0:k.map(E=>({...E,requestDate:new Date(E.requestDate),scheduledVisitDate:E.scheduledVisitDate?new Date(E.scheduledVisitDate):void 0,completionDate:E.completionDate?new Date(E.completionDate):void 0})))||[],executionRecords:((z=n.executionRecords)==null?void 0:z.map(E=>({...E,date:new Date(E.date),createdAt:new Date(E.createdAt),updatedAt:new Date(E.updatedAt)})))||[]}}},setItem:(s,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(s,n)}catch(n){console.error("[dataStore] localStorage  :",n),n instanceof DOMException&&n.name==="QuotaExceededError"&&console.warn("[dataStore] localStorage   -    ")}},removeItem:s=>localStorage.removeItem(s)}}));var zt=s=>s.type==="checkbox",pt=s=>s instanceof Date,_s=s=>s==null;const ba=s=>typeof s=="object";var ks=s=>!_s(s)&&!Array.isArray(s)&&ba(s)&&!pt(s),ed=s=>ks(s)&&s.target?zt(s.target)?s.target.checked:s.target.value:s,sd=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,td=(s,t)=>s.has(sd(t)),nd=s=>{const t=s.constructor&&s.constructor.prototype;return ks(t)&&t.hasOwnProperty("isPrototypeOf")},Vr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Es(s){let t;const n=Array.isArray(s),r=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(!(Vr&&(s instanceof Blob||r))&&(n||ks(s)))if(t=n?[]:Object.create(Object.getPrototypeOf(s)),!n&&!nd(s))t=s;else for(const i in s)s.hasOwnProperty(i)&&(t[i]=Es(s[i]));else return s;return t}var Sn=s=>/^\w*$/.test(s),ys=s=>s===void 0,Cr=s=>Array.isArray(s)?s.filter(Boolean):[],Er=s=>Cr(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(s,t,n)=>{if(!t||!ks(s))return n;const r=(Sn(t)?[t]:Er(t)).reduce((i,a)=>_s(i)?i:i[a],s);return ys(r)||r===s?ys(s[t])?n:s[t]:r},$s=s=>typeof s=="boolean",Ns=(s,t,n)=>{let r=-1;const i=Sn(t)?[t]:Er(t),a=i.length,o=a-1;for(;++r<a;){const m=i[r];let N=n;if(r!==o){const y=s[m];N=ks(y)||Array.isArray(y)?y:isNaN(+i[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;s[m]=N,s=s[m]}};const ri={BLUR:"blur",FOCUS_OUT:"focusout"},Ts={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},et={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rd=Ze.createContext(null);rd.displayName="HookFormContext";var id=(s,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in s)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ts.all&&(t._proxyFormState[o]=!r||Ts.all),s[o]}});return i};const ad=typeof window<"u"?Ze.useLayoutEffect:Ze.useEffect;var Us=s=>typeof s=="string",od=(s,t,n,r,i)=>Us(s)?(r&&t.watch.add(s),Oe(n,s,i)):Array.isArray(s)?s.map(a=>(r&&t.watch.add(a),Oe(n,a))):(r&&(t.watchAll=!0),n),lr=s=>_s(s)||!ba(s);function ot(s,t,n=new WeakSet){if(lr(s)||lr(t))return s===t;if(pt(s)&&pt(t))return s.getTime()===t.getTime();const r=Object.keys(s),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(s)||n.has(t))return!0;n.add(s),n.add(t);for(const a of r){const o=s[a];if(!i.includes(a))return!1;if(a!=="ref"){const m=t[a];if(pt(o)&&pt(m)||ks(o)&&ks(m)||Array.isArray(o)&&Array.isArray(m)?!ot(o,m,n):o!==m)return!1}}return!0}var md=(s,t,n,r,i)=>t?{...n[s],types:{...n[s]&&n[s].types?n[s].types:{},[r]:i||!0}}:{},Ut=s=>Array.isArray(s)?s:[s],ii=()=>{let s=[];return{get observers(){return s},next:i=>{for(const a of s)a.next&&a.next(i)},subscribe:i=>(s.push(i),{unsubscribe:()=>{s=s.filter(a=>a!==i)}}),unsubscribe:()=>{s=[]}}};function xa(s,t){const n={};for(const r in s)if(s.hasOwnProperty(r)){const i=s[r],a=t[r];if(i&&ks(i)&&a){const o=xa(i,a);ks(o)&&(n[r]=o)}else s[r]&&(n[r]=a)}return n}var Hs=s=>ks(s)&&!Object.keys(s).length,Ar=s=>s.type==="file",Fs=s=>typeof s=="function",kn=s=>{if(!Vr)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ya=s=>s.type==="select-multiple",wr=s=>s.type==="radio",ld=s=>wr(s)||zt(s),zn=s=>kn(s)&&s.isConnected;function dd(s,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)s=ys(s)?r++:s[t[r++]];return s}function cd(s){for(const t in s)if(s.hasOwnProperty(t)&&!ys(s[t]))return!1;return!0}function xs(s,t){const n=Array.isArray(t)?t:Sn(t)?[t]:Er(t),r=n.length===1?s:dd(s,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(ks(r)&&Hs(r)||Array.isArray(r)&&cd(r))&&xs(s,n.slice(0,-1)),s}var ud=s=>{for(const t in s)if(Fs(s[t]))return!0;return!1};function ha(s){return Array.isArray(s)||ks(s)&&!ud(s)}function dr(s,t={}){for(const n in s)ha(s[n])?(t[n]=Array.isArray(s[n])?[]:{},dr(s[n],t[n])):_s(s[n])||(t[n]=!0);return t}function bt(s,t,n){n||(n=dr(t));for(const r in s)ha(s[r])?ys(t)||lr(n[r])?n[r]=dr(s[r],Array.isArray(s[r])?[]:{}):bt(s[r],_s(t)?{}:t[r],n[r]):n[r]=!ot(s[r],t[r]);return n}const ai={value:!1,isValid:!1},oi={value:!0,isValid:!0};var ka=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!ys(s[0].attributes.value)?ys(s[0].value)||s[0].value===""?oi:{value:s[0].value,isValid:!0}:oi:ai}return ai},Da=(s,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ys(s)?s:t?s===""?NaN:s&&+s:n&&Us(s)?new Date(s):r?r(s):s;const mi={isValid:!1,value:null};var va=s=>Array.isArray(s)?s.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,mi):mi;function li(s){const t=s.ref;return Ar(t)?t.files:wr(t)?va(s.refs).value:ya(t)?[...t.selectedOptions].map(({value:n})=>n):zt(t)?ka(s.refs).value:Da(ys(t.value)?s.ref.value:t.value,s)}var pd=(s,t,n,r)=>{const i={};for(const a of s){const o=Oe(t,a);o&&Ns(i,a,o._f)}return{criteriaMode:n,names:[...s],fields:i,shouldUseNativeValidation:r}},Dn=s=>s instanceof RegExp,jt=s=>ys(s)?s:Dn(s)?s.source:ks(s)?Dn(s.value)?s.value.source:s.value:s,di=s=>({isOnSubmit:!s||s===Ts.onSubmit,isOnBlur:s===Ts.onBlur,isOnChange:s===Ts.onChange,isOnAll:s===Ts.all,isOnTouch:s===Ts.onTouched});const ci="AsyncFunction";var fd=s=>!!s&&!!s.validate&&!!(Fs(s.validate)&&s.validate.constructor.name===ci||ks(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===ci)),gd=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),ui=(s,t,n)=>!n&&(t.watchAll||t.watch.has(s)||[...t.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const St=(s,t,n,r)=>{for(const i of n||Object.keys(s)){const a=Oe(s,i);if(a){const{_f:o,...m}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(St(m,t))break}else if(ks(m)&&St(m,t))break}}};function pi(s,t,n){const r=Oe(s,n);if(r||Sn(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Oe(t,a),m=Oe(s,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(m&&m.type)return{name:a,error:m};if(m&&m.root&&m.root.type)return{name:`${a}.root`,error:m.root};i.pop()}return{name:n}}var Nd=(s,t,n,r)=>{n(s);const{name:i,...a}=s;return Hs(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Ts.all))},bd=(s,t,n)=>!s||!t||s===t||Ut(s).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),xd=(s,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||s):(n?r.isOnBlur:i.isOnBlur)?!s:(n?r.isOnChange:i.isOnChange)?s:!0,yd=(s,t)=>!Cr(Oe(s,t)).length&&xs(s,t),hd=(s,t,n)=>{const r=Ut(Oe(s,n));return Ns(r,"root",t[n]),Ns(s,n,r),s};function fi(s,t,n="validate"){if(Us(s)||Array.isArray(s)&&s.every(Us)||$s(s)&&!s)return{type:n,message:Us(s)?s:"",ref:t}}var gt=s=>ks(s)&&!Dn(s)?s:{value:s,message:""},gi=async(s,t,n,r,i,a)=>{const{ref:o,refs:m,required:N,maxLength:y,minLength:b,min:h,max:C,pattern:k,validate:z,name:E,valueAsNumber:J,mount:K}=s._f,D=Oe(n,E);if(!K||t.has(E))return{};const O=m?m[0]:o,ee=se=>{i&&O.reportValidity&&(O.setCustomValidity($s(se)?"":se||""),O.reportValidity())},Z={},U=wr(o),Y=zt(o),G=U||Y,le=(J||Ar(o))&&ys(o.value)&&ys(D)||kn(o)&&o.value===""||D===""||Array.isArray(D)&&!D.length,de=md.bind(null,E,r,Z),ke=(se,ue,oe,Ve=et.maxLength,Ee=et.minLength)=>{const je=se?ue:oe;Z[E]={type:se?Ve:Ee,message:je,ref:o,...de(se?Ve:Ee,je)}};if(a?!Array.isArray(D)||!D.length:N&&(!G&&(le||_s(D))||$s(D)&&!D||Y&&!ka(m).isValid||U&&!va(m).isValid)){const{value:se,message:ue}=Us(N)?{value:!!N,message:N}:gt(N);if(se&&(Z[E]={type:et.required,message:ue,ref:O,...de(et.required,ue)},!r))return ee(ue),Z}if(!le&&(!_s(h)||!_s(C))){let se,ue;const oe=gt(C),Ve=gt(h);if(!_s(D)&&!isNaN(D)){const Ee=o.valueAsNumber||D&&+D;_s(oe.value)||(se=Ee>oe.value),_s(Ve.value)||(ue=Ee<Ve.value)}else{const Ee=o.valueAsDate||new Date(D),je=be=>new Date(new Date().toDateString()+" "+be),Me=o.type=="time",re=o.type=="week";Us(oe.value)&&D&&(se=Me?je(D)>je(oe.value):re?D>oe.value:Ee>new Date(oe.value)),Us(Ve.value)&&D&&(ue=Me?je(D)<je(Ve.value):re?D<Ve.value:Ee<new Date(Ve.value))}if((se||ue)&&(ke(!!se,oe.message,Ve.message,et.max,et.min),!r))return ee(Z[E].message),Z}if((y||b)&&!le&&(Us(D)||a&&Array.isArray(D))){const se=gt(y),ue=gt(b),oe=!_s(se.value)&&D.length>+se.value,Ve=!_s(ue.value)&&D.length<+ue.value;if((oe||Ve)&&(ke(oe,se.message,ue.message),!r))return ee(Z[E].message),Z}if(k&&!le&&Us(D)){const{value:se,message:ue}=gt(k);if(Dn(se)&&!D.match(se)&&(Z[E]={type:et.pattern,message:ue,ref:o,...de(et.pattern,ue)},!r))return ee(ue),Z}if(z){if(Fs(z)){const se=await z(D,n),ue=fi(se,O);if(ue&&(Z[E]={...ue,...de(et.validate,ue.message)},!r))return ee(ue.message),Z}else if(ks(z)){let se={};for(const ue in z){if(!Hs(se)&&!r)break;const oe=fi(await z[ue](D,n),O,ue);oe&&(se={...oe,...de(ue,oe.message)},ee(oe.message),r&&(Z[E]=se))}if(!Hs(se)&&(Z[E]={ref:O,...se},!r))return Z}}return ee(!0),Z};const kd={mode:Ts.onSubmit,reValidateMode:Ts.onChange,shouldFocusError:!0};function Dd(s={}){let t={...kd,...s},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=ks(t.defaultValues)||ks(t.values)?Es(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Es(i),o={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},N,y=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...b};const C={array:ii(),state:ii()},k=t.criteriaMode===Ts.all,z=R=>f=>{clearTimeout(y),y=setTimeout(R,f)},E=async R=>{if(!t.disabled&&(b.isValid||h.isValid||R)){const f=t.resolver?Hs((await Y()).errors):await le(r,!0);f!==n.isValid&&C.state.next({isValid:f})}},J=(R,f)=>{!t.disabled&&(b.isValidating||b.validatingFields||h.isValidating||h.validatingFields)&&((R||Array.from(m.mount)).forEach(B=>{B&&(f?Ns(n.validatingFields,B,f):xs(n.validatingFields,B))}),C.state.next({validatingFields:n.validatingFields,isValidating:!Hs(n.validatingFields)}))},K=(R,f=[],B,v,p=!0,S=!0)=>{if(v&&B&&!t.disabled){if(o.action=!0,S&&Array.isArray(Oe(r,R))){const d=B(Oe(r,R),v.argA,v.argB);p&&Ns(r,R,d)}if(S&&Array.isArray(Oe(n.errors,R))){const d=B(Oe(n.errors,R),v.argA,v.argB);p&&Ns(n.errors,R,d),yd(n.errors,R)}if((b.touchedFields||h.touchedFields)&&S&&Array.isArray(Oe(n.touchedFields,R))){const d=B(Oe(n.touchedFields,R),v.argA,v.argB);p&&Ns(n.touchedFields,R,d)}(b.dirtyFields||h.dirtyFields)&&(n.dirtyFields=bt(i,a)),C.state.next({name:R,isDirty:ke(R,f),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ns(a,R,f)},D=(R,f)=>{Ns(n.errors,R,f),C.state.next({errors:n.errors})},O=R=>{n.errors=R,C.state.next({errors:n.errors,isValid:!1})},ee=(R,f,B,v)=>{const p=Oe(r,R);if(p){const S=Oe(a,R,ys(B)?Oe(i,R):B);ys(S)||v&&v.defaultChecked||f?Ns(a,R,f?S:li(p._f)):oe(R,S),o.mount&&E()}},Z=(R,f,B,v,p)=>{let S=!1,d=!1;const q={name:R};if(!t.disabled){if(!B||v){(b.isDirty||h.isDirty)&&(d=n.isDirty,n.isDirty=q.isDirty=ke(),S=d!==q.isDirty);const x=ot(Oe(i,R),f);d=!!Oe(n.dirtyFields,R),x?xs(n.dirtyFields,R):Ns(n.dirtyFields,R,!0),q.dirtyFields=n.dirtyFields,S=S||(b.dirtyFields||h.dirtyFields)&&d!==!x}if(B){const x=Oe(n.touchedFields,R);x||(Ns(n.touchedFields,R,B),q.touchedFields=n.touchedFields,S=S||(b.touchedFields||h.touchedFields)&&x!==B)}S&&p&&C.state.next(q)}return S?q:{}},U=(R,f,B,v)=>{const p=Oe(n.errors,R),S=(b.isValid||h.isValid)&&$s(f)&&n.isValid!==f;if(t.delayError&&B?(N=z(()=>D(R,B)),N(t.delayError)):(clearTimeout(y),N=null,B?Ns(n.errors,R,B):xs(n.errors,R)),(B?!ot(p,B):p)||!Hs(v)||S){const d={...v,...S&&$s(f)?{isValid:f}:{},errors:n.errors,name:R};n={...n,...d},C.state.next(d)}},Y=async R=>{J(R,!0);const f=await t.resolver(a,t.context,pd(R||m.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return J(R),f},G=async R=>{const{errors:f}=await Y(R);if(R)for(const B of R){const v=Oe(f,B);v?Ns(n.errors,B,v):xs(n.errors,B)}else n.errors=f;return f},le=async(R,f,B={valid:!0})=>{for(const v in R){const p=R[v];if(p){const{_f:S,...d}=p;if(S){const q=m.array.has(S.name),x=p._f&&fd(p._f);x&&b.validatingFields&&J([S.name],!0);const V=await gi(p,m.disabled,a,k,t.shouldUseNativeValidation&&!f,q);if(x&&b.validatingFields&&J([S.name]),V[S.name]&&(B.valid=!1,f))break;!f&&(Oe(V,S.name)?q?hd(n.errors,V,S.name):Ns(n.errors,S.name,V[S.name]):xs(n.errors,S.name))}!Hs(d)&&await le(d,f,B)}}return B.valid},de=()=>{for(const R of m.unMount){const f=Oe(r,R);f&&(f._f.refs?f._f.refs.every(B=>!zn(B)):!zn(f._f.ref))&&P(R)}m.unMount=new Set},ke=(R,f)=>!t.disabled&&(R&&f&&Ns(a,R,f),!ot(be(),i)),se=(R,f,B)=>od(R,m,{...o.mount?a:ys(f)?i:Us(R)?{[R]:f}:f},B,f),ue=R=>Cr(Oe(o.mount?a:i,R,t.shouldUnregister?Oe(i,R,[]):[])),oe=(R,f,B={})=>{const v=Oe(r,R);let p=f;if(v){const S=v._f;S&&(!S.disabled&&Ns(a,R,Da(f,S)),p=kn(S.ref)&&_s(f)?"":f,ya(S.ref)?[...S.ref.options].forEach(d=>d.selected=p.includes(d.value)):S.refs?zt(S.ref)?S.refs.forEach(d=>{(!d.defaultChecked||!d.disabled)&&(Array.isArray(p)?d.checked=!!p.find(q=>q===d.value):d.checked=p===d.value||!!p)}):S.refs.forEach(d=>d.checked=d.value===p):Ar(S.ref)?S.ref.value="":(S.ref.value=p,S.ref.type||C.state.next({name:R,values:Es(a)})))}(B.shouldDirty||B.shouldTouch)&&Z(R,p,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&re(R)},Ve=(R,f,B)=>{for(const v in f){if(!f.hasOwnProperty(v))return;const p=f[v],S=R+"."+v,d=Oe(r,S);(m.array.has(R)||ks(p)||d&&!d._f)&&!pt(p)?Ve(S,p,B):oe(S,p,B)}},Ee=(R,f,B={})=>{const v=Oe(r,R),p=m.array.has(R),S=Es(f);Ns(a,R,S),p?(C.array.next({name:R,values:Es(a)}),(b.isDirty||b.dirtyFields||h.isDirty||h.dirtyFields)&&B.shouldDirty&&C.state.next({name:R,dirtyFields:bt(i,a),isDirty:ke(R,S)})):v&&!v._f&&!_s(S)?Ve(R,S,B):oe(R,S,B),ui(R,m)&&C.state.next({...n,name:R}),C.state.next({name:o.mount?R:void 0,values:Es(a)})},je=async R=>{o.mount=!0;const f=R.target;let B=f.name,v=!0;const p=Oe(r,B),S=x=>{v=Number.isNaN(x)||pt(x)&&isNaN(x.getTime())||ot(x,Oe(a,B,x))},d=di(t.mode),q=di(t.reValidateMode);if(p){let x,V;const te=f.type?li(p._f):ed(R),X=R.type===ri.BLUR||R.type===ri.FOCUS_OUT,ge=!gd(p._f)&&!t.resolver&&!Oe(n.errors,B)&&!p._f.deps||xd(X,Oe(n.touchedFields,B),n.isSubmitted,q,d),pe=ui(B,m,X);Ns(a,B,te),X?(!f||!f.readOnly)&&(p._f.onBlur&&p._f.onBlur(R),N&&N(0)):p._f.onChange&&p._f.onChange(R);const he=Z(B,te,X),Pe=!Hs(he)||pe;if(!X&&C.state.next({name:B,type:R.type,values:Es(a)}),ge)return(b.isValid||h.isValid)&&(t.mode==="onBlur"?X&&E():X||E()),Pe&&C.state.next({name:B,...pe?{}:he});if(!X&&pe&&C.state.next({...n}),t.resolver){const{errors:$e}=await Y([B]);if(S(te),v){const Re=pi(n.errors,r,B),Fe=pi($e,r,Re.name||B);x=Fe.error,B=Fe.name,V=Hs($e)}}else J([B],!0),x=(await gi(p,m.disabled,a,k,t.shouldUseNativeValidation))[B],J([B]),S(te),v&&(x?V=!1:(b.isValid||h.isValid)&&(V=await le(r,!0)));v&&(p._f.deps&&(!Array.isArray(p._f.deps)||p._f.deps.length>0)&&re(p._f.deps),U(B,V,x,he))}},Me=(R,f)=>{if(Oe(n.errors,f)&&R.focus)return R.focus(),1},re=async(R,f={})=>{let B,v;const p=Ut(R);if(t.resolver){const S=await G(ys(R)?R:p);B=Hs(S),v=R?!p.some(d=>Oe(S,d)):B}else R?(v=(await Promise.all(p.map(async S=>{const d=Oe(r,S);return await le(d&&d._f?{[S]:d}:d)}))).every(Boolean),!(!v&&!n.isValid)&&E()):v=B=await le(r);return C.state.next({...!Us(R)||(b.isValid||h.isValid)&&B!==n.isValid?{}:{name:R},...t.resolver||!R?{isValid:B}:{},errors:n.errors}),f.shouldFocus&&!v&&St(r,Me,R?p:m.mount),v},be=(R,f)=>{let B={...o.mount?a:i};return f&&(B=xa(f.dirtyFields?n.dirtyFields:n.touchedFields,B)),ys(R)?B:Us(R)?Oe(B,R):R.map(v=>Oe(B,v))},we=(R,f)=>({invalid:!!Oe((f||n).errors,R),isDirty:!!Oe((f||n).dirtyFields,R),error:Oe((f||n).errors,R),isValidating:!!Oe(n.validatingFields,R),isTouched:!!Oe((f||n).touchedFields,R)}),Ne=R=>{R&&Ut(R).forEach(f=>xs(n.errors,f)),C.state.next({errors:R?n.errors:{}})},Ae=(R,f,B)=>{const v=(Oe(r,R,{_f:{}})._f||{}).ref,p=Oe(n.errors,R)||{},{ref:S,message:d,type:q,...x}=p;Ns(n.errors,R,{...x,...f,ref:v}),C.state.next({name:R,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&v&&v.focus&&v.focus()},He=(R,f)=>Fs(R)?C.state.subscribe({next:B=>"values"in B&&R(se(void 0,f),B)}):se(R,f,!0),Le=R=>C.state.subscribe({next:f=>{bd(R.name,f.name,R.exact)&&Nd(f,R.formState||b,ye,R.reRenderRoot)&&R.callback({values:{...a},...n,...f,defaultValues:i})}}).unsubscribe,Se=R=>(o.mount=!0,h={...h,...R.formState},Le({...R,formState:h})),P=(R,f={})=>{for(const B of R?Ut(R):m.mount)m.mount.delete(B),m.array.delete(B),f.keepValue||(xs(r,B),xs(a,B)),!f.keepError&&xs(n.errors,B),!f.keepDirty&&xs(n.dirtyFields,B),!f.keepTouched&&xs(n.touchedFields,B),!f.keepIsValidating&&xs(n.validatingFields,B),!t.shouldUnregister&&!f.keepDefaultValue&&xs(i,B);C.state.next({values:Es(a)}),C.state.next({...n,...f.keepDirty?{isDirty:ke()}:{}}),!f.keepIsValid&&E()},I=({disabled:R,name:f})=>{($s(R)&&o.mount||R||m.disabled.has(f))&&(R?m.disabled.add(f):m.disabled.delete(f))},M=(R,f={})=>{let B=Oe(r,R);const v=$s(f.disabled)||$s(t.disabled);return Ns(r,R,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:R}},name:R,mount:!0,...f}}),m.mount.add(R),B?I({disabled:$s(f.disabled)?f.disabled:t.disabled,name:R}):ee(R,!0,f.value),{...v?{disabled:f.disabled||t.disabled}:{},...t.progressive?{required:!!f.required,min:jt(f.min),max:jt(f.max),minLength:jt(f.minLength),maxLength:jt(f.maxLength),pattern:jt(f.pattern)}:{},name:R,onChange:je,onBlur:je,ref:p=>{if(p){M(R,f),B=Oe(r,R);const S=ys(p.value)&&p.querySelectorAll&&p.querySelectorAll("input,select,textarea")[0]||p,d=ld(S),q=B._f.refs||[];if(d?q.find(x=>x===S):S===B._f.ref)return;Ns(r,R,{_f:{...B._f,...d?{refs:[...q.filter(zn),S,...Array.isArray(Oe(i,R))?[{}]:[]],ref:{type:S.type,name:R}}:{ref:S}}}),ee(R,!1,void 0,S)}else B=Oe(r,R,{}),B._f&&(B._f.mount=!1),(t.shouldUnregister||f.shouldUnregister)&&!(td(m.array,R)&&o.action)&&m.unMount.add(R)}}},fe=()=>t.shouldFocusError&&St(r,Me,m.mount),Ce=R=>{$s(R)&&(C.state.next({disabled:R}),St(r,(f,B)=>{const v=Oe(r,B);v&&(f.disabled=v._f.disabled||R,Array.isArray(v._f.refs)&&v._f.refs.forEach(p=>{p.disabled=v._f.disabled||R}))},0,!1))},W=(R,f)=>async B=>{let v;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let p=Es(a);if(C.state.next({isSubmitting:!0}),t.resolver){const{errors:S,values:d}=await Y();n.errors=S,p=Es(d)}else await le(r);if(m.disabled.size)for(const S of m.disabled)xs(p,S);if(xs(n.errors,"root"),Hs(n.errors)){C.state.next({errors:{}});try{await R(p,B)}catch(S){v=S}}else f&&await f({...n.errors},B),fe(),setTimeout(fe);if(C.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hs(n.errors)&&!v,submitCount:n.submitCount+1,errors:n.errors}),v)throw v},ce=(R,f={})=>{Oe(r,R)&&(ys(f.defaultValue)?Ee(R,Es(Oe(i,R))):(Ee(R,f.defaultValue),Ns(i,R,Es(f.defaultValue))),f.keepTouched||xs(n.touchedFields,R),f.keepDirty||(xs(n.dirtyFields,R),n.isDirty=f.defaultValue?ke(R,Es(Oe(i,R))):ke()),f.keepError||(xs(n.errors,R),b.isValid&&E()),C.state.next({...n}))},w=(R,f={})=>{const B=R?Es(R):i,v=Es(B),p=Hs(R),S=p?i:v;if(f.keepDefaultValues||(i=B),!f.keepValues){if(f.keepDirtyValues){const d=new Set([...m.mount,...Object.keys(bt(i,a))]);for(const q of Array.from(d))Oe(n.dirtyFields,q)?Ns(S,q,Oe(a,q)):Ee(q,Oe(S,q))}else{if(Vr&&ys(R))for(const d of m.mount){const q=Oe(r,d);if(q&&q._f){const x=Array.isArray(q._f.refs)?q._f.refs[0]:q._f.ref;if(kn(x)){const V=x.closest("form");if(V){V.reset();break}}}}if(f.keepFieldsRef)for(const d of m.mount)Ee(d,Oe(S,d));else r={}}a=t.shouldUnregister?f.keepDefaultValues?Es(i):{}:Es(S),C.array.next({values:{...S}}),C.state.next({values:{...S}})}m={mount:f.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!b.isValid||!!f.keepIsValid||!!f.keepDirtyValues,o.watch=!!t.shouldUnregister,C.state.next({submitCount:f.keepSubmitCount?n.submitCount:0,isDirty:p?!1:f.keepDirty?n.isDirty:!!(f.keepDefaultValues&&!ot(R,i)),isSubmitted:f.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:p?{}:f.keepDirtyValues?f.keepDefaultValues&&a?bt(i,a):n.dirtyFields:f.keepDefaultValues&&R?bt(i,R):f.keepDirty?n.dirtyFields:{},touchedFields:f.keepTouched?n.touchedFields:{},errors:f.keepErrors?n.errors:{},isSubmitSuccessful:f.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},T=(R,f)=>w(Fs(R)?R(a):R,f),ae=(R,f={})=>{const B=Oe(r,R),v=B&&B._f;if(v){const p=v.refs?v.refs[0]:v.ref;p.focus&&(p.focus(),f.shouldSelect&&Fs(p.select)&&p.select())}},ye=R=>{n={...n,...R}},Ue={control:{register:M,unregister:P,getFieldState:we,handleSubmit:W,setError:Ae,_subscribe:Le,_runSchema:Y,_focusError:fe,_getWatch:se,_getDirty:ke,_setValid:E,_setFieldArray:K,_setDisabledField:I,_setErrors:O,_getFieldArray:ue,_reset:w,_resetDefaultValues:()=>Fs(t.defaultValues)&&t.defaultValues().then(R=>{T(R,t.resetOptions),C.state.next({isLoading:!1})}),_removeUnmounted:de,_disableForm:Ce,_subjects:C,_proxyFormState:b,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(R){o=R},get _defaultValues(){return i},get _names(){return m},set _names(R){m=R},get _formState(){return n},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:Se,trigger:re,register:M,handleSubmit:W,watch:He,setValue:Ee,getValues:be,reset:T,resetField:ce,clearErrors:Ne,unregister:P,setError:Ae,setFocus:ae,getFieldState:we};return{...Ue,formControl:Ue}}function Kt(s={}){const t=Ze.useRef(void 0),n=Ze.useRef(void 0),[r,i]=Ze.useState({isDirty:!1,isValidating:!1,isLoading:Fs(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:Fs(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:r},s.defaultValues&&!Fs(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:o,...m}=Dd(s);t.current={...m,formState:r}}const a=t.current.control;return a._options=s,ad(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(m=>({...m,isReady:!0})),a._formState.isReady=!0,o},[a]),Ze.useEffect(()=>a._disableForm(s.disabled),[a,s.disabled]),Ze.useEffect(()=>{s.mode&&(a._options.mode=s.mode),s.reValidateMode&&(a._options.reValidateMode=s.reValidateMode)},[a,s.mode,s.reValidateMode]),Ze.useEffect(()=>{s.errors&&(a._setErrors(s.errors),a._focusError())},[a,s.errors]),Ze.useEffect(()=>{s.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,s.shouldUnregister]),Ze.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Ze.useEffect(()=>{s.values&&!ot(s.values,n.current)?(a._reset(s.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=s.values,i(o=>({...o}))):a._resetDefaultValues()},[a,s.values]),Ze.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=id(r,a),t.current}const Ni=["","","","","","",""],Va=({event:s,slotInfo:t,defaultProjectName:n,onClose:r,onSave:i,onDelete:a})=>{const{register:o,handleSubmit:m,setValue:N,watch:y,formState:{errors:b},reset:h}=Kt({defaultValues:{projectId:"",title:"",date:"",description:""}}),{projects:C}=Ws(),[k,z]=l.useState([]),[E,J]=l.useState(""),[K,D]=l.useState(!1),[O,ee]=l.useState(""),[Z,U]=l.useState(9),[Y,G]=l.useState(0),[le,de]=l.useState(""),ke=y("projectId");l.useEffect(()=>{if(ke){const re=C.find(be=>be.id===ke||be.id===parseInt(ke)||be.id.toString()===ke.toString());console.log(" Selected project:",re==null?void 0:re.name),console.log(" Project team:",re==null?void 0:re.team),console.log(" Current selectedMembers:",k)}},[ke,C,k]),l.useEffect(()=>{console.log(" Modal mount - initializing states"),z([]),de(""),J("")},[]),l.useEffect(()=>{if(console.log(" ScheduleModal useEffect triggered:",{hasEvent:!!s,eventId:s==null?void 0:s.id,hasSlotInfo:!!t,hasMergedEvents:!!(s!=null&&s.mergedEventIds)}),s&&s.id){console.log(" ScheduleModal processing event:",{title:s.title,projectId:s.projectId,projectName:s.projectName,start:s.start,assignedTo:s.assignedTo,time:s.time});const re=s.originalTitle||s.title,be=/ - (|) \d{1,2}$/,we=re.replace(be,"");if(N("title",we,{shouldValidate:!1,shouldDirty:!1}),N("date",De(s.start,"yyyy-MM-dd"),{shouldValidate:!1,shouldDirty:!1}),N("description",s.description||"",{shouldValidate:!1,shouldDirty:!1}),s.projectId&&s.projectId!==""&&s.projectId!=="undefined")console.log(" Setting projectId from event:",s.projectId),N("projectId",s.projectId,{shouldValidate:!1,shouldDirty:!1}),de("");else if(s.projectName){const Ae=C.find(He=>He.name===s.projectName);console.log(" Finding project by name:",s.projectName,"found:",Ae),Ae?(console.log(" Setting projectId from found project:",Ae.id),N("projectId",Ae.id,{shouldValidate:!1,shouldDirty:!1}),de("")):(console.log(" Project not found, leaving empty"),N("projectId","",{shouldValidate:!1,shouldDirty:!1}),de(""))}else console.log(" No project info, leaving empty"),N("projectId","",{shouldValidate:!1,shouldDirty:!1}),de("");const Ne=s.assignedTo||s.attendees||[];if(console.log(" Setting selectedMembers to:",Ne),z(Array.isArray(Ne)?Ne:[]),s.time&&s.time!=="-"){console.log(" Setting time from event:",{eventTime:s.time,parsedHours:s.time.split(":")[0],parsedMinutes:s.time.split(":")[1]}),D(!0);const[Ae,He]=s.time.split(":"),Le=parseInt(Ae,10),Se=parseInt(He,10);Le>=12?(ee(""),U(Le===12?12:Le-12)):(ee(""),U(Le===0?12:Le)),G(Se),console.log(" Time state set:",{hasTime:!0,period:Le>=12?"":"",hour:Le>=12?Le===12?12:Le-12:Le===0?12:Le,minute:Se})}else console.log(" No time in event, setting hasTime to false"),D(!1),ee(""),U(9),G(0)}else if(t&&!s&&(console.log(" New schedule from slot:",t),h({projectId:"",title:"",date:De(t.start,"yyyy-MM-dd"),description:""}),console.log(" New schedule - resetting selectedMembers to empty array"),z([]),de(""),n)){const re=C.find(be=>be.name===n);re&&N("projectId",re.id,{shouldValidate:!1,shouldDirty:!1})}},[s==null?void 0:s.id]);const se=re=>{console.log(" toggleMember called with:",re),console.log(" Current selectedMembers before toggle:",k),z(be=>{console.log(" Previous members in setState:",be);const we=be.includes(re)?be.filter(Ne=>Ne!==re):[...be,re];return console.log(" Updated members after toggle:",we),we})},ue=()=>{const re="HV LAB";k.includes(re)?z(be=>be.filter(we=>we!==re)):z(be=>[...be,re])},oe=()=>{const re="";k.includes(re)?z(be=>be.filter(we=>we!==re)):z(be=>[...be,re])},Ve=()=>{const re="";k.includes(re)?z(be=>be.filter(we=>we!==re)):z(be=>[...be,re])},Ee=()=>{E.trim()&&!k.includes(E.trim())&&(z(re=>[...re,E.trim()]),J(""))},je=re=>{z(be=>be.filter(we=>we!==re))},Me=async re=>{console.log(" Form onSubmit called with data:",re),console.log(" selectedMembers:",k),console.log(" hasTime state:",K),console.log(" timePeriod:",O,"timeHour:",Z,"timeMinute:",Y),console.log(" Available projects:",C.map(P=>({id:P.id,name:P.name,idType:typeof P.id}))),console.log(" Merged event IDs:",s==null?void 0:s.mergedEventIds);const be=/ - (|) \d{1,2}$/,we=re.title.replace(be,"").trim();let Ne="",Ae="";if(re.projectId){const P=C.find(I=>I.id===re.projectId||I.id===parseInt(re.projectId)||I.id.toString()===re.projectId.toString());console.log(" Looking for project with id:",re.projectId,"type:",typeof re.projectId),console.log(" Found project:",P),Ne=(P==null?void 0:P.name)||"",Ae=re.projectId}else Ne="",Ae="";console.log(" Final projectId:",Ae,"projectName:",Ne,"cleanedTitle:",we);const He=new Date(re.date);let Le="-";if(K){let P=Z;O===""&&Z!==12?P=Z+12:O===""&&Z===12&&(P=0),Le=`${P.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}`,console.log(" Time calculated:",Le)}else console.log(" No time set (hasTime is false)");const Se={...s,title:we,start:He,end:He,projectId:Ae,projectName:Ne,assignedTo:k,description:re.description||"",time:Le,mergedEventIds:s==null?void 0:s.mergedEventIds};console.log(" Calling onSave with newEvent:",Se);try{await i(Se),console.log(" onSave completed successfully")}catch(P){throw console.error(" onSave failed:",P),P}};return console.log(" Rendering ScheduleModal with selectedMembers:",k),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold",children:s?" ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:373,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ns,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:380,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:376,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:372,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:m(Me),className:"p-4 md:p-6 space-y-3 md:space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:388,columnNumber:13},void 0),e.jsxDEV("select",{...o("projectId"),className:"input w-full",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:395,columnNumber:15},void 0),C.filter(re=>s!=null&&s.isASVisit?!0:re.status!=="completed").map(re=>e.jsxDEV("option",{value:re.id,children:re.name},re.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:405,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:391,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:387,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:414,columnNumber:13},void 0),e.jsxDEV("input",{...o("title",{required:" "}),type:"text",className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:417,columnNumber:13},void 0),b.title&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(b.title.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:423,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:413,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:429,columnNumber:13},void 0),e.jsxDEV("input",{...o("date",{required:" "}),type:"date",className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:432,columnNumber:13},void 0),b.date&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(b.date.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:438,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:428,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:444,columnNumber:13},void 0),e.jsxDEV("div",{className:"mb-2",children:e.jsxDEV("button",{type:"button",onClick:()=>D(!K),className:`px-3 py-1.5 text-xs rounded border transition-colors ${K?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:K?" ":"  (-)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:450,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:449,columnNumber:13},void 0),K&&e.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>ee(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${O===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:468,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>ee(""),className:`px-3 py-1.5 text-xs rounded border transition-colors ${O===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:479,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:467,columnNumber:17},void 0),e.jsxDEV("select",{value:Z,onChange:re=>U(parseInt(re.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(re=>e.jsxDEV("option",{value:re,children:[re,""]},re,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:499,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:493,columnNumber:17},void 0),e.jsxDEV("select",{value:Y,onChange:re=>G(parseInt(re.target.value)),className:"flex-1 min-w-[80px] max-w-[120px] px-2 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(re=>e.jsxDEV("option",{value:re,children:[re,""]},re,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:512,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:506,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:465,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:443,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:523,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[e.jsxDEV("button",{type:"button",onClick:ue,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${k.includes("HV LAB")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:530,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:oe,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${k.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:543,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:Ve,className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${k.includes("")?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:556,columnNumber:15},void 0),Ni.map(re=>e.jsxDEV("button",{type:"button",onClick:()=>se(re),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${k.includes(re)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:re},re,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:570,columnNumber:17},void 0)),k.filter(re=>!Ni.includes(re)&&re!=="HV LAB"&&re!==""&&re!=="").map(re=>e.jsxDEV("button",{type:"button",onClick:()=>je(re),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[re," "]},re,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:588,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:528,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:E,onChange:re=>J(re.target.value),onKeyPress:re=>{re.key==="Enter"&&(re.preventDefault(),Ee())},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:602,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:Ee,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:614,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:601,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:522,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:626,columnNumber:13},void 0),e.jsxDEV("textarea",{...o("description"),rows:4,className:"input w-full text-sm md:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:629,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:625,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-0 pt-4 border-t",children:[e.jsxDEV("div",{children:s&&e.jsxDEV("button",{type:"button",onClick:()=>{window.confirm("  ?")&&a(s.id)},className:"btn btn-outline text-red-600 hover:bg-red-50 flex items-center w-full sm:w-auto justify-center text-sm md:text-base",children:[e.jsxDEV(gs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:649,columnNumber:19},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:640,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:638,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 sm:space-x-3",children:[e.jsxDEV("button",{type:"button",onClick:r,className:"btn btn-outline flex-1 sm:flex-none text-sm md:text-base",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:655,columnNumber:15},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary flex-1 sm:flex-none text-sm md:text-base",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:662,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:654,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:637,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:385,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:370,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ScheduleModal.tsx",lineNumber:369,columnNumber:5},void 0)},vn=s=>{if(!s||s==="-")return"";const[t,n]=s.split(":"),r=parseInt(t,10),i=parseInt(n,10),a=r>=12?"":"",o=r%12||12;return i>0?`${a} ${o} ${i}`:`${a} ${o}`},Vn=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],mt=s=>{if(!s)return s;const t=s.replace(/$/g,"").trim(),n=t.split(" ");if(n.length>=2){const r=n[n.length-1];for(const i of Vn)if(r===i)return n.slice(0,-1).join(" ").trim()}for(const r of Vn)if(t.endsWith(r))return t.substring(0,t.length-r.length).trim()||t;return t},an=s=>{const t=s.replace(/$/g,"").trim(),n=t.split(" ");if(n.length>=2){const r=n[n.length-1];for(const i of Vn)if(r===i)return i}for(const r of Vn)if(t.endsWith(r))return r;return""},bi=["","","","","","",""],vd=()=>{const{schedules:s,loadSchedulesFromAPI:t,addScheduleToAPI:n,deleteScheduleFromAPI:r}=Ws(),{user:i}=js(),[a,o]=l.useState(!1),m=i!=null&&i.name?i.name.slice(-2):null,N=(i==null?void 0:i.name)===""?[""]:m?[m,...bi.filter(b=>b!==m)]:bi,y=b=>{const h=s.filter(z=>z.attendees?!!(z.attendees.includes(b)||z.attendees.includes("HV LAB")||z.attendees.includes("")&&["",""].includes(b)||z.attendees.includes("")&&["","",""].includes(b)):!1),C=h.filter(z=>Kr(new Date(z.start))),k=h.filter(z=>wo(new Date(z.start))&&!Kr(new Date(z.start))).sort((z,E)=>new Date(z.start).getTime()-new Date(E.start).getTime()).slice(0,3);return{todaySchedules:C,upcomingSchedules:k,member:b}};return e.jsxDEV("div",{className:"space-y-3 md:space-y-5 lg:space-y-4",children:[e.jsxDEV("div",{children:e.jsxDEV("div",{className:"dashboard-grid grid grid-cols-1 sm:grid-cols-2 ipad:grid-cols-2 ipad-lg:grid-cols-2 ipad-xl:grid-cols-3 ipad-2xl:grid-cols-3 2xl:grid-cols-4 gap-3 md:gap-4 lg:gap-4",children:N.map(b=>{const{todaySchedules:h,upcomingSchedules:C}=y(b),k=h.length+C.length,z=b===m;return e.jsxDEV("div",{className:`card p-3 sm:p-4 md:p-5 lg:p-4 ${z?"ring-1 ring-gray-300":""}`,children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"font-bold text-lg md:text-lg text-gray-900",children:b},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:97,columnNumber:21},void 0),z&&e.jsxDEV("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:99,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:96,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[z&&e.jsxDEV("button",{onClick:()=>o(!0),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:" ",children:e.jsxDEV(Ks,{className:"h-4 w-4 text-gray-700"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:109,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:104,columnNumber:23},void 0),e.jsxDEV("span",{className:`text-xs px-2.5 py-1 ${z&&h.length>0?"bg-amber-100 text-gray-900":"bg-gray-100 text-gray-900"} rounded-full font-semibold whitespace-nowrap`,children:[h.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:112,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-semibold whitespace-nowrap",children:[C.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:115,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:102,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:95,columnNumber:17},void 0),h.length>0&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxDEV(ht,{className:"h-4 w-4 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:125,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs font-semibold text-gray-900 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:126,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:124,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:(()=>{const E=h.reduce((J,K)=>{const D=K.project||"-";return J[D]||(J[D]=[]),J[D].push(K),J},{});return Object.entries(E).map(([J,K])=>{const D=b===m;return e.jsxDEV("div",{className:`border-l-3 ${D?"border-gray-400":"border-gray-900"} ${D?"bg-amber-50":"bg-gray-50"} rounded-r overflow-hidden`,children:[e.jsxDEV("div",{className:`px-3 py-1.5 ${D?"bg-amber-100":"bg-gray-100"} border-b ${D?"border-amber-200":"border-gray-200"}`,children:e.jsxDEV("span",{className:"text-xs font-semibold text-gray-900",children:J},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:148,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:147,columnNumber:31},void 0),e.jsxDEV("div",{className:"px-3 py-2 space-y-1",children:K.map(O=>{const ee=O.time&&O.time!=="-"?` - ${vn(O.time)}`:"";return e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",O.title,ee]},O.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:154,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:150,columnNumber:31},void 0)]},J,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:143,columnNumber:29},void 0)})})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:128,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:123,columnNumber:19},void 0),C.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsxDEV(Wi,{className:"h-4 w-4 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:172,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs font-semibold text-gray-600 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:173,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:171,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:(()=>{const E=C.reduce((J,K)=>{const D=De(new Date(K.start),"MM.dd",{locale:ms}),O=K.project||"-",ee=`${D}|${O}`;return J[ee]||(J[ee]={date:D,project:O,schedules:[]}),J[ee].schedules.push(K),J},{});return Object.values(E).map(({date:J,project:K,schedules:D})=>{const ee=D.length>0&&Ao(new Date(D[0].start))?`${J} ()`:J;return e.jsxDEV("div",{className:"border-l-3 border-gray-400 bg-gray-50 rounded-r overflow-hidden",children:[e.jsxDEV("div",{className:"px-3 py-1.5 bg-gray-100 border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-xs font-semibold text-gray-700",children:K},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:195,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500 font-medium",children:ee},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:196,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:194,columnNumber:31},void 0),e.jsxDEV("div",{className:"px-3 py-2 space-y-1",children:D.map(Z=>{const U=Z.time&&Z.time!=="-"?` - ${vn(Z.time)}`:"";return e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm leading-relaxed",children:[" ",Z.title,U]},Z.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:202,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:198,columnNumber:31},void 0)]},`${J}-${K}`,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:193,columnNumber:29},void 0)})})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:175,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:170,columnNumber:19},void 0),k===0&&e.jsxDEV("div",{className:"text-center py-8 text-gray-400 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:218,columnNumber:19},void 0)]},b,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:93,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:85,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:84,columnNumber:7},void 0),a&&e.jsxDEV(Va,{event:null,slotInfo:{start:new Date,end:new Date},onClose:()=>o(!1),onSave:async b=>{try{console.log("Dashboard: Adding schedule...",b),await n({id:Date.now().toString(),title:b.title||"",start:b.start||new Date,end:b.end||new Date,type:"other",project:b.projectId||b.projectName||"",location:"",attendees:b.assignedTo||[],description:b.description||"",time:b.time}),console.log("Dashboard: Schedule added successfully"),await t(),console.log("Dashboard: Schedules fetched, closing modal"),o(!1)}catch(h){console.error("Failed to add schedule:",h),alert("  : "+(h instanceof Error?h.message:"   "))}},onDelete:async b=>{try{await r(b),await t(),o(!1)}catch(h){console.error("Failed to delete schedule:",h),alert("  : "+(h instanceof Error?h.message:"   "))}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:230,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Dashboard.tsx",lineNumber:82,columnNumber:5},void 0)},Rs=()=>{const{user:s}=js(),{projects:t}=Ws();return l.useMemo(()=>s?s.name===""?t.filter(r=>{const a=(r.manager?r.manager.split(",").map(m=>m.trim()):[]).includes(""),o=r.team&&Array.isArray(r.team)&&r.team.includes("");return a||o}):t:[],[s,t])},Vd=({value:s,detailValue:t="",onChange:n,onDetailChange:r,placeholder:i=" ",error:a})=>{const[o,m]=l.useState(!1),[N,y]=l.useState(s),[b,h]=l.useState(t),C=l.useRef(null);l.useEffect(()=>{const K=D=>{C.current&&!C.current.contains(D.target)&&m(!1)};return o&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[o]),l.useEffect(()=>{y(s)},[s]),l.useEffect(()=>{h(t)},[t]);const k=()=>new Promise((K,D)=>{if(window.daum&&window.daum.Postcode){K(!0);return}const O=document.createElement("script");O.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",O.async=!0,O.onload=()=>K(!0),O.onerror=()=>D(new Error("Kakao Postcode   ")),document.head.appendChild(O)}),z=K=>{const D=K.roadAddr||K.jibunAddr;y(D),n(D,b),m(!1)},E=K=>{const D=K.target.value;h(D),r&&r(D),N&&n(N,D)},J=async()=>{try{(!window.daum||!window.daum.Postcode)&&await k(),window.daum&&new window.daum.Postcode({oncomplete:function(K){const D={roadAddr:K.roadAddress,jibunAddr:K.jibunAddress||K.autoJibunAddress||"",zipNo:K.zonecode,bdNm:K.buildingName,siNm:K.sido,sggNm:K.sigungu,emdNm:K.bname,rn:K.roadname};z(D)}}).open()}catch(K){console.error("  :",K),alert("     .  .")}};return e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV("input",{type:"text",value:N,onClick:()=>J(),onChange:K=>{y(K.target.value),n(K.target.value,b)},placeholder:i,className:`input pr-8 cursor-pointer ${a?"border-red-500":""}`,readOnly:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:172,columnNumber:13},void 0),e.jsxDEV(xn,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:184,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",onClick:J,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:188,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:170,columnNumber:9},void 0),a&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:197,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:169,columnNumber:7},void 0),e.jsxDEV("div",{children:e.jsxDEV("input",{type:"text",value:b,onChange:E,placeholder:" (/ )",className:"input",disabled:!N},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:202,columnNumber:7},void 0),N&&e.jsxDEV("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-gray-600",children:[e.jsxDEV("span",{className:"font-medium",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:217,columnNumber:13},void 0)," ",N,b&&`, ${b}`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:216,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:215,columnNumber:9},void 0),e.jsxDEV("div",{id:"address-search-container",style:{display:"none",width:"100%",height:"400px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:225,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AddressSearch.tsx",lineNumber:167,columnNumber:5},void 0)},xi=["","","","","","",""],Cd=({project:s,onClose:t,onSave:n})=>{const{register:r,handleSubmit:i,setValue:a,reset:o,formState:{errors:m}}=Kt({defaultValues:{name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}}),[N,y]=l.useState([]),[b,h]=l.useState(""),[C,k]=l.useState(""),[z,E]=l.useState("");l.useEffect(()=>{var ee;if(s){const Z=s.location?s.location.split(","):["",""],U=((ee=Z[0])==null?void 0:ee.trim())||s.location||"",Y=Z.length>1?Z.slice(1).join(",").trim():"";o({name:s.name,client:s.client||"",location:U,detailLocation:Y,startDate:s.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",endDate:s.endDate?new Date(s.endDate).toISOString().split("T")[0]:""}),k(U),E(Y);const G=s.manager?s.manager.split(",").map(le=>le.trim()).filter(le=>le&&le!==""):[];y(G)}else o({name:"",client:"",location:"",detailLocation:"",startDate:"",endDate:""}),k(""),E(""),y([])},[s,o]);const J=ee=>{y(Z=>Z.includes(ee)?Z.filter(U=>U!==ee):[...Z,ee])},K=()=>{b.trim()&&!N.includes(b.trim())&&(y(ee=>[...ee,b.trim()]),h(""))},D=ee=>{y(Z=>Z.filter(U=>U!==ee))},O=ee=>{console.log(" ProjectModal onSubmit - Raw form data:",ee);const Z=C&&z?`${C}, ${z}`:C||ee.location,U={name:ee.name,client:ee.client,location:Z,manager:N.join(", "),contractAmount:(s==null?void 0:s.contractAmount)??0,spent:(s==null?void 0:s.spent)??0,status:(s==null?void 0:s.status)??"planning",progress:(s==null?void 0:s.progress)??0,description:(s==null?void 0:s.description)??"",meetingNotes:(s==null?void 0:s.meetingNotes)??[],customerRequests:(s==null?void 0:s.customerRequests)??[],entrancePassword:(s==null?void 0:s.entrancePassword)??"",sitePassword:(s==null?void 0:s.sitePassword)??""};if(ee.startDate&&ee.startDate!=="")U.startDate=ee.startDate,console.log(" Setting startDate from form:",ee.startDate);else if(s!=null&&s.startDate){const Y=typeof s.startDate=="string"&&s.startDate.includes("T")?s.startDate.split("T")[0]:s.startDate;U.startDate=Y,console.log(" Keeping existing startDate:",U.startDate)}if(ee.endDate&&ee.endDate!=="")U.endDate=ee.endDate,console.log(" Setting endDate from form:",ee.endDate);else if(s!=null&&s.endDate){const Y=typeof s.endDate=="string"&&s.endDate.includes("T")?s.endDate.split("T")[0]:s.endDate;U.endDate=Y,console.log(" Keeping existing endDate:",U.endDate)}console.log(" ProjectModal onSubmit - Final formData:",U),n(U)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-3 md:p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-lg md:text-xl font-semibold",children:s?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:177,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ns,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:184,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:180,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:176,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:i(O),className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV("input",{...r("name",{required:" "}),type:"text",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:196,columnNumber:15},void 0),m.name&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.name.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:202,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:207,columnNumber:15},void 0),e.jsxDEV("input",{...r("client"),type:"text",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:210,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:206,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:191,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(Vd,{value:C,detailValue:z,onChange:(ee,Z)=>{k(ee),E(Z||""),a("location",ee),a("detailLocation",Z||"")},onDetailChange:ee=>{E(ee),a("detailLocation",ee)},placeholder:"  ",required:!0,error:m.location?String(m.location.message):void 0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:223,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:219,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:246,columnNumber:15},void 0),e.jsxDEV("input",{...r("startDate"),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:249,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:245,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:257,columnNumber:15},void 0),e.jsxDEV("input",{...r("endDate"),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:260,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:256,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:244,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[xi.map(ee=>e.jsxDEV("button",{type:"button",onClick:()=>J(ee),className:`px-2.5 py-1.5 rounded border transition-colors text-sm ${N.includes(ee)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:ee},ee,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:278,columnNumber:17},void 0)),N.filter(ee=>!xi.includes(ee)).map(ee=>e.jsxDEV("button",{type:"button",onClick:()=>D(ee),className:"px-2.5 py-1.5 rounded border transition-colors text-sm bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[ee," "]},ee,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:296,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:275,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:b,onChange:ee=>h(ee.target.value),onKeyPress:ee=>{ee.key==="Enter"&&(ee.preventDefault(),K())},placeholder:"   ",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:310,columnNumber:15},void 0),e.jsxDEV("button",{type:"button",onClick:K,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:323,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:309,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:269,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-2 md:space-x-3 pt-4 border-t",children:[e.jsxDEV("button",{type:"button",onClick:t,className:"btn btn-outline text-sm md:text-base",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:336,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary text-sm md:text-base",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:343,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:335,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:189,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:174,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/ProjectModal.tsx",lineNumber:173,columnNumber:5},void 0)},Ed=({projectName:s,meetingNotes:t,onClose:n,onSave:r,onDelete:i})=>{const[a,o]=l.useState(""),[m,N]=l.useState(new Date().toISOString().split("T")[0]),[y,b]=l.useState(!1),h=()=>{b(!0),o(""),N(new Date().toISOString().split("T")[0])},C=()=>{if(!a.trim()){alert(" ");return}if(!m){alert(" ");return}r(a.trim(),new Date(m)),o(""),N(new Date().toISOString().split("T")[0]),b(!1)},k=()=>{o(""),N(new Date().toISOString().split("T")[0]),b(!1)},z=E=>{window.confirm("   ?")&&i(E)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:E=>E.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:75,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ns,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:83,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:79,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:74,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[!y&&e.jsxDEV("button",{onClick:h,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:91,columnNumber:13},void 0),y&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:103,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:m,onChange:E=>N(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:102,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:114,columnNumber:17},void 0),e.jsxDEV("textarea",{value:a,onChange:E=>o(E.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:4},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:117,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:113,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:C,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:126,columnNumber:17},void 0),e.jsxDEV("button",{onClick:k,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:132,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:101,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-3",children:t.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-400 text-sm",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:145,columnNumber:15},void 0):t.map(E=>e.jsxDEV("div",{className:"p-4 bg-white border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:De(new Date(E.date),"yyyy.MM.dd (eee)",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:156,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:E.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:159,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:155,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>z(E.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:163,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:154,columnNumber:19},void 0)},E.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:150,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:69,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/MeetingNotesModal.tsx",lineNumber:65,columnNumber:5},void 0)},Ad=({projectName:s,customerRequests:t,onClose:n,onSave:r,onToggleComplete:i,onDelete:a})=>{const[o,m]=l.useState(""),[N,y]=l.useState(new Date().toISOString().split("T")[0]),[b,h]=l.useState(!1),C=()=>{h(!0),m(""),y(new Date().toISOString().split("T")[0])},k=()=>{if(!o.trim()){alert(" ");return}if(!N){alert(" ");return}r(o.trim(),new Date(N)),m(""),y(new Date().toISOString().split("T")[0]),h(!1)},z=()=>{m(""),y(new Date().toISOString().split("T")[0]),h(!1)},E=O=>{window.confirm("  ?")&&a(O)},J=O=>{i(O)},K=t.filter(O=>!O.completed),D=t.filter(O=>O.completed);return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:n,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col shadow-xl",onClick:O=>O.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:86,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:87,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:85,columnNumber:11},void 0),e.jsxDEV("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ns,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:93,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:84,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[!b&&e.jsxDEV("button",{onClick:C,className:"w-full mb-4 px-4 py-2.5 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"+ "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:101,columnNumber:13},void 0),b&&e.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:113,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:N,onChange:O=>y(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:112,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:124,columnNumber:17},void 0),e.jsxDEV("textarea",{value:o,onChange:O=>m(O.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900 resize-none",rows:3},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:127,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:123,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:k,className:"px-4 py-1.5 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:136,columnNumber:17},void 0),e.jsxDEV("button",{onClick:z,className:"px-4 py-1.5 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:142,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:135,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:111,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:t.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-400 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:155,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[K.map(O=>e.jsxDEV("div",{className:"p-3 bg-white border border-gray-300 rounded hover:border-gray-400 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("button",{onClick:()=>J(O.id),className:"mt-0.5 flex-shrink-0",children:e.jsxDEV(co,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:171,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:167,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-900 whitespace-pre-wrap break-words",children:O.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:174,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:De(new Date(O.createdAt),"yyyy.MM.dd",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:177,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:173,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>E(O.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:181,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:166,columnNumber:21},void 0)},O.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:162,columnNumber:19},void 0)),D.map(O=>e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded hover:border-gray-300 transition-colors group",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("button",{onClick:()=>J(O.id),className:"mt-0.5 flex-shrink-0",children:e.jsxDEV(uo,{className:"h-4 w-4 text-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:202,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:198,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm text-gray-500 line-through whitespace-pre-wrap break-words",children:O.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:205,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:De(new Date(O.createdAt),"yyyy.MM.dd",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:208,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:204,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>E(O.id),className:"opacity-0 group-hover:opacity-100 px-2 py-1 text-xs text-gray-500 hover:text-red-600 transition-all",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:212,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:197,columnNumber:21},void 0)},O.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:193,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:159,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:153,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:98,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:79,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CustomerRequestsModal.tsx",lineNumber:75,columnNumber:5},void 0)},wd=({projectName:s,entrancePassword:t,sitePassword:n,onClose:r,onSave:i})=>{const[a,o]=l.useState(t||""),[m,N]=l.useState(n||""),[y,b]=l.useState(!1),h=()=>{b(!0)},C=()=>{i(a,m),b(!1)},k=()=>{o(t||""),N(n||""),b(!1)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full shadow-xl",onClick:z=>z.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:50,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-0.5",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:51,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:49,columnNumber:11},void 0),e.jsxDEV("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(ns,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:57,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:48,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:65,columnNumber:13},void 0),y?e.jsxDEV("input",{type:"text",value:a,onChange:z=>o(z.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:69,columnNumber:15},void 0):e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:a?e.jsxDEV("span",{className:"text-sm font-mono text-gray-900",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:79,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:81,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:77,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:64,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:89,columnNumber:13},void 0),y?e.jsxDEV("input",{type:"text",value:m,onChange:z=>N(z.target.value),placeholder:"  ",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:93,columnNumber:15},void 0):e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded",children:m?e.jsxDEV("span",{className:"text-sm font-mono text-gray-900",children:m},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:103,columnNumber:19},void 0):e.jsxDEV("span",{className:"text-sm text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:105,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:88,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:62,columnNumber:9},void 0),e.jsxDEV("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-2",children:y?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:C,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:116,columnNumber:15},void 0),e.jsxDEV("button",{onClick:k,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:122,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:115,columnNumber:13},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:h,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:131,columnNumber:15},void 0),e.jsxDEV("button",{onClick:r,className:"flex-1 px-4 py-2 bg-gray-900 text-white text-sm rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:137,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:130,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:113,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:43,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/SitePasswordModal.tsx",lineNumber:39,columnNumber:5},void 0)},jd=({projectName:s,onClose:t})=>{var o;const[n,r]=l.useState({clientName:"",phoneNumber:"",address:"",startDate:"",endDate:"",area:"",designFee:"",bankAccount:" 487102-01-264798 ",companyAddress:"  277  109",representative:"  "}),i=()=>{window.print()},a=m=>{const N=Number(m.replace(/,/g,""));return isNaN(N)?"":N.toLocaleString()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:40,columnNumber:13},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ns,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:45,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:41,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:39,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:52,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:n.clientName,onChange:m=>r({...n,clientName:m.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:53,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:51,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:63,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:n.phoneNumber,onChange:m=>r({...n,phoneNumber:m.target.value}),placeholder:"010-0000-0000",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:64,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:62,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:74,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:n.address,onChange:m=>r({...n,address:m.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:75,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:86,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:n.startDate,onChange:m=>r({...n,startDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:87,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:85,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:95,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:n.endDate,onChange:m=>r({...n,endDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:96,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:94,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:106,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:n.area,onChange:m=>r({...n,area:m.target.value}),placeholder:": 21.9(72.37m2)",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:105,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:117,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:a(n.designFee),onChange:m=>{const N=m.target.value.replace(/,/g,"");/^\d*$/.test(N)&&r({...n,designFee:N})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:118,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:133,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:n.bankAccount,onChange:m=>r({...n,bankAccount:m.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:134,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:132,columnNumber:13},void 0),e.jsxDEV("button",{onClick:i,disabled:!n.clientName||!n.phoneNumber||!n.address,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsxDEV(Oi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:147,columnNumber:15},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:142,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:50,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden print:block p-16",children:e.jsxDEV("div",{className:"space-y-16",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:156,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-8 text-base leading-relaxed",children:[e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"1.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:161,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:n.clientName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:162,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:160,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"2.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:166,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:n.phoneNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:167,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:165,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"3.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:171,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:n.address},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:172,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:170,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"3.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:176,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:n.startDate&&n.endDate?e.jsxDEV(e.Fragment,{children:[De(new Date(n.startDate),"yyyy",{locale:ms}),"",De(new Date(n.startDate),"MM",{locale:ms}),"",De(new Date(n.startDate),"dd",{locale:ms})," ~ ",De(new Date(n.endDate),"yyyy",{locale:ms}),"",De(new Date(n.endDate),"MM",{locale:ms}),"",De(new Date(n.endDate),"dd",{locale:ms})," ()"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:179,columnNumber:23},void 0):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:177,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:175,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"5.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:187,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:n.area},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:188,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:186,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col",children:[e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("span",{className:"w-48",children:"6.  :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:193,columnNumber:21},void 0),e.jsxDEV("span",{className:"flex-1",children:[n.designFee?`${a(n.designFee)}`:""," ()"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:194,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:192,columnNumber:19},void 0),n.bankAccount&&e.jsxDEV("div",{className:"ml-48 mt-2 text-center",children:n.bankAccount},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:199,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:191,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-20 space-y-3",children:[e.jsxDEV("div",{className:"text-base font-bold",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:206,columnNumber:17},void 0),e.jsxDEV("div",{className:"ml-8 space-y-2 text-base",children:[e.jsxDEV("div",{children:[" : ",n.address]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:208,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{children:[" : ",(o=n.clientName)==null?void 0:o.split("").join("    ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:210,columnNumber:21},void 0),e.jsxDEV("span",{className:"ml-8",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:211,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:209,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:207,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:205,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-12 space-y-3",children:[e.jsxDEV("div",{className:"text-base font-bold",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:218,columnNumber:17},void 0),e.jsxDEV("div",{className:"ml-8 space-y-2 text-base",children:[e.jsxDEV("div",{children:[" : ",n.companyAddress]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:220,columnNumber:19},void 0),e.jsxDEV("div",{children:" : HV LAB ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:221,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{children:[" : ",n.representative]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:223,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-8 inline-flex items-center justify-center w-14 h-14 border-2 border-red-600",children:e.jsxDEV("span",{className:"text-red-600 text-xs font-bold leading-tight text-center",children:["",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:226,columnNumber:28},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:225,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:224,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:222,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:219,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:217,columnNumber:15},void 0),e.jsxDEV("div",{className:"border-t-[3px] border-gray-900 mt-32 pt-12 flex justify-between items-end",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{className:"text-4xl font-bold",children:"H"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:236,columnNumber:19},void 0),e.jsxDEV("span",{className:"inline-block w-12 h-1 bg-gray-900 mx-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:237,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:235,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-xs tracking-widest mb-1",children:"ARCHITECTURE & INTERIOR"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:240,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-3xl font-bold",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:241,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:154,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:153,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:36,columnNumber:7},void 0),e.jsxDEV("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 0;
          }
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
          .print\\:relative {
            position: relative !important;
            background: white !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:250,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/DesignContractModal.tsx",lineNumber:35,columnNumber:5},void 0)},Ld=()=>{const{loadProjectsFromAPI:s,addProjectToAPI:t,updateProjectInAPI:n,deleteProjectFromAPI:r}=Ws(),{user:i}=js(),a=Rs(),[o,m]=l.useState("in-progress"),[N,y]=l.useState("grid"),[b,h]=l.useState(!1),[C,k]=l.useState(null),[z,E]=l.useState(!1),[J,K]=l.useState(!1),[D,O]=l.useState(!1),[ee,Z]=l.useState(!1),[U,Y]=l.useState(null),G=(W,ce)=>`lastViewed_${i==null?void 0:i.id}_${W}_${ce}`,le=(W,ce)=>{const w=G(W,ce),T=localStorage.getItem(w);return T?parseInt(T,10):0},de=(W,ce)=>{const w=G(W,ce);localStorage.setItem(w,Date.now().toString())},ke=(W,ce)=>{const w=le(W.id,ce);return ce==="meeting"?(W.meetingNotes||[]).some(ae=>(ae.createdAt?new Date(ae.createdAt).getTime():new Date(ae.date).getTime())>w):(W.customerRequests||[]).some(ae=>!ae.completed)};l.useEffect(()=>{s().catch(W=>{console.error("Failed to load projects:",W),F.error("   ")})},[s]),l.useEffect(()=>{const W=()=>{k(null),h(!0)};return window.addEventListener("headerAddButtonClick",W),()=>window.removeEventListener("headerAddButtonClick",W)},[]);const se=(W,ce)=>{if(!W||!ce)return 0;const w=new Date,T=new Date(W),ae=new Date(ce);if(w<T)return 0;if(w>ae)return 100;const ye=Math.ceil((ae.getTime()-T.getTime())/(1e3*60*60*24)),Ie=Math.ceil((w.getTime()-T.getTime())/(1e3*60*60*24)),Ue=Math.round(Ie/ye*100);return Math.min(100,Math.max(0,Ue))},ue=W=>{k(W),h(!0)},oe=async(W,ce)=>{if(window.confirm(`"${ce}"  ?

    .`))try{await r(W),F.success(" ")}catch(w){console.error("Failed to delete project:",w),F.error("  ")}},Ve=async W=>{try{if(C)await n(C.id,W),F.success(" ");else{const ce={id:"",...W,team:W.team||[]};await t(ce),F.success(" "),m(W.status||"planning")}h(!1),k(null)}catch(ce){console.error("Failed to save project:",ce),F.error("  ")}},Ee=async(W,ce)=>{try{await n(W,{status:ce}),F.success(" ")}catch(w){console.error("Failed to update project status:",w),F.error("  ")}},je=W=>{Y(W),E(!0),de(W.id,"meeting")},Me=W=>{Y(W),K(!0),de(W.id,"request")},re=W=>{Y(W),O(!0)},be=W=>{Y(W),Z(!0)},we=async(W,ce)=>{if(!U)return;const w=U.entrancePassword,T=U.sitePassword;Y({...U,entrancePassword:W,sitePassword:ce});try{await n(U.id,{entrancePassword:W,sitePassword:ce}),F.success(" ")}catch(ae){console.error("Failed to save passwords:",ae),F.error("  "),Y({...U,entrancePassword:w,sitePassword:T})}},Ne=async(W,ce)=>{if(!U)return;const w={id:Date.now().toString(),content:W,date:ce,createdAt:new Date},T=[...U.meetingNotes||[],w];Y({...U,meetingNotes:T});try{await n(U.id,{meetingNotes:T}),F.success("  ")}catch(ae){console.error("Failed to save meeting note:",ae),F.error("   "),Y({...U,meetingNotes:U.meetingNotes||[]})}},Ae=async(W,ce)=>{if(!U)return;const w={id:Date.now().toString(),content:W,completed:!1,createdAt:ce},T=[...U.customerRequests||[],w];Y({...U,customerRequests:T});try{await n(U.id,{customerRequests:T}),F.success("  ")}catch(ae){console.error("Failed to save customer request:",ae),F.error("   "),Y({...U,customerRequests:U.customerRequests||[]})}},He=async W=>{if(!U)return;const ce=U.customerRequests||[],w=ce.map(T=>T.id===W?{...T,completed:!T.completed}:T);Y({...U,customerRequests:w});try{await n(U.id,{customerRequests:w}),F.success("  ")}catch(T){console.error("Failed to toggle request:",T),F.error("  "),Y({...U,customerRequests:ce})}},Le=async W=>{if(!U)return;const ce=U.meetingNotes||[],w=ce.filter(T=>T.id!==W);Y({...U,meetingNotes:w});try{await n(U.id,{meetingNotes:w}),F.success("  ")}catch(T){console.error("Failed to delete meeting note:",T),F.error(" "),Y({...U,meetingNotes:ce})}},Se=async W=>{if(!U)return;const ce=U.customerRequests||[],w=ce.filter(T=>T.id!==W);Y({...U,customerRequests:w});try{await n(U.id,{customerRequests:w}),F.success("  ")}catch(T){console.error("Failed to delete customer request:",T),F.error(" "),Y({...U,customerRequests:ce})}},P=({project:W})=>{const w={planning:{label:"",color:"bg-white text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-white text-gray-900 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},"on-hold":{label:"",color:"bg-white text-gray-600 border-gray-300"}}[W.status];return e.jsxDEV("select",{value:W.status,onChange:T=>Ee(W.id,T.target.value),className:ws("px-2 py-1 text-xs font-medium border rounded cursor-pointer","focus:outline-none focus:ring-2 focus:ring-gray-500",w.color),onClick:T=>T.stopPropagation(),children:[e.jsxDEV("option",{value:"planning",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:395,columnNumber:9},void 0),e.jsxDEV("option",{value:"in-progress",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:396,columnNumber:9},void 0),e.jsxDEV("option",{value:"completed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:397,columnNumber:9},void 0),e.jsxDEV("option",{value:"on-hold",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:398,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:385,columnNumber:7},void 0)},M=(()=>{let W=a;return o!=="all"&&(W=W.filter(ce=>ce.status===o)),W})(),fe={planning:a.filter(W=>W.status==="planning").length,inProgress:a.filter(W=>W.status==="in-progress").length,completed:a.filter(W=>W.status==="completed").length,onHold:a.filter(W=>W.status==="on-hold").length},Ce=({project:W})=>{var w,T,ae,ye;const ce=se(W.startDate,W.endDate);return e.jsxDEV("div",{className:"card p-3 md:p-4 hover:border-gray-400 transition-colors",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-bold text-base md:text-lg text-gray-900",children:W.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:432,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:[W.client,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:433,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:431,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-end gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[W.status==="planning"&&e.jsxDEV("button",{onClick:()=>be(W),className:"px-2 py-1 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 rounded transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:438,columnNumber:17},void 0),e.jsxDEV(P,{project:W},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:445,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:436,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>ue(W),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:447,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:435,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:430,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-1.5 md:space-y-2 mb-3 md:mb-4 text-xs md:text-sm",children:[e.jsxDEV("div",{className:"text-gray-600",children:[": ",W.location]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:457,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-600",children:[": ",W.startDate&&W.endDate?`${De(W.startDate,"MM.dd (eee)",{locale:ms})} - ${De(W.endDate,"MM.dd (eee)",{locale:ms})}`:""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:460,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-gray-600",children:[": ",W.manager]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:465,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:456,columnNumber:9},void 0),e.jsxDEV("div",{className:"mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1.5 md:mb-2",children:[e.jsxDEV("span",{className:"text-[10px] md:text-xs text-gray-600",children:" ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:472,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:[ce,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:473,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:471,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 h-1",children:e.jsxDEV("div",{className:"bg-gray-900 h-1 transition-all",style:{width:`${ce}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:476,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:475,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:470,columnNumber:9},void 0),e.jsxDEV("div",{className:"pt-2 border-t border-gray-200 space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxDEV("button",{onClick:()=>je(W),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((w=W.meetingNotes)==null?void 0:w.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((T=W.meetingNotes)==null?void 0:T.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:491,columnNumber:17},void 0),ke(W,"meeting")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:496,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:485,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>Me(W),className:"relative px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((ae=W.customerRequests)==null?void 0:ae.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((ye=W.customerRequests)==null?void 0:ye.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:507,columnNumber:17},void 0),ke(W,"request")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:512,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:501,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>re(W),className:"px-2 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:517,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:484,columnNumber:11},void 0),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&e.jsxDEV("div",{className:"flex space-x-2",children:e.jsxDEV("button",{onClick:()=>oe(W.id,W.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:526,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:525,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:483,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:429,columnNumber:7},void 0)};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"planning",label:"",count:fe.planning,color:"text-gray-700"},{id:"in-progress",label:"",count:fe.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:fe.completed,color:"text-gray-700"},{id:"all",label:"",count:a.length,color:"text-gray-600"}].map(W=>e.jsxDEV("button",{onClick:()=>m(W.id),className:ws("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap",o===W.id?`border-gray-700 ${W.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[W.label,e.jsxDEV("span",{className:ws("ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold",o===W.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:W.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:563,columnNumber:17},void 0)]},W.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:552,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:545,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-6 mb-3 md:mb-4",children:[e.jsxDEV("div",{className:"hidden sm:flex border border-gray-300 overflow-hidden rounded",children:[e.jsxDEV("button",{onClick:()=>y("grid"),className:ws("px-3 md:px-4 py-2 text-xs md:text-sm",N==="grid"?"bg-gray-100":"hover:bg-gray-50"),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:577,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>y("list"),className:ws("px-3 md:px-4 py-2 text-xs md:text-sm border-l border-gray-300",N==="list"?"bg-gray-100":"hover:bg-gray-50"),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:586,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:576,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{k(null),h(!0)},className:"hidden lg:inline-flex btn btn-primary portrait:px-2 landscape:px-4 py-2 items-center gap-1",children:[e.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:604,columnNumber:15},void 0),e.jsxDEV("span",{className:"portrait:hidden landscape:inline",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:605,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:597,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:574,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:543,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:542,columnNumber:7},void 0),N==="grid"||window.innerWidth<768?e.jsxDEV("div",{className:"projects-grid grid grid-cols-1 md:grid-cols-2 ipad:grid-cols-2 ipad-lg:grid-cols-2 ipad-xl:grid-cols-3 ipad-2xl:grid-cols-3 2xl:grid-cols-4 gap-3 md:gap-6",children:M.map(W=>e.jsxDEV(Ce,{project:W},W.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:614,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:612,columnNumber:9},void 0):e.jsxDEV("div",{className:"bg-white border border-gray-200 overflow-hidden",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:622,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:625,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:628,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:631,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:634,columnNumber:17},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:637,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:621,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(W=>{var w,T,ae,ye;const ce=se(W.startDate,W.endDate);return e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:W.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:649,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:W.location},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:648,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:647,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"text-sm",children:[W.client,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:654,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:653,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:W.startDate&&W.endDate?e.jsxDEV(e.Fragment,{children:[De(W.startDate,"yyyy.MM.dd (eee)",{locale:ms})," -",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:660,columnNumber:27},void 0),De(W.endDate,"yyyy.MM.dd (eee)",{locale:ms})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:658,columnNumber:25},void 0):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:656,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[W.status==="planning"&&e.jsxDEV("button",{onClick:()=>be(W),className:"px-2 py-1 text-xs font-medium text-white bg-gray-700 hover:bg-gray-800 rounded transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:668,columnNumber:27},void 0),e.jsxDEV(P,{project:W},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:675,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:666,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:665,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"w-24 bg-gray-200 h-1 mr-2",children:e.jsxDEV("div",{className:"bg-gray-900 h-1",style:{width:`${ce}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:681,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:680,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm",children:[ce,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:686,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:679,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:678,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>je(W),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((w=W.meetingNotes)==null?void 0:w.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((T=W.meetingNotes)==null?void 0:T.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:698,columnNumber:31},void 0),ke(W,"meeting")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:703,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:692,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Me(W),className:"relative px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:["",(((ae=W.customerRequests)==null?void 0:ae.length)||0)>0&&e.jsxDEV("span",{className:"ml-1 text-[10px] text-gray-500",children:["(",((ye=W.customerRequests)==null?void 0:ye.length)||0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:714,columnNumber:31},void 0),ke(W,"request")&&e.jsxDEV("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 text-[9px] font-bold leading-none text-white bg-red-500 rounded-full",children:"N"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:719,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:708,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>re(W),className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:724,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:691,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>ue(W),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:732,columnNumber:27},void 0),((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager")&&e.jsxDEV("button",{onClick:()=>oe(W.id,W.name),className:"text-xs text-rose-600 hover:text-rose-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:739,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:731,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:690,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:689,columnNumber:21},void 0)]},W.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:646,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:642,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:619,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:618,columnNumber:9},void 0),b&&e.jsxDEV(Cd,{project:C,onClose:()=>{h(!1),k(null)},onSave:Ve},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:758,columnNumber:9},void 0),z&&U&&e.jsxDEV(Ed,{projectName:U.name,meetingNotes:U.meetingNotes||[],onClose:()=>{E(!1),Y(null)},onSave:Ne,onDelete:Le},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:769,columnNumber:9},void 0),J&&U&&e.jsxDEV(Ad,{projectName:U.name,customerRequests:U.customerRequests||[],onClose:()=>{K(!1),Y(null)},onSave:Ae,onToggleComplete:He,onDelete:Se},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:782,columnNumber:9},void 0),D&&U&&e.jsxDEV(wd,{projectName:U.name,entrancePassword:U.entrancePassword||"",sitePassword:U.sitePassword||"",onClose:()=>{O(!1),Y(null)},onSave:we},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:796,columnNumber:9},void 0),ee&&U&&e.jsxDEV(jd,{projectName:U.name,onClose:()=>{Z(!1),Y(null)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:809,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Projects.tsx",lineNumber:540,columnNumber:5},void 0)};rs.updateLocale("ko",{months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm"},meridiem:s=>s<12?"":"",week:{dow:0,doy:1}});rs.locale("ko");const _d=jo(rs),yi=["#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6","#F3F4F6"],hi=s=>{if(!s)return s;const t=s.split("_");return t.length>1&&t[0].length>2?t[0].substring(0,2)+"_"+t.slice(1).join("_"):s},Pt={"2025-01-01":"","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-03-01":"","2025-03-03":"","2025-05-05":"","2025-05-06":"","2025-06-06":"","2025-08-15":"","2025-10-03":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2025-10-08":"","2025-10-09":"","2025-12-25":""},Hd=Ze.memo(({date:s,label:t,filteredEvents:n,selectedDate:r,user:i,isMobileView:a})=>{const o=rs(s).format("YYYY-MM-DD"),m=Pt[o],N=!!Pt[o],y=r&&rs(s).isSame(r,"day"),b=n.filter(Z=>rs(Z.start).isSame(s,"day")),h=b.length,C=b.filter(Z=>Z.assignedTo&&Z.assignedTo.includes((i==null?void 0:i.name)||"")).length,k=h-C,z=t.replace(/^0/,""),E=s.getDay()===0,J=s.getDay()===6;let K="#000000";N||E?K="#dc2626":J&&(K="#3b82f6");const D=rs(s).isSame(rs(),"day"),O=z.length===2,ee=a?{backgroundColor:"transparent",color:K,borderRadius:"50%",width:"30px",height:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontWeight:D?"700":"400",border:y?"1px solid #1f2937":"1px solid transparent",boxSizing:"border-box",gap:"1px"}:{color:K,fontWeight:D?"700":"400",paddingLeft:O?"0px":"4px"};return e.jsxDEV("div",{className:a?"flex flex-col items-center":"flex items-center gap-2",style:{overflow:"visible",position:"relative",zIndex:10},children:a?e.jsxDEV("span",{style:ee,children:[e.jsxDEV("span",{style:{fontSize:"13px",lineHeight:"1"},children:z},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:197,columnNumber:11},void 0),h>0&&e.jsxDEV("div",{className:"flex gap-0.5",style:{minHeight:"4px",marginTop:"1px"},children:[Array.from({length:C}).map((Z,U)=>e.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#66BB6A",flexShrink:0}},`user-${U}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:203,columnNumber:17},void 0)),Array.from({length:k}).map((Z,U)=>e.jsxDEV("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#757575",flexShrink:0}},`other-${U}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:216,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:200,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:196,columnNumber:9},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{style:ee,children:z},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:233,columnNumber:11},void 0),m&&e.jsxDEV("span",{className:"text-xs font-medium",style:{color:"#ef4444"},children:m},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:235,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:232,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:190,columnNumber:5},void 0)}),Bd=Ze.memo(({event:s,user:t})=>{const n=s.assignedTo||[],r=()=>{const h=window.innerWidth,C=window.innerHeight;return h>=768&&h<1024||h>=1024&&C>h},[i,a]=l.useState(r),[o,m]=l.useState(!1),N=t!=null&&t.name?t.name.slice(-2):null,y=N&&["",""].includes(N),b=N&&["","",""].includes(N);return l.useEffect(()=>{const h=()=>{a(r())};return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),i?e.jsxDEV("div",{className:"w-full relative block",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{padding:"1px 3px",minHeight:"30px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[e.jsxDEV("div",{className:"flex items-center justify-between w-full",style:{fontSize:"10px",opacity:.8,marginBottom:"1px",lineHeight:"1.2"},children:[!s.isASVisit&&s.projectName?e.jsxDEV("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"60%",flexShrink:0},children:["[",hi(s.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:291,columnNumber:13},void 0):e.jsxDEV("span",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:301,columnNumber:13},void 0),n.length>0&&e.jsxDEV("span",{style:{flexShrink:0,fontSize:"10px",marginLeft:"auto"},children:n.map((h,C)=>{const k=h==="HV LAB"||h===""&&y||h===""&&b||h===(t==null?void 0:t.name);return e.jsxDEV(Ze.Fragment,{children:[e.jsxDEV("span",{style:{fontWeight:k?"bold":"normal"},children:h},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:312,columnNumber:21},void 0),C<n.length-1&&""]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:311,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:304,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:289,columnNumber:9},void 0),e.jsxDEV("div",{style:{fontWeight:500,fontSize:"11px",lineHeight:"1.3",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"keep-all",textOverflow:"ellipsis"},title:s.title,children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:324,columnNumber:9},void 0),o&&e.jsxDEV("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded p-2 shadow-lg",style:{bottom:"100%",left:"0",marginBottom:"4px",minWidth:"200px",maxWidth:"300px"},children:[e.jsxDEV("div",{className:"font-semibold mb-1",children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:353,columnNumber:13},void 0),s.projectName&&e.jsxDEV("div",{className:"opacity-90",children:[": ",s.projectName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:355,columnNumber:15},void 0),n.length>0&&e.jsxDEV("div",{className:"opacity-90 mt-1",children:[": ",n.join(", ")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:358,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:343,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:276,columnNumber:7},void 0):e.jsxDEV("div",{className:"flex items-center justify-between w-full gap-1.5 overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5 overflow-hidden flex-1",children:[!s.isASVisit&&s.projectName&&e.jsxDEV("span",{className:"text-xs opacity-70 flex-shrink-0",children:["[",hi(s.projectName),"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:372,columnNumber:11},void 0),e.jsxDEV("span",{className:"font-medium truncate",children:s.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:376,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:369,columnNumber:7},void 0),n.length>0&&e.jsxDEV("span",{className:"text-xs opacity-80 flex-shrink-0 ml-auto",children:n.map((h,C)=>{const k=h==="HV LAB"||h===""&&y||h===""&&b||h===(t==null?void 0:t.name);return e.jsxDEV(Ze.Fragment,{children:[e.jsxDEV("span",{className:k?"font-bold":"",children:h},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:387,columnNumber:17},void 0),C<n.length-1&&""]},h,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:386,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:379,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:368,columnNumber:5},void 0)}),Ud=()=>{const{schedules:s,loadSchedulesFromAPI:t,addScheduleToAPI:n,updateScheduleInAPI:r,deleteScheduleFromAPI:i,asRequests:a,updateASRequestInAPI:o,loadASRequestsFromAPI:m,constructionPayments:N,updateConstructionPaymentInAPI:y}=Ws(),{user:b}=js(),h=Rs(),[C,k]=l.useState(!1);l.useEffect(()=>{const f=()=>{const B=window.innerHeight>window.innerWidth&&window.innerWidth>=1024;k(B)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const z=f=>!f||f==="-"?"":C?f:vn(f),E=b!=null&&b.name?b.name.slice(-2):null;console.log(" Current user:",b==null?void 0:b.name,"Short name:",E),l.useEffect(()=>{t().catch(f=>{console.error("Failed to load schedules:",f),F.error("  ")})},[t]);const J=f=>{const B=h.findIndex(v=>v.name===f);return B>=0?yi[B%yi.length]:"#e8e2ea"},K=h.map(f=>f.name),D=s.filter(f=>!f.asRequestId).filter(f=>(b==null?void 0:b.name)===""?f.project===""||K.includes(f.project):!0).map(f=>{const B=f.project===""?"[]":f.project,v=h.find(V=>V.name===f.project),p=f.time,S=p&&p!=="-"?` - ${z(p)}`:"",d=f.attendees||[],q=d.includes("")||d.includes((b==null?void 0:b.name)||"")||E&&d.includes(E),x=q?new Date(f.start.getTime()-216e5):f.start;return q&&console.log(` User schedule found: ${f.title}, attendees:`,d),{id:f.id,title:f.title+S,originalTitle:f.title,start:x,end:f.end,projectId:(v==null?void 0:v.id)||"",projectName:B||"",type:f.type||"other",phase:"",assignedTo:d,priority:"medium",allDay:!p||p==="-",color:J(f.project||""),isASVisit:!1,time:p,description:f.description}}),O=a.filter(f=>f.scheduledVisitDate).filter(f=>(b==null?void 0:b.name)===""?K.includes(f.project):!0).map(f=>{const B=f.scheduledVisitTime,v=B&&B!=="-"?` - ${z(B)}`:"",p=h.find(d=>d.name===f.project),S=`[AS] ${f.project}`;return{id:`as-${f.id}`,title:S+v,originalTitle:S,start:f.scheduledVisitDate,end:f.scheduledVisitDate,projectId:(p==null?void 0:p.id)||"",projectName:f.project,type:"as_visit",phase:"",assignedTo:f.assignedTo?Array.isArray(f.assignedTo)?f.assignedTo:f.assignedTo.split(",").map(d=>d.trim()):[],priority:"high",allDay:!B||B==="-",color:"#FEF3C7",isASVisit:!0,time:B,description:f.description}}),ee=(b==null?void 0:b.role)==="manager"?N.flatMap(f=>{var d,q,x,V,te,X,ge,pe;const B=h.find(he=>he.name===f.project);if(!B){const he=[],Pe=f.totalAmount+(f.vatType==="percentage"?f.totalAmount*(f.vatPercentage/100):f.vatAmount),$e=new Set(f.payments.flatMap(Re=>{var Fe;return((Fe=Re.type)==null?void 0:Fe.split(", ").map(Ye=>Ye.trim()))||[]}));return!$e.has("")&&((d=f.expectedPaymentDates)!=null&&d.contract)&&he.push({id:`payment-${f.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(f.expectedPaymentDates.contract),end:new Date(f.expectedPaymentDates.contract),projectId:"",projectName:f.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(Pe*.1).toLocaleString()}`}),!$e.has("")&&((q=f.expectedPaymentDates)!=null&&q.start)&&he.push({id:`payment-${f.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(f.expectedPaymentDates.start),end:new Date(f.expectedPaymentDates.start),projectId:"",projectName:f.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(Pe*.4).toLocaleString()}`}),!$e.has("")&&((x=f.expectedPaymentDates)!=null&&x.middle)&&he.push({id:`payment-${f.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(f.expectedPaymentDates.middle),end:new Date(f.expectedPaymentDates.middle),projectId:"",projectName:f.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(Pe*.4).toLocaleString()}`}),!$e.has("")&&((V=f.expectedPaymentDates)!=null&&V.final)&&he.push({id:`payment-${f.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(f.expectedPaymentDates.final),end:new Date(f.expectedPaymentDates.final),projectId:"",projectName:f.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(Pe*.1).toLocaleString()}`}),he}if(!B.startDate||!B.endDate)return[];const v=f.totalAmount+(f.vatType==="percentage"?f.totalAmount*(f.vatPercentage/100):f.vatAmount),p=new Set(f.payments.flatMap(he=>{var Pe;return((Pe=he.type)==null?void 0:Pe.split(", ").map($e=>$e.trim()))||[]})),S=[];return!p.has("")&&((te=f.expectedPaymentDates)!=null&&te.contract)&&S.push({id:`payment-${f.id}-contract`,title:"[] ",originalTitle:"[] ",start:new Date(f.expectedPaymentDates.contract),end:new Date(f.expectedPaymentDates.contract),projectId:B.id||"",projectName:f.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(v*.1).toLocaleString()}`}),!p.has("")&&((X=f.expectedPaymentDates)!=null&&X.start)&&S.push({id:`payment-${f.id}-start`,title:"[] ",originalTitle:"[] ",start:new Date(f.expectedPaymentDates.start),end:new Date(f.expectedPaymentDates.start),projectId:B.id||"",projectName:f.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(v*.4).toLocaleString()}`}),!p.has("")&&((ge=f.expectedPaymentDates)!=null&&ge.middle)&&S.push({id:`payment-${f.id}-middle`,title:"[] ",originalTitle:"[] ",start:new Date(f.expectedPaymentDates.middle),end:new Date(f.expectedPaymentDates.middle),projectId:B.id||"",projectName:f.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (40%): ${Math.round(v*.4).toLocaleString()}`}),!p.has("")&&((pe=f.expectedPaymentDates)!=null&&pe.final)&&S.push({id:`payment-${f.id}-final`,title:"[] ",originalTitle:"[] ",start:new Date(f.expectedPaymentDates.final),end:new Date(f.expectedPaymentDates.final),projectId:B.id||"",projectName:f.project,type:"expected_payment",phase:"",assignedTo:[],priority:"medium",allDay:!0,color:"#DBEAFE",isExpectedPayment:!0,description:` (10%): ${Math.round(v*.1).toLocaleString()}`}),S}):[],Z=[...D,...O,...ee],Y=(f=>{const B=new Map;f.forEach(p=>{if(p.isASVisit||p.isExpectedPayment){const S=`single_${p.id}`;B.set(S,[p])}else{const S=p.start.toISOString().split("T")[0],d=[...p.assignedTo].sort().join(","),q=`${S}_${p.projectName}_${d}`;B.has(q)||B.set(q,[]),B.get(q).push(p)}});const v=[];return B.forEach(p=>{if(p.length===1)v.push(p[0]);else{const S=p[0],d=p.map(pe=>pe.originalTitle||pe.title),q=[...new Set(d)],x=p.filter(pe=>pe.time&&pe.time!=="-").map(pe=>pe.time),V=x.length>0?` - ${x.join(", ")}`:"",te=p.map(pe=>{const he=pe.originalTitle||pe.title;return he.startsWith(S.projectName+" - ")?he.substring(S.projectName.length+3):he}),X=[...new Set(te)],ge={...S,id:p[0].id,title:`${X.join(", ")}${V}`,originalTitle:q.join(", "),description:p.map(pe=>pe.description||pe.originalTitle||pe.title).join(`
`),assignedTo:[...new Set(p.flatMap(pe=>pe.assignedTo))],mergedEventIds:p.map(pe=>pe.id)};v.push(ge)}}),v.sort((p,S)=>p.start.getTime()-S.start.getTime())})(Z),[G,le]=l.useState("month"),[de,ke]=l.useState(new Date),[se,ue]=l.useState(!1),[oe,Ve]=l.useState(null),[Ee,je]=l.useState(null),[Me,re]=l.useState(()=>(b==null?void 0:b.name)===""&&h.length>0?h[0].name:"all"),[be,we]=l.useState(window.innerWidth<768?new Date:null),Ne=Me==="all"?Y:Y.filter(f=>f.projectName===Me),Ae=Ze.useMemo(()=>[...Ne].sort((f,B)=>{const v=rs(f.start).startOf("day").valueOf(),p=rs(B.start).startOf("day").valueOf();if(v!==p)return v-p;const S=f.assignedTo&&E&&f.assignedTo.includes(E)||f.assignedTo&&(b==null?void 0:b.name)&&f.assignedTo.includes(b.name),d=B.assignedTo&&E&&B.assignedTo.includes(E)||B.assignedTo&&(b==null?void 0:b.name)&&B.assignedTo.includes(b.name);return S&&!d?-1:!S&&d?1:new Date(f.start).getTime()-new Date(B.start).getTime()}),[Ne,b,E]);l.useEffect(()=>{(b==null?void 0:b.name)===""&&h.length>0&&(Me==="all"||!h.find(f=>f.name===Me))&&re(h[0].name)},[h,b]),l.useEffect(()=>{const f=()=>{document.querySelectorAll(".rbc-show-more, .rbc-button-link").forEach(q=>{q.style.display="none",q.style.visibility="hidden",q.style.pointerEvents="none"}),document.querySelectorAll('.rbc-overlay, .rbc-overlay-header, .rbc-popup, [class*="rbc-overlay"]').forEach(q=>{q.style.display="none",q.style.visibility="hidden",q.style.opacity="0",q.style.pointerEvents="none",q.style.position="absolute",q.style.left="-9999px",q.style.top="-9999px",q.style.zIndex="-1"})};f();const B=new MutationObserver(f),v=document.querySelector(".rbc-calendar");v&&B.observe(v,{childList:!0,subtree:!0});const p=new MutationObserver(f);return p.observe(document.body,{childList:!0,subtree:!0}),()=>{B.disconnect(),p.disconnect()}},[G,de]);const[He,Le]=l.useState({date:null,projectId:"",title:""}),Se=Ze.useRef(!1),P=Ze.useRef(null),I=f=>{Se.current=!0,P.current&&clearTimeout(P.current);const B={...f,title:f.originalTitle||f.title};je(null),Ve(B),ue(!0),P.current=setTimeout(()=>{Se.current=!1,P.current=null},1500)},M=f=>{if(Se.current)return;const B=window.innerWidth,v=B<768,p=B>=768&&B<1024;if(v){if(f.start){we(f.start);const d=document.querySelector(".md\\:hidden.mt-3.bg-white");d&&d.scrollIntoView({behavior:"smooth",block:"nearest"})}return}const S=f.action==="click"||f.action==="select";p&&!S||v||(je(f),Ve(null),ue(!0))},fe=async()=>{if(!He.projectId||!He.title.trim()){alert("  ");return}const f=h.find(B=>B.id===He.projectId);if(!(!f||!He.date))try{await n({id:Date.now().toString(),title:He.title,start:He.date,end:He.date,type:"other",project:f.name,location:"",attendees:[],description:""}),Le({date:null,projectId:"",title:""}),we(null),F.success(" ")}catch(B){console.error("Failed to add schedule:",B),F.error("  ")}},Ce=f=>{let B=f.color||"#E0E7FF",v="#1f2937";if(f.isASVisit)B="#E8F5E9",v="#1f2937";else{const p=f.assignedTo&&f.assignedTo.includes("HV LAB"),S=f.assignedTo&&f.assignedTo.includes("")&&E&&["",""].includes(E),d=f.assignedTo&&f.assignedTo.includes("")&&E&&["","",""].includes(E);f.assignedTo&&f.assignedTo.includes((b==null?void 0:b.name)||"")||p||S||d?(B="#FEF3C7",v="#1f2937"):f.color||(B="#e8e2ea")}return{style:{backgroundColor:B,"--event-bg-color":B,borderRadius:"6px",color:v,border:"none",display:"block",fontSize:"0.8125rem",padding:"4px 8px",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",overflow:"hidden"}}},W=Ze.useCallback(f=>{const B=rs(f).format("YYYY-MM-DD"),v=!!Pt[B],p=be&&rs(f).isSame(be,"day");let S="";return p&&(S+="selected-date "),v&&(S+="holiday-date "),{className:S.trim(),style:{}}},[be]),[ce,w]=l.useState(window.innerWidth<768);l.useEffect(()=>{const f=()=>{w(window.innerWidth<768)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),l.useEffect(()=>{const f=()=>{const B=be||new Date;je({start:B,end:B}),Ve(null),ue(!0)};return window.addEventListener("headerAddButtonClick",f),()=>window.removeEventListener("headerAddButtonClick",f)},[be]);const T=Ze.useCallback(({date:f,label:B})=>e.jsxDEV(Hd,{date:f,label:B,filteredEvents:Ae,selectedDate:be,user:b,isMobileView:ce},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1162,columnNumber:7},void 0),[Ae,be,b,ce]),ae=Ze.useCallback(({event:f})=>e.jsxDEV(Bd,{event:f,user:b},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1175,columnNumber:12},void 0),[b]),ye=({onNavigate:f})=>{const[B,v]=Ze.useState(!1),[p,S]=Ze.useState(rs(de).year()),[d,q]=Ze.useState(rs(de).month()),x=window.innerWidth<768,V=()=>{S(rs(de).year()),q(rs(de).month()),v(!0)},te=()=>{ke(rs().year(p).month(d).toDate()),v(!1)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:`flex flex-col bg-white border-b border-gray-200 ${x?"px-2 py-1":"px-3 md:px-5 py-2"}`,children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV("button",{onClick:()=>f("PREV"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1204,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-base md:text-lg font-bold text-gray-900 hover:bg-gray-50 px-2 md:px-3 py-1 rounded-lg transition-colors cursor-pointer",onClick:V,children:e.jsxDEV("span",{children:rs(de).format("YYYY MM")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1214,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1210,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>f("NEXT"),className:"px-2 py-1.5 text-2xl md:text-3xl text-gray-700 hover:bg-gray-100 rounded-lg transition-colors font-bold",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1216,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1203,columnNumber:13},void 0),e.jsxDEV("select",{className:"px-3 md:px-4 py-1.5 md:py-2 bg-white text-gray-700 rounded-lg text-xs md:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",value:Me,onChange:X=>re(X.target.value),style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:[(b==null?void 0:b.name)!==""&&e.jsxDEV("option",{value:"all",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1239,columnNumber:39},void 0),h.filter(X=>X.status!=="completed").map(X=>e.jsxDEV("option",{value:X.name,children:X.name},X.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1243,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1225,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1202,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1200,columnNumber:9},void 0),B&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-sm shadow-xl",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1257,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>v(!1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1263,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1262,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1258,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1256,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("button",{onClick:()=>S(p-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1276,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1275,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1271,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-gray-900",children:[p,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1279,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>S(p+1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1287,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1286,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1282,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1270,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1269,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4",children:e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(X=>{const ge=d===X-1,pe=rs().year()===p&&rs().month()===X-1;return e.jsxDEV("button",{onClick:()=>q(X-1),className:`py-3 px-4 rounded-lg text-sm font-medium transition-colors ${ge?"bg-gray-900 text-white":pe?"bg-gray-100 text-gray-900 border-2 border-gray-900":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[X,""]},X,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1300,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1295,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1294,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[e.jsxDEV("button",{onClick:()=>{ke(new Date),v(!1)},className:"flex-1 py-2 px-4 bg-gray-100 text-gray-900 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1320,columnNumber:17},void 0),e.jsxDEV("button",{onClick:te,className:"flex-1 py-2 px-4 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1329,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1319,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1254,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1253,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1199,columnNumber:7},void 0)},Ie=()=>null,Ue=l.useMemo(()=>({toolbar:ye,event:ae,month:{dateHeader:T,showMore:Ie}}),[T,ae]),R=Ze.useMemo(()=>{if(!be)return[];let f;if(ce)f=Ae.filter(v=>rs(v.start).isSame(be,"day"));else{const v=rs(be).startOf("week"),p=rs(be).endOf("week");f=Ae.filter(S=>{const d=rs(S.start);return d.isSameOrAfter(v,"day")&&d.isSameOrBefore(p,"day")})}const B=[...f].sort((v,p)=>{const S=v.assignedTo&&v.assignedTo.includes("HV LAB"),d=v.assignedTo&&v.assignedTo.includes("")&&E&&["",""].includes(E),q=v.assignedTo&&v.assignedTo.includes("")&&E&&["","",""].includes(E),x=v.assignedTo&&E&&v.assignedTo.includes(E)||v.assignedTo&&(b==null?void 0:b.name)&&v.assignedTo.includes(b.name)||S||d||q,V=p.assignedTo&&p.assignedTo.includes("HV LAB"),te=p.assignedTo&&p.assignedTo.includes("")&&E&&["",""].includes(E),X=p.assignedTo&&p.assignedTo.includes("")&&E&&["","",""].includes(E),ge=p.assignedTo&&E&&p.assignedTo.includes(E)||p.assignedTo&&(b==null?void 0:b.name)&&p.assignedTo.includes(b.name)||V||te||X;return x&&!ge?-1:!x&&ge?1:new Date(v.start).getTime()-new Date(p.start).getTime()});return console.log("Sorted events:",B.map(v=>({title:v.title,assignedTo:v.assignedTo,user:b==null?void 0:b.name,userShort:E}))),B},[be,Ae,b,E,ce]);return l.useEffect(()=>{const B=setTimeout(()=>{const v=ce?document.querySelectorAll(".rbc-month-view td.rbc-date-cell"):document.querySelectorAll(".rbc-date-cell"),p=document.querySelectorAll(".rbc-month-row"),S=[];p.forEach((he,Pe)=>{const $e=he.querySelectorAll(".rbc-date-cell");let Re=0;$e.forEach(Fe=>{const Ye=Fe.querySelector("button");let Je=Ye==null?void 0:Ye.textContent;if(!Je){const Ge=Fe.querySelector("span");Je=Ge==null?void 0:Ge.textContent}if(Je&&!isNaN(parseInt(Je))){const Ge=rs(de).date(parseInt(Je)),es=Ae.filter(is=>rs(is.start).isSame(Ge,"day"));Re=Math.max(Re,es.length)}}),S.push(Re)});const d=100,q=18,x=25,V=Math.floor((d-x)/q),te=S.length,X=d*te,ge=S.map(he=>he<=V?d:x+he*q+10),pe=ge.reduce((he,Pe)=>he+Pe,0);if(pe>X){const he=ge.map((Re,Fe)=>({index:Fe,height:Re,overflow:Re>d})),Pe=he.filter(Re=>Re.overflow).reduce((Re,Fe)=>Re+(Fe.height-d),0),$e=he.filter(Re=>!Re.overflow);if($e.length>0){const Re=X-Pe-$e.length*d,Fe=Math.max(50,d+Re/$e.length);p.forEach((Ye,Je)=>{const es=ge[Je]>d?ge[Je]:Fe;Ye.style.height=`${es}px`,Ye.style.minHeight=`${es}px`})}else{const Re=X/pe;p.forEach((Fe,Ye)=>{const Je=Math.max(80,ge[Ye]*Re);Fe.style.height=`${Je}px`,Fe.style.minHeight=`${Je}px`})}}else{const he=ge.reduce((Fe,Ye)=>Fe+(Ye>d?Ye:0),0),Pe=ge.filter(Fe=>Fe<=d).length,$e=X-he,Re=Pe>0?$e/Pe:d;p.forEach((Fe,Ye)=>{const Je=ge[Ye]>d?ge[Ye]:Re;Fe.style.height=`${Je}px`,Fe.style.minHeight=`${Je}px`})}v.forEach(he=>{const Pe=he.querySelector("button");let $e=Pe==null?void 0:Pe.textContent;if(!$e){const Je=he.querySelector("span");$e=Je==null?void 0:Je.textContent}if(!$e||isNaN(parseInt($e)))return;const Re=rs(de).date(parseInt($e)),Fe=Ae.filter(Je=>rs(Je.start).isSame(Re,"day"));Fe.length>0?he.setAttribute("data-event-count",Fe.length.toString()):he.removeAttribute("data-event-count");const Ye=Re.clone().toDate();if(be&&rs(Ye).isSame(be,"day")?he.classList.add("selected-date"):he.classList.remove("selected-date"),ce){const Je=he,Ge=Je._mobileClickHandler;Ge&&he.removeEventListener("click",Ge);const es=is=>{if(is.target.closest(".rbc-event"))return;const bs=Re.clone().toDate();we(bs);const fs=document.querySelector(".md\\:hidden.mt-3.bg-white");fs&&fs.scrollIntoView({behavior:"smooth",block:"nearest"})};Je._mobileClickHandler=es,he.addEventListener("click",es,!0),he.style.cursor="pointer",he.style.touchAction="manipulation"}})},200);return()=>{clearTimeout(B),ce&&document.querySelectorAll(".rbc-month-view td.rbc-date-cell").forEach(p=>{const S=p,d=S._mobileClickHandler;d&&(p.removeEventListener("click",d),delete S._mobileClickHandler)})}},[Ae,de,ce,be]),e.jsxDEV("div",{className:"schedule-container space-y-3 md:space-y-2",children:[He.date&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-3 md:p-4 shadow-sm",children:e.jsxDEV("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-3",children:[e.jsxDEV("div",{className:"text-xs md:text-sm font-semibold text-gray-900 md:min-w-[80px]",children:rs(He.date).format("MM DD")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1617,columnNumber:15},void 0),e.jsxDEV("select",{value:He.projectId,onChange:f=>Le({...He,projectId:f.target.value}),className:"px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",children:h.filter(f=>f.status!=="completed").map(f=>e.jsxDEV("option",{value:f.id,children:f.name},f.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1628,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1620,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:He.title,onChange:f=>Le({...He,title:f.target.value}),onKeyPress:f=>{f.key==="Enter"&&fe()},placeholder:"  ...",className:"flex-1 px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1633,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:fe,className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-gray-900 text-white text-xs md:text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1647,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Le({date:null,projectId:"",title:""}),we(null)},className:"flex-1 md:flex-none px-4 md:px-5 py-2 bg-white border border-gray-300 text-gray-700 text-xs md:text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1653,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1646,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1616,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1615,columnNumber:11},void 0),e.jsxDEV("div",{className:"schedule-main flex flex-col md:block",children:[e.jsxDEV("div",{className:"schedule-calendar bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm calendar-container",style:{paddingBottom:0},children:e.jsxDEV(Lo,{localizer:_d,events:Ae,startAccessor:"start",endAccessor:"end",view:G,onView:le,date:de,onNavigate:ke,onSelectEvent:I,onSelectSlot:M,selectable:!0,longPressThreshold:0,eventPropGetter:Ce,dayPropGetter:W,components:Ue,popup:!1,doShowMoreDrillDown:!1,onShowMore:()=>{},showAllEvents:!0,messages:{today:"",previous:"",next:"",month:"",week:"",day:"",agenda:"",date:"",time:"",event:"",noEventsInRange:"   ",showMore:f=>`+${f} `}},`calendar-${(be==null?void 0:be.getTime())||"no-selection"}`,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1670,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1669,columnNumber:11},void 0),be&&e.jsxDEV("div",{className:"schedule-events-list desktop:hidden mt-3 bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900",children:ce?rs(be).format("MM DD (ddd)"):`${rs(be).startOf("week").format("MM DD")} - ${rs(be).endOf("week").format("MM DD")}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1714,columnNumber:19},void 0),Pt[rs(be).format("YYYY-MM-DD")]&&e.jsxDEV("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-red-50 text-red-600",children:Pt[rs(be).format("YYYY-MM-DD")]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1722,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1713,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>we(null),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",children:e.jsxDEV("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1732,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1731,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1727,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1712,columnNumber:15},void 0),e.jsxDEV("div",{className:"max-h-[35vh] overflow-y-auto",children:R.length===0?e.jsxDEV("div",{className:"p-4 text-center",children:e.jsxDEV("p",{className:"text-sm text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1741,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1740,columnNumber:19},void 0):e.jsxDEV("div",{children:(()=>{const f=R.reduce((v,p)=>{const S=rs(p.start).format("YYYY-MM-DD");return v[S]||(v[S]=[]),v[S].push(p),v},{});return Object.keys(f).sort().map(v=>e.jsxDEV("div",{className:"border-b border-gray-100 last:border-b-0",children:[!ce&&e.jsxDEV("div",{className:"px-3 py-2 bg-gray-50 sticky top-0 z-10",children:e.jsxDEV("p",{className:"text-xs font-semibold text-gray-700",children:rs(v).format("MM DD (ddd)")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1764,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1763,columnNumber:29},void 0),e.jsxDEV("div",{className:"divide-y divide-gray-100",children:f[v].map(p=>{const S=p.assignedTo&&p.assignedTo.includes("HV LAB"),d=p.assignedTo&&p.assignedTo.includes("")&&E&&["",""].includes(E),q=p.assignedTo&&p.assignedTo.includes("")&&E&&["","",""].includes(E),V=p.assignedTo&&(p.assignedTo.includes((b==null?void 0:b.name)||"")||E&&p.assignedTo.includes(E))||S||d||q,te=!p.color&&!V;return e.jsxDEV("div",{onClick:()=>{const X={...p,title:p.originalTitle||p.title};I(X)},className:`p-3 transition-colors cursor-pointer ${V?"bg-yellow-50 hover:bg-yellow-100 active:bg-yellow-200":te?"hover:bg-purple-50 active:bg-purple-100":"hover:bg-gray-50 active:bg-gray-100"}`,style:te?{backgroundColor:"#f3f0f5"}:void 0,children:e.jsxDEV("div",{className:"flex items-start gap-2",children:[e.jsxDEV("div",{className:"w-1 h-full rounded-full flex-shrink-0",style:{backgroundColor:V?"#FEF3C7":p.color||"#e8e2ea",minHeight:"28px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1809,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 truncate",children:p.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1819,columnNumber:29},void 0),p.projectName&&e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:p.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1823,columnNumber:31},void 0),p.assignedTo&&p.assignedTo.length>0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:["","",""].every(pe=>p.assignedTo.includes(pe))?"":p.assignedTo.join(", ")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1828,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1818,columnNumber:27},void 0),e.jsxDEV("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1841,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1840,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1808,columnNumber:25},void 0)},p.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1789,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1770,columnNumber:27},void 0)]},v,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1760,columnNumber:25},void 0))})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1744,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1738,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1710,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1668,columnNumber:9},void 0),se&&e.jsxDEV(Va,{event:oe,slotInfo:Ee,defaultProjectName:Me!=="all"?Me:void 0,onClose:()=>{ue(!1),Ve(null),je(null)},onSave:async f=>{console.log(" Schedule.tsx onSave called with newEvent:",f);try{if(oe)if(oe.id.startsWith("as-")){const B=oe.id.replace("as-","");let v="";f.assignedTo&&Array.isArray(f.assignedTo)&&f.assignedTo.length>0?v=f.assignedTo.join(", "):oe.assignedTo&&Array.isArray(oe.assignedTo)?v=oe.assignedTo.join(", "):typeof oe.assignedTo=="string"&&(v=oe.assignedTo),await o(B,{project:f.title||oe.title,assignedTo:v,scheduledVisitDate:f.start,scheduledVisitTime:f.time||oe.time}),F.success("AS   "),await m(),ue(!1)}else if(oe.id.startsWith("payment-")){const B=oe.id.split("-"),v=B[1],p=B[2],S=N.find(d=>d.id===v);if(S){const d={...S.expectedPaymentDates};d[p]=f.start,await y(v,{expectedPaymentDates:d}),F.success("  ")}}else{console.log(" Updating schedule with projectId:",f.projectId,"projectName:",f.projectName);let B=f.title;const v=/ - (|) \d{1,2}( \d{1,2})?$/;if(B=B.replace(v,""),oe.mergedEventIds&&oe.mergedEventIds.length>0){console.log(" Updating merged schedules:",oe.mergedEventIds);const p=(oe.originalTitle||oe.title).split(", "),S=B.split(", ");for(let d=0;d<oe.mergedEventIds.length;d++){const q=oe.mergedEventIds[d],x=S[d]||p[d]||B;await r(q,{title:x.trim(),start:f.start,end:f.end,type:"other",project:f.projectId||f.projectName,location:"",attendees:f.assignedTo||[],description:f.description,time:f.time})}F.success(`${oe.mergedEventIds.length}  `)}else await r(oe.id,{title:B,start:f.start,end:f.end,type:"other",project:f.projectId||f.projectName,location:"",attendees:f.assignedTo||[],description:f.description,time:f.time}),F.success(" ");await t()}else console.log(" Adding schedule with projectId:",f.projectId,"projectName:",f.projectName),await n({id:Date.now().toString(),title:f.title,start:f.start,end:f.end,type:"other",project:f.projectId||f.projectName,location:"",attendees:f.assignedTo||[],description:f.description,time:f.time}),F.success(" ");ue(!1)}catch(B){console.error("Failed to save schedule:",B),F.error("  ")}},onDelete:async f=>{try{if(f.startsWith("payment-")){const B=f.split("-"),v=B[1],p=B[2],S=N.find(d=>d.id===v);if(S){const d={...S.expectedPaymentDates};delete d[p],await y(v,{expectedPaymentDates:d}),F.success("  ")}}else if(f.startsWith("as-")){const B=f.replace("as-","");await o(B,{scheduledVisitDate:null,scheduledVisitTime:null}),F.success("AS   ")}else{const B=Y.find(v=>v.id===f);if(B!=null&&B.mergedEventIds&&B.mergedEventIds.length>0){console.log("Deleting merged schedules:",B.mergedEventIds);for(const v of B.mergedEventIds)await i(v);F.success(`${B.mergedEventIds.length}  `)}else await i(f),F.success(" ")}ue(!1)}catch(B){console.error("Failed to delete schedule:",B),F.error("  ")}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1859,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Schedule.tsx",lineNumber:1612,columnNumber:7},void 0)};class Sd{async uploadImage(t){var r,i;const n=new FormData;n.append("image",t);try{const a=await ve.post("/drawings/upload",n,{headers:{"Content-Type":"multipart/form-data"}});return console.log("   :",a.data.imageUrl),a.data.imageUrl}catch(a){console.error("  :",a);const o=((i=(r=a.response)==null?void 0:r.data)==null?void 0:i.error)||a.message||"   ";throw new Error(`  : ${o}`)}}async setItem(t,n,r){var i,a,o,m,N,y,b;try{console.log("[drawingStorage]   :",{projectId:n.projectId,type:n.type,imageUrl:n.imageUrl?"provided":"none",markersCount:((i=n.markers)==null?void 0:i.length)||0,roomsCount:((a=n.rooms)==null?void 0:a.length)||0}),await ve.post("/drawings",{projectId:n.projectId,type:n.type,imageUrl:n.imageUrl,markers:n.markers,rooms:n.rooms,naverTypeSqm:n.naverTypeSqm,naverTypePyeong:n.naverTypePyeong,naverArea:n.naverArea}),console.log("    ")}catch(h){console.error("   :",h);const C=((m=(o=h.response)==null?void 0:o.data)==null?void 0:m.error)||" ",k=((y=(N=h.response)==null?void 0:N.data)==null?void 0:y.details)||h.message||"",z=((b=h.response)==null?void 0:b.status)||"",E=new Error(`${C}${k?` (${k})`:""}`);throw E.statusCode=z,E.response=h.response,E}}async getItem(t){var n,r,i;try{const a=t.split("-");if(a.length<4)return console.error("  :",t),null;const o=a[2],m=a.slice(3).join("-");console.log(`[drawingStorage]   : projectId=${o}, type=${m}`);const y=(await ve.get(`/drawings/${o}/${encodeURIComponent(m)}`)).data;return{type:y.type,projectId:y.projectId,imageUrl:y.imageUrl,markers:y.markers||[],rooms:y.rooms||[],lastModified:new Date(y.updatedAt),naverTypeSqm:y.naverTypeSqm,naverTypePyeong:y.naverTypePyeong,naverArea:y.naverArea}}catch(a){if(((n=a.response)==null?void 0:n.status)===404)return console.log("[drawingStorage]    (404)"),null;if(((r=a.response)==null?void 0:r.status)===500)return console.warn("[drawingStorage]  ,   :",(i=a.response)==null?void 0:i.data),null;throw console.error("   :",a),a}}async removeItem(t){try{const n=t.split("-");if(n.length<4){console.error("  :",t);return}const r=n[2],i=n.slice(3).join("-");await ve.delete(`/drawings/${r}/${encodeURIComponent(i)}`)}catch(n){throw console.error("   :",n),n}}async clearAll(){return console.warn("   clearAll  ."),0}async migrateFromLocalStorage(t){let n=0;const r=[];for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);a&&a.startsWith("drawing-")&&r.push(a)}return r.forEach(i=>{localStorage.removeItem(i),n++}),n>0&&console.log(` ${n}    .`),n}async estimateSize(){return{usage:0,quota:0}}}const on=new Sd,Kn=["","","","3D","","","","","","","","","",""],Lt=[{id:"outlet-1",name:" 1",symbol:"C1",count:1,color:"#ef4444",category:"outlet"},{id:"outlet-2",name:" 2",symbol:"C2",count:2,color:"#ef4444",category:"outlet"},{id:"outlet-3",name:" 3",symbol:"C3",count:3,color:"#ef4444",category:"outlet"},{id:"outlet-4",name:" 4",symbol:"C4",count:4,color:"#ef4444",category:"outlet"},{id:"switch-1",name:" 1",symbol:"S1",count:1,color:"#3b82f6",category:"switch"},{id:"switch-2",name:" 2",symbol:"S2",count:2,color:"#3b82f6",category:"switch"},{id:"switch-3",name:" 3",symbol:"S3",count:3,color:"#3b82f6",category:"switch"},{id:"switch-4",name:" 4",symbol:"S4",count:4,color:"#3b82f6",category:"switch"},{id:"switch-5",name:" 5",symbol:"S5",count:5,color:"#3b82f6",category:"switch"},{id:"switch-6",name:" 6",symbol:"S6",count:6,color:"#3b82f6",category:"switch"},{id:"switch-7",name:" 7",symbol:"S7",count:7,color:"#3b82f6",category:"switch"},{id:"switch-8",name:" 8",symbol:"S8",count:8,color:"#3b82f6",category:"switch"},{id:"light",name:"",symbol:"",count:1,color:"#f59e0b",category:"light"}],Pd=()=>{const{user:s}=js(),t=Rs(),[n,r]=l.useState(""),[i,a]=l.useState(""),[o,m]=l.useState(Lt[0].id),[N,y]=l.useState(""),[b,h]=l.useState([]),[C,k]=l.useState([]),[z,E]=l.useState(""),[J,K]=l.useState(""),[D,O]=l.useState(""),[ee,Z]=l.useState("marker"),[U,Y]=l.useState("full"),[G,le]=l.useState(null),[de,ke]=l.useState(!1),[se,ue]=l.useState(null),[oe,Ve]=l.useState(!1),[Ee,je]=l.useState(null),[Me,re]=l.useState(null),[be,we]=l.useState(!1),[Ne,Ae]=l.useState(""),[He,Le]=l.useState(null),[Se,P]=l.useState(!1),[I,M]=l.useState(1),[fe,Ce]=l.useState({x:0,y:0}),[W,ce]=l.useState(!1),[w,T]=l.useState({x:0,y:0}),[ae,ye]=l.useState(!1),Ie=l.useRef(null),Ue=l.useRef(null),R=l.useRef(null),f=l.useRef(!1),B=l.useRef(!1),v=l.useRef(null);l.useEffect(()=>{s!=null&&s.id&&!B.current&&(B.current=!0,on.migrateFromLocalStorage(s.id).then(c=>{c>0&&console.log(` ${c}   .`)}).catch(c=>{console.error(" :",c)}))},[s==null?void 0:s.id]),l.useEffect(()=>{if(s!=null&&s.id&&t.length>0&&!n){if(s.name===""){const A=t.find(j=>j.status!=="completed");A&&r(A.id);return}const c=localStorage.getItem(`drawings-selected-project-${s.id}`);c&&t.some(j=>j.id===c)&&r(c)}},[s==null?void 0:s.id,s==null?void 0:s.name,t,n]),l.useEffect(()=>{if(s!=null&&s.id){const c=localStorage.getItem(`drawings-selected-type-${s.id}`);c&&Kn.includes(c)&&a(c)}},[s==null?void 0:s.id]),l.useEffect(()=>{s!=null&&s.id&&n&&localStorage.setItem(`drawings-selected-project-${s.id}`,n)},[s==null?void 0:s.id,n]),l.useEffect(()=>{s!=null&&s.id&&i&&localStorage.setItem(`drawings-selected-type-${s.id}`,i)},[s==null?void 0:s.id,i]),l.useEffect(()=>{if(s!=null&&s.id&&n&&i){f.current=!0;const c=`drawing-${s.id}-${n}-${i}`;on.getItem(c).then(A=>{A?(y(A.imageUrl||""),h(A.markers||[]),k(A.rooms||[]),E(A.naverTypeSqm||""),K(A.naverTypePyeong||""),O(A.naverArea||"")):(y(""),h([]),k([]),E(""),K(""),O("")),Y("full"),le(null),setTimeout(()=>{f.current=!1},0)}).catch(A=>{console.error("Failed to load drawing data:",A),y(""),h([]),k([]),E(""),K(""),O(""),Y("full"),le(null),f.current=!1})}},[s==null?void 0:s.id,n,i]),l.useEffect(()=>{if(!f.current)return s!=null&&s.id&&n&&i&&N&&(v.current&&clearTimeout(v.current),v.current=setTimeout(async()=>{var j,Q,u;const c=`drawing-${s.id}-${n}-${i}`,A={type:i,projectId:n,imageUrl:N,markers:b,rooms:C,lastModified:new Date,naverTypeSqm:z,naverTypePyeong:J,naverArea:D};try{await on.setItem(c,A,s.id),console.log("   ")}catch($){console.error("Failed to save drawing data:",$);const ie=((Q=(j=$.response)==null?void 0:j.data)==null?void 0:Q.error)||$.message||"   ",xe=((u=$.response)==null?void 0:u.status)||"";alert(`  : ${xe?`[${xe}] `:""}${ie}`)}},500)),()=>{v.current&&clearTimeout(v.current)}},[s==null?void 0:s.id,n,i,N,b,C,z,J,D]);const[p,S]=l.useState(!1),d=async c=>{if(!c.type.startsWith("image/")){alert("   .");return}if(c.size>20*1024*1024){alert("  20MB .");return}S(!0);try{const A=await on.uploadImage(c);console.log(`   : ${A}`),y(A)}catch(A){console.error("  :",A),alert(A.message||"  .")}finally{S(!1)}},q=c=>{var j;const A=(j=c.target.files)==null?void 0:j[0];A&&d(A),c.target.value=""},x=c=>{var j;if(!n)return;const A=(j=c.clipboardData)==null?void 0:j.items;if(A){for(let Q=0;Q<A.length;Q++)if(A[Q].type.startsWith("image/")){const u=A[Q].getAsFile();if(u){d(u);break}}}},V=c=>{c.preventDefault(),ye(!0)},te=c=>{c.preventDefault(),ye(!1)},X=c=>{var j;c.preventDefault(),ye(!1);const A=(j=c.dataTransfer.files)==null?void 0:j[0];A&&d(A)};l.useEffect(()=>(document.addEventListener("paste",x),()=>{document.removeEventListener("paste",x)}),[n]);const ge=c=>{c.preventDefault();const Q=1+(c.deltaY>0?-1:1)*.15,u=Math.min(Math.max(.5,I*Q),5),$=c.currentTarget.getBoundingClientRect(),ie=c.clientX-$.left-$.width/2,xe=c.clientY-$.top-$.height/2,Be=u/I,Ke=ie-(ie-fe.x)*Be,We=xe-(xe-fe.y)*Be;M(u),Ce({x:Ke,y:We})},pe=c=>{c.button===0&&(ce(!0),T({x:c.clientX-fe.x,y:c.clientY-fe.y}))},he=c=>{W&&Ce({x:c.clientX-w.x,y:c.clientY-w.y})},Pe=()=>{ce(!1)},$e=()=>{M(1),Ce({x:0,y:0})},Re=()=>{P(!1),M(1),Ce({x:0,y:0}),ce(!1)},Fe=c=>{if(!N||!Ie.current)return;const A=Ie.current.getBoundingClientRect(),j=c.clientX-A.left,Q=c.clientY-A.top;let u,$;if(U==="room"&&G){if(!C.find(ts=>ts.id===G)||!Ue.current)return;const xe=Ue.current.naturalWidth,Be=Ue.current.naturalHeight;if(!xe||!Be)return;const Ke=xe/Be,We=A.width/A.height;let Te,Xe,ss,qe;We>Ke?(Xe=A.height,Te=A.height*Ke,ss=(A.width-Te)/2,qe=0):(Te=A.width,Xe=A.width/Ke,ss=0,qe=(A.height-Xe)/2);const Qe=j-ss,ds=Q-qe;if(Qe<0||Qe>Te||ds<0||ds>Xe)return;u=Qe/Te*100,$=ds/Xe*100}else{if(!Ue.current)return;const ie=Ue.current.naturalWidth,xe=Ue.current.naturalHeight;if(!ie||!xe)return;const Be=ie/xe,Ke=A.width/A.height;let We,Te,Xe,ss;Ke>Be?(Te=A.height,We=A.height*Be,Xe=(A.width-We)/2,ss=0):(We=A.width,Te=A.width/Be,Xe=0,ss=(A.height-Te)/2);const qe=j-Xe,Qe=Q-ss;if(qe<0||qe>We||Qe<0||Qe>Te)return;u=qe/We*100,$=Qe/Te*100}if(ee==="room")Ve(!0),je({x:u,y:$}),re({x:u,y:$});else if(i===""){if(de)return;const ie=Lt.find(Te=>Te.id===o);let xe=null,Be,Ke;if(U==="room"&&G){const Te=C.find(Xe=>Xe.id===G);Te&&(xe=G,Be=(u-Te.x)/Te.width*100,Ke=($-Te.y)/Te.height*100)}const We={id:`marker-${Date.now()}`,x:u,y:$,roomId:xe,roomX:Be,roomY:Ke,type:o,label:(ie==null?void 0:ie.name)||"",details:""};h([...b,We])}},Ye=c=>{if(!N||!Ie.current||!Ue.current)return;const A=Ie.current.getBoundingClientRect(),j=c.clientX-A.left,Q=c.clientY-A.top,u=Ue.current.naturalWidth,$=Ue.current.naturalHeight;if(!u||!$)return;const ie=u/$,xe=A.width/A.height;let Be,Ke,We,Te;xe>ie?(Ke=A.height,Be=A.height*ie,We=(A.width-Be)/2,Te=0):(Be=A.width,Ke=A.width/ie,We=0,Te=(A.height-Ke)/2);const Xe=j-We,ss=Q-Te;if(Xe<0||Xe>Be||ss<0||ss>Ke)return;const qe=Xe/Be*100,Qe=ss/Ke*100;if(oe&&Ee)re({x:qe,y:Qe});else if(de&&se){if(b.find(ts=>ts.id===se)&&U==="room"&&G){const ts=C.find(cs=>cs.id===G);if(ts){const cs=(qe-ts.x)/ts.width*100,Os=(Qe-ts.y)/ts.height*100;h(b.map(Ls=>Ls.id===se?{...Ls,x:qe,y:Qe,roomX:cs,roomY:Os}:Ls));return}}h(b.map(ts=>ts.id===se?{...ts,x:qe,y:Qe}:ts))}},Je=()=>{if(oe&&Ee&&Me){const c=Math.min(Ee.x,Me.x),A=Math.min(Ee.y,Me.y),j=Math.abs(Me.x-Ee.x),Q=Math.abs(Me.y-Ee.y);j>2&&Q>2&&(Le({x:c,y:A,width:j,height:Q}),we(!0)),Ve(!1),je(null),re(null)}ke(!1),ue(null)},Ge=()=>{if(He&&Ne.trim()){const c={id:`room-${Date.now()}`,name:Ne.trim(),...He};k([...C,c]),we(!1),Ae(""),Le(null)}},es=(c,A)=>{c.stopPropagation(),ke(!0),ue(A)},is=c=>{h(b.filter(A=>A.id!==c))},us=c=>{k(C.filter(A=>A.id!==c)),h(b.filter(A=>A.roomId!==c)),G===c&&(le(null),Y("full"))},bs=c=>{le(c),Y("room")},fs=()=>{Y("full"),le(null)},L=(c,A)=>A?b.filter(j=>j.type===c&&j.roomId===A).length:b.filter(j=>j.type===c).length,ne=()=>{if(U==="room"&&G){const c=C.find(A=>A.id===G);return c?b.filter(A=>A.roomId===G).map(A=>({...A,x:c.x+(A.roomX||0)*c.width/100,y:c.y+(A.roomY||0)*c.height/100})):[]}return b},g=C.find(c=>c.id===G),H=c=>c.replace("","");return e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"bg-white border-b px-3 md:px-6 py-3 flex-shrink-0",children:[e.jsxDEV("div",{className:"md:hidden",children:[e.jsxDEV("div",{className:"flex justify-end mb-3",children:e.jsxDEV("select",{value:n,onChange:c=>r(c.target.value),className:"input max-w-[200px] text-sm",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:743,columnNumber:39},void 0),t.filter(c=>c.status!=="completed").map(c=>e.jsxDEV("option",{value:c.id,children:c.name},c.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:747,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:738,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:737,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Kn.map(c=>e.jsxDEV("button",{onClick:()=>a(c),className:`px-2 py-1.5 rounded text-xs whitespace-nowrap transition-colors ${i===c?"bg-gray-900 text-white font-medium":"text-gray-700 bg-gray-100 hover:bg-gray-200"}`,children:H(c)},c,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:757,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:755,columnNumber:11},void 0),U==="room"&&g&&e.jsxDEV("div",{className:"flex items-center justify-between mt-3",children:[e.jsxDEV("button",{onClick:fs,className:"btn btn-outline text-sm",children:[e.jsxDEV(Ir,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:779,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:775,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:g.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:782,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:774,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:735,columnNumber:9},void 0),e.jsxDEV("div",{className:"hidden md:flex items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-80",children:e.jsxDEV("select",{value:n,onChange:c=>r(c.target.value),className:"input w-full",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:796,columnNumber:41},void 0),t.filter(c=>c.status!=="completed").map(c=>e.jsxDEV("option",{value:c.id,children:c.name},c.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:800,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:791,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:790,columnNumber:13},void 0),i===""&&n&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:811,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:z,onChange:c=>E(c.target.value),placeholder:": 136E",className:"input w-28 h-[42px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:813,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:820,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:812,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:822,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:J,onChange:c=>K(c.target.value),placeholder:": 41E",className:"input w-24 h-[42px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:824,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:831,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:823,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:810,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-600",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:835,columnNumber:19},void 0),e.jsxDEV("input",{type:"text",value:D,onChange:c=>O(c.target.value),placeholder:": 136.21/101.97( 75%)",className:"input w-80 h-[42px]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:836,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:834,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:809,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:789,columnNumber:11},void 0),U==="room"&&g&&e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("button",{onClick:fs,className:"btn btn-outline text-sm",children:[e.jsxDEV(Ir,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:854,columnNumber:17},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:850,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-lg font-semibold text-gray-900",children:g.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:857,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:849,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:788,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:733,columnNumber:7},void 0),e.jsxDEV("div",{className:"drawings-main flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"drawings-sidebar hidden md:block w-48 bg-white border-r flex-shrink-0 overflow-y-auto",children:e.jsxDEV("div",{className:"drawings-sidebar-inner p-4",children:[e.jsxDEV("h3",{className:"drawings-sidebar-title text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:867,columnNumber:13},void 0),e.jsxDEV("div",{className:"drawings-type-list space-y-1 mb-6",children:Kn.map(c=>e.jsxDEV("button",{onClick:()=>a(c),className:`drawings-type-btn w-full text-left px-3 py-2.5 rounded text-sm transition-colors ${i===c?"bg-gray-900 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:H(c)},c,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:870,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:868,columnNumber:13},void 0),n&&i===""&&N&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV("button",{onClick:()=>Z(ee==="room"?"marker":"room"),className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center font-medium ${ee==="room"?"bg-green-700 text-white":"bg-green-600 text-white hover:bg-green-700"}`,children:[e.jsxDEV(po,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:895,columnNumber:21},void 0),ee==="room"?"  ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:887,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:886,columnNumber:17},void 0),C.length>0&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:902,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1",children:C.map(c=>e.jsxDEV("div",{className:`w-full text-left px-3 py-2.5 rounded text-sm transition-colors flex items-center justify-between group ${G===c.id?"bg-purple-600 text-white font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsxDEV("button",{onClick:()=>bs(c.id),className:"flex-1 text-left",children:c.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:913,columnNumber:27},void 0),e.jsxDEV("button",{onClick:A=>{A.stopPropagation(),us(c.id)},className:"opacity-0 group-hover:opacity-100 ml-2",children:e.jsxDEV(gs,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:926,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:919,columnNumber:27},void 0)]},c.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:905,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:903,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:901,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:885,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:866,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:865,columnNumber:9},void 0),n?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex-1 bg-gray-50 flex flex-col overflow-hidden",children:e.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i===""&&n&&e.jsxDEV("div",{className:"md:hidden bg-white border-b px-3 py-3",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:949,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:z,onChange:c=>E(c.target.value),placeholder:"136E",className:"input w-24 h-[36px] text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:952,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:959,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:951,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-400",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:961,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("input",{type:"text",value:J,onChange:c=>K(c.target.value),placeholder:"41E",className:"input w-20 h-[36px] text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:963,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:970,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:962,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:950,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:948,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:975,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:D,onChange:c=>O(c.target.value),placeholder:"136.21/101.97 ( 75%)",className:"input w-full h-[36px] text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:976,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:974,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:947,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:946,columnNumber:17},void 0),e.jsxDEV("div",{className:"overflow-hidden p-3 md:p-6 flex-1",children:N?e.jsxDEV("div",{className:"relative w-full h-full bg-white rounded-lg shadow-lg overflow-hidden",children:e.jsxDEV("div",{ref:Ie,className:`relative w-full h-full ${ee==="room"?"cursor-crosshair":"cursor-default"}`,onMouseDown:Fe,onMouseMove:Ye,onMouseUp:Je,onMouseLeave:Je,children:[e.jsxDEV("img",{ref:Ue,src:N,alt:"",className:"w-full h-full object-contain select-none",draggable:!1,onClick:()=>P(!0),style:U==="room"&&g?(()=>{const c=100/g.width,A=100/g.height,j=Math.max(c,A),Q=g.x+g.width/2,u=g.y+g.height/2;return{objectFit:"none",transform:`scale(${j}) translate(${(50-Q)/j}%, ${(50-u)/j}%)`,transformOrigin:"0 0",pointerEvents:"auto",cursor:"pointer"}})():{pointerEvents:"auto",cursor:"pointer"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1002,columnNumber:23},void 0),U==="full"&&C.map(c=>e.jsxDEV("div",{className:"absolute border-2 border-purple-500 bg-purple-500 bg-opacity-10 hover:bg-opacity-20 transition-all cursor-pointer group",style:{left:`${c.x}%`,top:`${c.y}%`,width:`${c.width}%`,height:`${c.height}%`},onClick:()=>bs(c.id),children:[e.jsxDEV("div",{className:"absolute top-1 left-1 bg-purple-600 text-white px-2 py-0.5 rounded text-xs font-medium",children:c.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1049,columnNumber:25},void 0),e.jsxDEV("button",{onClick:A=>{A.stopPropagation(),us(c.id)},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV(gs,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1059,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1052,columnNumber:25},void 0)]},c.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1038,columnNumber:23},void 0)),oe&&Ee&&Me&&e.jsxDEV("div",{className:"absolute border-2 border-dashed border-green-500 bg-green-500 bg-opacity-10",style:{left:`${Math.min(Ee.x,Me.x)}%`,top:`${Math.min(Ee.y,Me.y)}%`,width:`${Math.abs(Me.x-Ee.x)}%`,height:`${Math.abs(Me.y-Ee.y)}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1066,columnNumber:23},void 0),ne().map(c=>{const A=Lt.find(j=>j.id===c.type);return e.jsxDEV("div",{onMouseDown:j=>es(j,c.id),className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-move group",style:{left:`${c.x}%`,top:`${c.y}%`},children:[(A==null?void 0:A.category)==="light"?e.jsxDEV("div",{className:"rounded-full shadow-md transition-transform group-hover:scale-110",style:{backgroundColor:A.color,width:"16px",height:"16px"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1091,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-center justify-center bg-white rounded shadow-md transition-transform group-hover:scale-110",style:{borderColor:A==null?void 0:A.color,color:A==null?void 0:A.color,border:"1.5px solid",padding:"2px 4px",fontSize:"10px",fontWeight:"600",minWidth:"20px",minHeight:"20px"},children:A==null?void 0:A.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1100,columnNumber:29},void 0),e.jsxDEV("button",{onClick:j=>{j.stopPropagation(),is(c.id)},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxDEV(gs,{className:"w-2.5 h-2.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1123,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1116,columnNumber:27},void 0)]},c.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1081,columnNumber:25},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:992,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:991,columnNumber:19},void 0):e.jsxDEV("div",{className:`flex flex-col items-center justify-center h-full bg-white rounded-lg shadow-lg text-gray-500 transition-all ${ae?"border-4 border-dashed border-blue-500 bg-blue-50":""}`,onDragOver:V,onDragLeave:te,onDrop:X,children:[p?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-20 h-20 mb-4 flex items-center justify-center",children:e.jsxDEV("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1142,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1141,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-base mb-2 font-semibold text-blue-600",children:"  ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1144,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1147,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1140,columnNumber:23},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Tr,{className:`w-20 h-20 mb-4 transition-colors ${ae?"text-blue-500":"text-gray-400"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1153,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-base mb-2 font-semibold",children:ae?"  ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1156,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm mb-4 text-gray-400",children:" ,   ,  Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1159,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{var c;return(c=R.current)==null?void 0:c.click()},className:"px-6 py-2.5 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1162,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1152,columnNumber:23},void 0),e.jsxDEV("input",{ref:R,type:"file",accept:"image/*",onChange:q,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1170,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1131,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:989,columnNumber:15},void 0),i===""&&N&&ee==="marker"&&e.jsxDEV("div",{className:"bg-white border-t px-6 py-3 flex-shrink-0",children:e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxDEV("span",{className:"text-xs font-medium text-gray-700 mr-2",children:"C:  / S:  / : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1185,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-px h-4 bg-gray-300 mx-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1186,columnNumber:21},void 0),Lt.map(c=>e.jsxDEV("button",{onClick:()=>m(c.id),className:`px-3 py-1.5 rounded text-xs font-medium transition-all ${o===c.id?"bg-gray-900 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:border-gray-900"}`,style:{borderColor:o===c.id?void 0:c.color,borderWidth:o===c.id?void 0:"1.5px"},children:e.jsxDEV("span",{className:"text-sm font-semibold",style:{color:o===c.id?"white":c.color},children:c.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1201,columnNumber:25},void 0)},c.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1188,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1184,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1183,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:943,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:942,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full md:w-80 bg-white border-t md:border-t-0 md:border-l flex-shrink-0 overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1215,columnNumber:15},void 0),i===""&&e.jsxDEV("div",{className:"space-y-2",children:[Lt.map(c=>{const A=L(c.id,U==="room"&&G||void 0);return A===0?null:e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",style:{borderColor:c.color,borderWidth:"1.5px"},children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-base font-semibold px-2 py-1 bg-white rounded",style:{color:c.color,border:`1.5px solid ${c.color}`},children:c.symbol},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1228,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:c.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1237,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1227,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:[A,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1239,columnNumber:25},void 0)]},c.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1222,columnNumber:23},void 0)}),b.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 text-center py-12",children:["  ",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1246,columnNumber:36},void 0),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1245,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1217,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1214,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1213,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:939,columnNumber:11},void 0):e.jsxDEV("div",{className:"drawings-empty flex-1 flex items-center justify-center bg-gray-50",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Tr,{className:"w-20 h-20 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1257,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-lg text-gray-600 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1258,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:"  /    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1259,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1256,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1255,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:863,columnNumber:7},void 0),be&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 w-96",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1269,columnNumber:13},void 0),e.jsxDEV("input",{type:"text",value:Ne,onChange:c=>Ae(c.target.value),onKeyDown:c=>{c.key==="Enter"&&Ge()},placeholder:": , 1, ",className:"input w-full mb-4",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1270,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV("button",{onClick:()=>{we(!1),Ae(""),Le(null)},className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1284,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Ge,className:"btn btn-primary",disabled:!Ne.trim(),children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1294,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1283,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1268,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1267,columnNumber:9},void 0),Se&&N&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",onClick:Re,onWheel:ge,onMouseMove:he,onMouseUp:Pe,onMouseLeave:Pe,children:e.jsxDEV("div",{className:"relative w-full h-full p-8 flex items-center justify-center overflow-hidden",children:[e.jsxDEV("button",{onClick:Re,className:"absolute top-4 right-4 w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center text-white transition-all z-10",children:e.jsxDEV(ns,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1321,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1317,columnNumber:13},void 0),e.jsxDEV("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white text-xs px-3 py-2 rounded z-10",children:" : / | :  | : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1325,columnNumber:13},void 0),e.jsxDEV("img",{src:N,alt:" ",className:"object-contain select-none",style:{transform:`translate(${fe.x}px, ${fe.y}px) scale(${I})`,cursor:W?"grabbing":"grab",transition:W?"none":"transform 0.1s ease-out",maxWidth:"100%",maxHeight:"100%"},onClick:c=>c.stopPropagation(),onMouseDown:pe,onDoubleClick:$e,draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1329,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1316,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:1308,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Drawings.tsx",lineNumber:731,columnNumber:5},void 0)},Ms={async getProjectLogs(s){try{return(await ve.get(`/site-logs/project/${encodeURIComponent(s)}`)).data}catch(t){return console.error("Failed to get project logs:",t),[]}},async getAllLogs(){try{return(await ve.get("/site-logs")).data}catch(s){return console.error("Failed to get all logs:",s),[]}},async createLog(s){try{return(await ve.post("/site-logs",s)).data}catch(t){throw console.error("Failed to create log:",t),t}},async updateLog(s,t){try{return(await ve.put(`/site-logs/${s}`,t)).data}catch(n){throw console.error("Failed to update log:",n),n}},async deleteLog(s){try{return(await ve.delete(`/site-logs/${s}`)).data}catch(t){throw console.error("Failed to delete log:",t),t}},async getLogsByDateRange(s,t,n){try{return(await ve.get("/site-logs/range",{params:{project:s,startDate:t.toISOString(),endDate:n.toISOString()}})).data}catch(r){return console.error("Failed to get logs by date range:",r),[]}}},Rd=()=>{const{user:s}=js(),t=Rs(),[n,r]=l.useState(()=>localStorage.getItem("siteLog_includeCompleted")==="true"),i=n?t:t.filter(V=>V.status!=="completed"),[a,o]=l.useState([]),[m,N]=l.useState(""),y=l.useRef(null),[b,h]=l.useState(new Date),[C,k]=l.useState(!1),[z,E]=l.useState({show:!1,url:null}),[J,K]=l.useState(!1),[D,O]=l.useState(0),[ee,Z]=l.useState(new Date),[U,Y]=l.useState(1),[G,le]=l.useState({x:0,y:0}),[de,ke]=l.useState(!1),[se,ue]=l.useState({x:0,y:0}),[oe,Ve]=l.useState(null),[Ee,je]=l.useState(null),[Me,re]=l.useState(!1),[be,we]=l.useState(0),[Ne,Ae]=l.useState(null),[He,Le]=l.useState({notes:"",images:[]}),[Se,P]=l.useState(()=>{const V=localStorage.getItem("siteLogNotes");return V?JSON.parse(V):{}});l.useRef(null);const[I,M]=l.useState(null);l.useRef(null);const[fe,Ce]=l.useState(!1),[W,ce]=l.useState("saved"),w=l.useRef([]);l.useEffect(()=>{w.current=a},[a]),l.useEffect(()=>{localStorage.setItem("siteLogNotes",JSON.stringify(Se))},[Se]),l.useEffect(()=>{localStorage.setItem("siteLog_includeCompleted",String(n))},[n]),l.useEffect(()=>{if(i.length>0&&!m){const V=`siteLog_lastProject_${(s==null?void 0:s.id)||(s==null?void 0:s.name)}`,te=localStorage.getItem(V);te&&i.find(X=>X.name===te)?N(te):N(i[0].name)}},[i,s]),l.useEffect(()=>{if(m&&s){const V=`siteLog_lastProject_${s.id||s.name}`;localStorage.setItem(V,m)}},[m,s]),l.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]),l.useEffect(()=>{T()},[m]),l.useEffect(()=>{const V=De(b,"yyyy-MM-dd"),te=`${m}_${V}`,X=Se[te];Le(X!==void 0?ge=>({...ge,notes:X}):ge=>({...ge,notes:""})),ce("saved")},[b,m]),l.useEffect(()=>{if(a.length===0)return;const V=De(b,"yyyy-MM-dd"),te=`${m}_${V}`;if(Se[te]!==void 0)return;const X=a.find(ge=>{try{const pe=ge.date?new Date(ge.date):null;return pe&&!isNaN(pe.getTime())&&De(pe,"yyyy-MM-dd")===V&&ge.project===m}catch{return!1}});X&&X.notes&&(Le(ge=>({...ge,notes:X.notes||""})),P(ge=>({...ge,[te]:X.notes||""})))},[a,b,m]);const T=async()=>{if(m)try{const V=await Ms.getProjectLogs(m);o(V.map(te=>({...te,id:te._id||te.id,date:te.date?new Date(te.date):new Date,createdAt:te.created_at?new Date(te.created_at):new Date})))}catch(V){console.error("Failed to load site logs:",V),o([])}},ae=(V,te=1920,X=1080,ge=.8)=>new Promise((pe,he)=>{const Pe=new FileReader;Pe.onload=$e=>{var Fe;const Re=new Image;Re.onload=()=>{const Ye=document.createElement("canvas");let Je=Re.width,Ge=Re.height;if(Je>te||Ge>X){const is=Math.min(te/Je,X/Ge);Je*=is,Ge*=is}Ye.width=Je,Ye.height=Ge;const es=Ye.getContext("2d");if(!es){he(new Error("Canvas context not available"));return}es.drawImage(Re,0,0,Je,Ge),Ye.toBlob(is=>{if(!is){he(new Error("Failed to compress image"));return}const us=new FileReader;us.onload=()=>pe(us.result),us.readAsDataURL(is)},V.type,ge)},Re.src=(Fe=$e.target)==null?void 0:Fe.result},Pe.readAsDataURL(V)}),ye=l.useCallback(async V=>{const X=Array.from(V).filter(pe=>pe.type.startsWith("image/"));if(X.length===0){F.error("   ");return}if(X.length>100){F.error("  100  ");return}if(!m){F.error(" ");return}K(!0),F.loading(`${X.length}  ...`);const ge=X.map(pe=>ae(pe));try{const pe=await Promise.all(ge),he=De(b,"yyyy-MM-dd"),Pe=a.find(Fe=>{try{const Ye=Fe.date?new Date(Fe.date):null;return Ye&&!isNaN(Ye.getTime())&&De(Ye,"yyyy-MM-dd")===he&&Fe.project===m}catch{return!1}}),$e=20,Re=[];for(let Fe=0;Fe<pe.length;Fe+=$e)Re.push(pe.slice(Fe,Fe+$e));if(F.dismiss(),Pe){let Fe=[...Pe.images];for(let Ye=0;Ye<Re.length;Ye++)F.loading(`  ... (${Ye+1}/${Re.length})`),Fe=[...Fe,...Re[Ye]],await Ms.updateLog(Pe.id,{project:Pe.project,date:Pe.date,images:Fe,notes:Pe.notes||""}),F.dismiss();F.success(`${pe.length}  `)}else{F.loading(`  ... (1/${Re.length})`);const Fe={project:m,date:b,images:Re[0],notes:"",createdBy:(s==null?void 0:s.name)||""},Ye=await Ms.createLog(Fe);if(F.dismiss(),Re.length>1){let Je=[...Re[0]];for(let Ge=1;Ge<Re.length;Ge++)F.loading(`  ... (${Ge+1}/${Re.length})`),Je=[...Je,...Re[Ge]],await Ms.updateLog(Ye._id||Ye.id,{project:m,date:b,images:Je,notes:""}),F.dismiss()}F.success(`${pe.length}  `)}await T()}catch(pe){console.error("Failed to save images:",pe),F.error("  ")}finally{K(!1)}},[m,b,s,a,T]),Ie=l.useCallback(V=>{V.preventDefault(),ye(V.dataTransfer.files)},[ye]);l.useEffect(()=>{const V=te=>{var he;const X=(he=te.clipboardData)==null?void 0:he.items;if(!X)return;const ge=Array.from(X).filter(Pe=>Pe.type.startsWith("image/"));if(ge.length===0)return;te.preventDefault();const pe=ge.map(Pe=>Pe.getAsFile()).filter(Boolean);ye(pe)};return document.addEventListener("paste",V),()=>document.removeEventListener("paste",V)},[ye]),l.useCallback(async V=>{if(!(!m||!V))try{const te=De(b,"yyyy-MM-dd"),X=a.find(ge=>{try{const pe=ge.date?new Date(ge.date):null;return pe&&!isNaN(pe.getTime())&&De(pe,"yyyy-MM-dd")===te&&ge.project===m}catch{return!1}});if(X)await Ms.updateLog(X.id,{project:X.project,date:X.date,images:X.images,notes:V});else{const ge={project:m,date:b,images:He.images,notes:V,createdBy:(s==null?void 0:s.name)||""};await Ms.createLog(ge)}await T()}catch(te){console.error("Failed to auto-save site log:",te)}},[m,b,a,He.images,s,T]);const Ue=async V=>{if(window.confirm("  ?"))try{await Ms.deleteLog(V),F.success(" "),await T()}catch(te){console.error("Failed to delete site log:",te),F.error("  ")}},R=async(V,te)=>{if(!window.confirm("  ?"))return;const X=a.find(ge=>ge.id===V);if(X)try{const ge=X.images.filter((pe,he)=>he!==te);ge.length===0&&!X.notes?await Ue(V):(await Ms.updateLog(V,{project:X.project,date:X.date,images:ge,notes:X.notes}),o(pe=>pe.map(he=>he.id===V?{...he,images:ge}:he)),F.success(" "))}catch(ge){console.error("Failed to delete image:",ge),F.error("  ")}},f=()=>{const V=ee.getFullYear(),te=ee.getMonth(),X=new Date(V,te,1),ge=new Date(X);ge.setDate(ge.getDate()-X.getDay());const pe=[],he=new Date(ge);for(let Pe=0;Pe<42;Pe++){const $e=a.filter(Re=>{try{const Fe=Re.date?new Date(Re.date):null;return Fe&&!isNaN(Fe.getTime())&&De(Fe,"yyyy-MM-dd")===De(he,"yyyy-MM-dd")}catch{return!1}});pe.push({date:new Date(he),logs:$e,hasImages:$e.some(Re=>Re.images&&Re.images.length>0)}),he.setDate(he.getDate()+1)}return pe},B=V=>{const te=new Date(ee);te.setMonth(te.getMonth()+V),Z(te)},v=a.reduce((V,te)=>{try{const X=te.date?new Date(te.date):null;if(X&&!isNaN(X.getTime())){const ge=De(X,"yyyy-MM-dd");V[ge]||(V[ge]=[]),V[ge].push(te)}}catch{}return V},{});Object.keys(v).sort((V,te)=>te.localeCompare(V));const p=(V,te)=>{const X=V.clientX-te.clientX,ge=V.clientY-te.clientY;return Math.sqrt(X*X+ge*ge)},S=(V,te)=>({x:(V.clientX+te.clientX)/2,y:(V.clientY+te.clientY)/2}),d=(V,te=0)=>{E({show:!0,url:V[te],images:V}),O(te),Y(1),le({x:0,y:0}),Ve(null),je(null),re(!1)},q=V=>{if(!z.images)return;const te=(D+V+z.images.length)%z.images.length;O(te),E(X=>({...X,url:z.images[te]}))},x=async(V,te)=>{const X=a.find(ge=>ge.id===V);if(X)try{const ge={...X,images:[...X.images,...te]};await Ms.updateLog(V,{project:X.project,date:X.date,images:ge.images,notes:X.notes}),o(pe=>pe.map(he=>he.id===V?ge:he)),F.success(`${te.length}  `),M(null)}catch(ge){console.error("Failed to add images to log:",ge),F.error("  ")}};return l.useCallback((V,te)=>{const ge=Array.from(te).filter(he=>he.type.startsWith("image/"));if(ge.length===0){F.error("   ");return}const pe=ge.map(he=>new Promise(Pe=>{const $e=new FileReader;$e.onload=Re=>{var Fe;Pe((Fe=Re.target)==null?void 0:Fe.result)},$e.readAsDataURL(he)}));Promise.all(pe).then(he=>{x(V,he)})},[a]),l.useEffect(()=>{const V=te=>{if(z.show)switch(te.key){case"ArrowLeft":te.preventDefault(),z.images&&z.images.length>1&&q(-1);break;case"ArrowRight":te.preventDefault(),z.images&&z.images.length>1&&q(1);break;case"Escape":te.preventDefault(),E({show:!1,url:null});break}};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[z.show,z.images,D]),e.jsxDEV("div",{className:"site-log-container desktop:grid desktop:grid-cols-12 desktop:gap-4 desktop:h-[calc(100vh-140px)] space-y-3 desktop:space-y-0",children:[e.jsxDEV("div",{className:"desktop:hidden flex justify-end items-center gap-2 mb-2",children:[e.jsxDEV("label",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[e.jsxDEV("input",{type:"checkbox",checked:n,onChange:V=>r(V.target.checked),className:"w-3 h-3 rounded border-gray-300"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:715,columnNumber:11},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:714,columnNumber:9},void 0),e.jsxDEV("select",{value:m,onChange:V=>N(V.target.value),className:"px-3 py-1.5 bg-white text-gray-700 rounded-lg text-xs font-medium focus:outline-none focus:ring-2 focus:ring-gray-300 border border-gray-300",style:{appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.5rem center",backgroundSize:"1.25rem",paddingRight:"2.5rem"},children:i.map(V=>e.jsxDEV("option",{value:V.name,children:V.name},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:737,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:723,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:713,columnNumber:7},void 0),e.jsxDEV("div",{className:"site-log-left desktop:col-span-4 desktop:flex desktop:flex-col desktop:gap-4 desktop:h-full space-y-3 desktop:space-y-0",children:[e.jsxDEV("div",{className:"site-log-calendar desktop:flex-shrink-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 max-h-[32vh] desktop:max-h-full overflow-y-auto",children:[e.jsxDEV("div",{className:"mb-4 hidden desktop:block",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:e.jsxDEV("select",{value:m,onChange:V=>N(V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:i.map(V=>e.jsxDEV("option",{value:V.name,children:V.name},V.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:759,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:753,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:752,columnNumber:15},void 0),e.jsxDEV("label",{className:"flex items-center gap-1.5 mt-2 text-xs text-gray-500 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:n,onChange:V=>r(V.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:766,columnNumber:17},void 0),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:765,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:751,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("button",{onClick:()=>B(-1),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(Fr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:782,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:778,columnNumber:15},void 0),e.jsxDEV("h3",{className:"text-sm font-semibold",children:De(ee,"yyyy M")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:784,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>B(1),className:"p-1.5 hover:bg-gray-100 rounded transition-colors",children:e.jsxDEV(qr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:791,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:787,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:777,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-7 gap-0.5",children:[["","","","","","",""].map(V=>e.jsxDEV("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:V},V,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:798,columnNumber:17},void 0)),f().map((V,te)=>{const X=V.date.getMonth()===ee.getMonth(),ge=De(V.date,"yyyy-MM-dd")===De(new Date,"yyyy-MM-dd"),pe=De(V.date,"yyyy-MM-dd")===De(b,"yyyy-MM-dd");return e.jsxDEV("div",{onClick:()=>h(V.date),className:`text-center p-1.5 desktop:p-2 text-xs cursor-pointer rounded transition-colors min-h-[36px] desktop:min-h-[48px] flex flex-col items-center justify-center ${X?"text-gray-700":"text-gray-300"} ${ge?"bg-blue-100":""} ${pe?"bg-gray-900 text-white":"hover:bg-gray-100"} ${V.hasImages?"font-bold":""}`,children:[e.jsxDEV("span",{children:De(V.date,"d")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:817,columnNumber:21},void 0),V.hasImages&&e.jsxDEV("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-0.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:819,columnNumber:23},void 0)]},te,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:808,columnNumber:19},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:796,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:749,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:747,columnNumber:9},void 0),e.jsxDEV("div",{className:"site-log-notes desktop:flex-1 desktop:min-h-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 max-h-[30vh] desktop:h-full desktop:flex desktop:flex-col overflow-hidden",children:[e.jsxDEV("h2",{className:"text-lg font-semibold mb-4 flex-shrink-0",children:[De(b,"M d"),"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:831,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 min-h-0 flex flex-col",children:e.jsxDEV("textarea",{value:He.notes,onChange:V=>{const te=V.target.value,X=De(b,"yyyy-MM-dd"),ge=`${m}_${X}`;Le(pe=>({...pe,notes:te})),P(pe=>({...pe,[ge]:te})),y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{if(m)try{const pe=w.current.find(he=>{try{const Pe=he.date?new Date(he.date):null;return Pe&&!isNaN(Pe.getTime())&&De(Pe,"yyyy-MM-dd")===X&&he.project===m}catch{return!1}});if(pe)await Ms.updateLog(pe.id,{project:pe.project,date:pe.date,images:pe.images,notes:te});else if(te.trim()){const he=await Ms.createLog({project:m,date:b,images:He.images,notes:te,createdBy:(s==null?void 0:s.name)||""});he&&o(Pe=>[...Pe,{id:he._id||he.id,project:m,date:b,images:He.images,notes:te,createdBy:(s==null?void 0:s.name)||"",createdAt:new Date}])}}catch(pe){console.error("  :",pe)}},500)},rows:4,className:"site-log-textarea w-full h-full flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none desktop:min-h-[200px]",placeholder:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:837,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:835,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:830,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:829,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:745,columnNumber:7},void 0),e.jsxDEV("div",{className:"site-log-photos desktop:col-span-8 desktop:h-full",children:e.jsxDEV("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-4 transition-all desktop:h-full desktop:flex desktop:flex-col ${C?"ring-2 ring-blue-400 bg-blue-50":""}`,onDragOver:V=>{V.preventDefault(),k(!0)},onDragLeave:V=>{V.currentTarget.contains(V.relatedTarget)||k(!1)},onDrop:V=>{V.preventDefault(),k(!1),Ie(V)},children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4 desktop:flex-shrink-0",children:[e.jsxDEV("h2",{className:"text-lg font-semibold flex items-center gap-4",children:e.jsxDEV("span",{className:"text-sm font-normal text-gray-600",children:[": ",(s==null?void 0:s.name)||"  "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:937,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:936,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>{const V=document.createElement("input");V.type="file",V.multiple=!0,V.accept="image/*",V.onchange=te=>{const X=te.target;X.files&&ye(X.files)},V.click()},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:" ",children:e.jsxDEV(Ks,{className:"h-5 w-5 text-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:957,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:940,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{const V=De(b,"yyyy-MM-dd"),te=a.filter(X=>{try{const ge=X.date?new Date(X.date):null;return ge&&!isNaN(ge.getTime())&&De(ge,"yyyy-MM-dd")===V}catch{return!1}});te.length>0&&window.confirm(`${De(b,"M d")}   ?`)&&te.forEach(X=>Ue(X.id))},className:"p-1.5 hover:bg-gray-200 rounded transition-colors",title:" ",children:e.jsxDEV(gs,{className:"h-5 w-5 text-red-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:978,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:959,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:939,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:935,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6 max-h-[990px] desktop:max-h-full desktop:flex-1 desktop:min-h-0 overflow-y-auto",children:(()=>{const V=De(b,"yyyy-MM-dd"),te=a.filter(X=>{try{const ge=X.date?new Date(X.date):null;return ge&&!isNaN(ge.getTime())&&De(ge,"yyyy-MM-dd")===V}catch{return!1}});return te.length>0?e.jsxDEV("div",{className:"space-y-4",children:te.map(X=>e.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[X.notes&&e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:X.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1006,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1005,columnNumber:27},void 0),e.jsxDEV("div",{className:"min-h-[600px] desktop:min-h-0",children:X.images&&X.images.length>0?e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 desktop:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-3",children:X.images.map((ge,pe)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:ge,alt:` ${pe+1}`,className:"w-full aspect-[4/3] object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>d(X.images,pe)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1016,columnNumber:35},void 0),e.jsxDEV("button",{onClick:()=>d(X.images,pe),className:"absolute top-2 right-2 p-1.5 bg-black bg-opacity-50 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(fo,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1026,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1022,columnNumber:35},void 0),e.jsxDEV("button",{onClick:he=>{he.stopPropagation(),R(X.id,pe)},className:"absolute top-2 left-2 p-1.5 bg-red-600 bg-opacity-80 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-opacity-100",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1035,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1028,columnNumber:35},void 0),e.jsxDEV("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:[pe+1," / ",X.images.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1037,columnNumber:35},void 0)]},pe,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1015,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1013,columnNumber:29},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-[600px]",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(tt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1046,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:"  +  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1047,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1045,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1044,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1011,columnNumber:25},void 0)]},X.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1e3,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:998,columnNumber:19},void 0):e.jsxDEV("div",{children:e.jsxDEV("div",{className:"rounded-lg p-4 pt-2 desktop:p-12 text-center",children:[e.jsxDEV(go,{className:"mx-auto h-12 w-12 desktop:h-16 desktop:w-16 text-gray-400 mb-2 desktop:mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1063,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm desktop:text-lg font-medium text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1064,columnNumber:23},void 0),e.jsxDEV("p",{className:"hidden desktop:block text-sm text-gray-600 mb-4",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1067,columnNumber:23},void 0),e.jsxDEV("p",{className:"hidden desktop:block text-xs text-gray-500 mb-4",children:"Ctrl+V    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1070,columnNumber:23},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:X=>X.target.files&&ye(X.target.files),className:"hidden",id:"main-image-upload"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1073,columnNumber:23},void 0),e.jsxDEV("label",{htmlFor:"main-image-upload",className:"inline-flex items-center px-3 py-1.5 desktop:px-4 desktop:py-2 border border-gray-300 rounded-lg text-xs desktop:text-sm text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[e.jsxDEV(tt,{className:"h-3 w-3 desktop:h-4 desktop:w-4 mr-1.5 desktop:mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1085,columnNumber:25},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1081,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1060,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1058,columnNumber:19},void 0)})()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:983,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:915,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:914,columnNumber:7},void 0),z.show&&z.url&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center overflow-hidden",onClick:()=>{E({show:!1,url:null}),Y(1),le({x:0,y:0})},onWheel:V=>{V.preventDefault();const te=V.deltaY>0?-.1:.1;Y(X=>Math.max(.5,Math.min(5,X+te)))},children:e.jsxDEV("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),E({show:!1,url:null}),Y(1),le({x:0,y:0})},className:"absolute top-4 right-4 p-2 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30 z-10",children:e.jsxDEV(ns,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1123,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1114,columnNumber:13},void 0),U!==1&&e.jsxDEV("div",{className:"absolute top-4 left-4 bg-white bg-opacity-20 text-white px-3 py-2 rounded-lg text-sm backdrop-blur",children:[Math.round(U*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1128,columnNumber:15},void 0),z.images&&z.images.length>1&&e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),q(-1),Y(1),le({x:0,y:0})},className:"absolute left-4 p-3 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30",children:e.jsxDEV(Fr,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1144,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1135,columnNumber:15},void 0),e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center",onMouseDown:V=>{U>1&&(ke(!0),ue({x:V.clientX-G.x,y:V.clientY-G.y}))},onMouseMove:V=>{de&&U>1&&le({x:V.clientX-se.x,y:V.clientY-se.y})},onMouseUp:()=>ke(!1),onMouseLeave:()=>ke(!1),onTouchStart:V=>{if(V.touches.length===2){V.preventDefault(),re(!0);const te=p(V.touches[0],V.touches[1]),X=S(V.touches[0],V.touches[1]);Ve(te),je(X)}else if(V.touches.length===1&&U>1&&!Me){const te=V.touches[0];ue({x:te.clientX-G.x,y:te.clientY-G.y})}},onTouchMove:V=>{if(V.touches.length===2){V.preventDefault(),re(!0);const te=p(V.touches[0],V.touches[1]),X=S(V.touches[0],V.touches[1]);if(oe&&Ee){const ge=te/oe,pe=Math.max(.5,Math.min(5,U*ge)),he=X.x-Ee.x,Pe=X.y-Ee.y,$e=pe/U,Re=G.x*$e+he,Fe=G.y*$e+Pe;Y(pe),le({x:Re,y:Fe})}Ve(te),je(X)}else if(V.touches.length===1&&U>1&&!Me){V.preventDefault();const te=V.touches[0];le({x:te.clientX-se.x,y:te.clientY-se.y})}},onTouchEnd:V=>{if(V.touches.length===0){const te=Date.now(),X=V.changedTouches[0],ge={x:X.clientX,y:X.clientY};if(te-be<300&&Ne&&Math.abs(ge.x-Ne.x)<30&&Math.abs(ge.y-Ne.y)<30&&!Me){if(U===1){const Pe=V.currentTarget.getBoundingClientRect(),$e=ge.x-Pe.left-Pe.width/2,Re=ge.y-Pe.top-Pe.height/2;Y(2.5),le({x:-$e*1.5,y:-Re*1.5})}else Y(1),le({x:0,y:0});we(0),Ae(null)}else we(te),Ae(ge);Ve(null),je(null),re(!1)}else if(V.touches.length===1&&Me){Ve(null),je(null),re(!1);const te=V.touches[0];ue({x:te.clientX-G.x,y:te.clientY-G.y})}},onDoubleClick:V=>{V.stopPropagation();const te=V.currentTarget.getBoundingClientRect(),X=V.clientX-te.left-te.width/2,ge=V.clientY-te.top-te.height/2;U===1?(Y(2.5),le({x:-X*1.5,y:-ge*1.5})):(Y(1),le({x:0,y:0}))},children:e.jsxDEV("img",{src:z.url,alt:" ",style:{transform:`scale(${U}) translate(${G.x/U}px, ${G.y/U}px)`,transformOrigin:"center center",transition:de||oe!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:U>1?de?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1,onClick:V=>V.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1287,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1149,columnNumber:13},void 0),z.images&&z.images.length>1&&e.jsxDEV("button",{onClick:V=>{V.stopPropagation(),q(1),Y(1),le({x:0,y:0})},className:"absolute right-4 p-3 bg-white bg-opacity-20 backdrop-blur rounded-full hover:bg-opacity-30",children:e.jsxDEV(qr,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1317,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1308,columnNumber:15},void 0),z.images&&z.images.length>1&&e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full",children:[D+1," / ",z.images.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1323,columnNumber:15},void 0),e.jsxDEV("div",{className:"absolute bottom-4 right-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-xs text-center backdrop-blur",children:"     /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1329,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1112,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:1099,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/SiteLog.tsx",lineNumber:711,columnNumber:5},void 0)},ki=["","","","","","",""],Md=()=>{const{user:s}=js(),t=Rs(),{asRequests:n,loadASRequestsFromAPI:r,addASRequestToAPI:i,updateASRequestInAPI:a,deleteASRequestFromAPI:o}=Ws(),m=t.map(v=>v.name),N=(s==null?void 0:s.name)===""?n.filter(v=>m.includes(v.project)):n,[y,b]=l.useState(null),[h,C]=l.useState("active"),[k,z]=l.useState(null),E=l.useRef(null),[J,K]=l.useState(null),[D,O]=l.useState(!1),[ee,Z]=l.useState(!1),[U,Y]=l.useState(""),[G,le]=l.useState(!1),{register:de,handleSubmit:ke,setValue:se,reset:ue,formState:{errors:oe}}=Kt(),[Ve,Ee]=l.useState([]),[je,Me]=l.useState(""),[re,be]=l.useState(""),[we,Ne]=l.useState(9),[Ae,He]=l.useState(0),Le=t.filter(v=>v.status==="completed");l.useEffect(()=>{r().catch(v=>{console.error("Failed to load AS requests:",v),F.error("AS    ")})},[r]),l.useEffect(()=>{if(y){if(se("project",y.project),se("client",y.client),se("siteAddress",y.siteAddress),se("description",y.description),y.requestDate&&se("requestDate",new Date(y.requestDate).toISOString().split("T")[0]),y.scheduledVisitDate&&se("scheduledVisitDate",new Date(y.scheduledVisitDate).toISOString().split("T")[0]),y.scheduledVisitTime){const[v,p]=y.scheduledVisitTime.split(":"),S=parseInt(v,10),d=parseInt(p,10);S>=12?(be(""),Ne(S===12?12:S-12)):(be(""),Ne(S===0?12:S)),He(d)}Ee(y.assignedTo||[])}else ue(),Ee([]),be(""),Ne(9),He(0),Me("")},[y,se,ue]),l.useEffect(()=>{var v,p;k&&E.current&&((p=(v=E.current).showPicker)==null||p.call(v))},[k]),l.useEffect(()=>{const v=()=>{le(p=>{const S=!p;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:S}})),S})};return window.addEventListener("headerAddButtonClick",v),()=>window.removeEventListener("headerAddButtonClick",v)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:G}}))},[G]);const Se=()=>{b(null),ue(),Ee([]),be(""),Ne(9),He(0),Me("")},P=async v=>{try{let p;if(v.scheduledVisitDate){let d=we;re===""&&we!==12?d=we+12:re===""&&we===12&&(d=0),p=`${d.toString().padStart(2,"0")}:${Ae.toString().padStart(2,"0")}`}const S={...v,requestDate:new Date(v.requestDate),scheduledVisitDate:v.scheduledVisitDate?new Date(v.scheduledVisitDate):void 0,scheduledVisitTime:p,assignedTo:Ve};if(y)await a(y.id,S),F.success("AS  ");else{const d={id:"",...S};await i(d),F.success("AS  ")}Se()}catch(p){console.error("Failed to save AS request:",p),F.error("AS   ")}},I=v=>{Ee(p=>p.includes(v)?p.filter(S=>S!==v):[...p,v])},M=()=>{je.trim()&&!Ve.includes(je.trim())&&(Ee(v=>[...v,je.trim()]),Me(""))},fe=v=>{Ee(p=>p.filter(S=>S!==v))},Ce=v=>{b(v),window.scrollTo({top:0,behavior:"smooth"})},W=async(v,p)=>{if(window.confirm(`"${p}" AS  ?

    .`))try{await o(v),F.success("AS  ")}catch(S){console.error("Failed to delete AS request:",S),F.error("AS   ")}},ce=(v,p)=>{if(p==="scheduledVisitDate"){const S=n.find(q=>q.id===v);let d={period:"",hour:9,minute:0};if(S!=null&&S.scheduledVisitTime){const[q,x]=S.scheduledVisitTime.split(":"),V=parseInt(q,10),te=parseInt(x,10);d={period:V>=12?"":"",hour:V===0?12:V>12?V-12:V,minute:te}}z({requestId:v,field:p,time:d})}else z({requestId:v,field:p})},w=async(v,p)=>{if(!k)return;const S=new Date(v);if(!isNaN(S.getTime()))try{const d={[k.field]:S};if(k.field==="scheduledVisitDate"&&p){let q=p.hour;p.period===""&&p.hour!==12?q=p.hour+12:p.period===""&&p.hour===12&&(q=0),d.scheduledVisitTime=`${q.toString().padStart(2,"0")}:${p.minute.toString().padStart(2,"0")}`}await a(k.requestId,d),z(null)}catch(d){console.error("Failed to update date:",d),F.error("  "),z(null)}},T=l.useCallback(v=>{var S;const p=(S=v.clipboardData)==null?void 0:S.items;if(p){for(let d=0;d<p.length;d++)if(p[d].type.indexOf("image")!==-1){v.preventDefault();const q=p[d].getAsFile();if(q){const x=new FileReader;x.onload=V=>{var ge,pe;const te=(ge=V.target)==null?void 0:ge.result,X=J||((pe=v.target.closest("[data-request-id]"))==null?void 0:pe.getAttribute("data-request-id"));if(X){const he=N.find(Pe=>Pe.id===X);if(he){const Pe=[...he.images||[],te];a(X,{images:Pe}),F.success(" ")}}else F.error("AS     ")},x.readAsDataURL(q)}}}},[J,N,a]);l.useEffect(()=>(document.addEventListener("paste",T),()=>document.removeEventListener("paste",T)),[T]);const ae=v=>{Y(v),Z(!0)},ye=(v,p)=>{v.preventDefault(),v.stopPropagation(),p&&O(!0)},Ie=v=>{v.preventDefault(),v.stopPropagation(),O(!1)},Ue=(v,p)=>{v.preventDefault(),v.stopPropagation(),O(!1);const S=Array.from(v.dataTransfer.files),d=[],q=S.filter(x=>x.type.startsWith("image/"));if(q.length===0){F.error("   ");return}q.forEach(x=>{const V=new FileReader;V.onload=te=>{var ge;const X=(ge=te.target)==null?void 0:ge.result;if(d.push(X),d.length===q.length){const pe=N.find(he=>he.id===p);if(pe){const he=[...pe.images||[],...d];a(p,{images:he}),F.success(`${d.length}  `)}}},V.readAsDataURL(x)})},R=async(v,p)=>{try{const S={status:p};p==="completed"?S.completionDate=new Date:p==="pending"?S.completionDate=void 0:p==="revisit"&&(S.scheduledVisitDate=void 0,S.completionDate=void 0),await a(v,S);const d=p==="completed"?"AS ":p==="revisit"?" ":"";F.success(` "${d}" `)}catch(S){console.error("Failed to update status:",S),F.error("  ")}},f=v=>{const p={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},completed:{label:"AS ",color:"bg-green-100 text-green-700 border-green-300"},revisit:{label:"",color:"bg-orange-100 text-orange-700 border-orange-300"}},S=p[v]||p.pending;return e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium border rounded ${S.color}`,children:S.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:395,columnNumber:7},void 0)},B=N.filter(v=>h==="completed"?v.status==="completed":v.status!=="completed");return e.jsxDEV("div",{className:"as-container grid grid-cols-1 lg:grid-cols-5 gap-4",children:[e.jsxDEV("div",{className:`as-form lg:col-span-1 ${G?"block":"hidden lg:block"}`,children:e.jsxDEV("div",{className:"card p-4 sticky top-4",children:[e.jsxDEV("h2",{className:"text-lg font-semibold mb-4",children:y?"AS  ":"AS  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:414,columnNumber:11},void 0),e.jsxDEV("form",{onSubmit:ke(P),className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" * ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:421,columnNumber:15},void 0),e.jsxDEV("select",{...de("project",{required:" "}),className:"input text-sm",onChange:v=>{const p=Le.find(S=>S.name===v.target.value);p&&(se("client",p.client),se("siteAddress",p.location))},children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:435,columnNumber:17},void 0),Le.map(v=>e.jsxDEV("option",{value:v.name,children:v.name},v.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:437,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:424,columnNumber:15},void 0),oe.project&&e.jsxDEV("p",{className:"mt-1 text-xs text-red-600",children:String(oe.project.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:443,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:420,columnNumber:13},void 0),e.jsxDEV("input",{type:"hidden",...de("client")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:448,columnNumber:13},void 0),e.jsxDEV("input",{type:"hidden",...de("siteAddress")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:449,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:452,columnNumber:15},void 0),e.jsxDEV("textarea",{...de("description"),rows:3,className:"input text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:455,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:451,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:464,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[ki.map(v=>e.jsxDEV("button",{type:"button",onClick:()=>I(v),className:`px-2.5 py-1.5 rounded border transition-colors text-xs ${Ve.includes(v)?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:v},v,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:470,columnNumber:19},void 0)),Ve.filter(v=>!ki.includes(v)).map(v=>e.jsxDEV("button",{type:"button",onClick:()=>fe(v),className:"px-2.5 py-1.5 rounded border transition-colors text-xs bg-gray-900 text-white border-gray-900 hover:bg-gray-800",children:[v," "]},v,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:487,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:468,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:je,onChange:v=>Me(v.target.value),onKeyPress:v=>{v.key==="Enter"&&(v.preventDefault(),M())},placeholder:" ",className:"flex-1 px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:500,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:M,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded text-xs font-medium hover:bg-gray-200 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:513,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:499,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:463,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:526,columnNumber:17},void 0),e.jsxDEV("input",{...de("requestDate"),type:"date",className:"w-full px-2.5 py-2 text-xs bg-white text-gray-700 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:529,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:525,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:537,columnNumber:17},void 0),e.jsxDEV("input",{...de("scheduledVisitDate"),type:"date",className:"w-full px-2.5 py-2 text-xs bg-white text-gray-700 border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:540,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:536,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:524,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:550,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>be(""),className:`px-2 py-1.5 text-xs rounded border transition-colors ${re===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:555,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>be(""),className:`px-2 py-1.5 text-xs rounded border transition-colors ${re===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:566,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:554,columnNumber:17},void 0),e.jsxDEV("select",{value:we,onChange:v=>Ne(parseInt(v.target.value)),className:"px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(v=>e.jsxDEV("option",{value:v,children:[v,""]},v,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:585,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:579,columnNumber:17},void 0),e.jsxDEV("select",{value:Ae,onChange:v=>He(parseInt(v.target.value)),className:"px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(v=>e.jsxDEV("option",{value:v,children:[v,""]},v,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:597,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:591,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:553,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:549,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[y&&e.jsxDEV("button",{type:"button",onClick:Se,className:"flex-1 btn btn-outline text-sm py-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:608,columnNumber:17},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 btn btn-primary text-sm py-2",children:y?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:616,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:606,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:418,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:413,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:412,columnNumber:7},void 0),e.jsxDEV("div",{className:"as-list lg:col-span-4 space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8",children:[e.jsxDEV("button",{onClick:()=>C("active"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${h==="active"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["",e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${h==="active"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:N.filter(v=>v.status!=="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:641,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:632,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>C("completed"),className:`py-2 md:py-3 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${h==="completed"?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:["AS ",e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${h==="completed"?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:N.filter(v=>v.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:656,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:647,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:631,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:630,columnNumber:9},void 0),e.jsxDEV("div",{className:"as-cards grid grid-cols-1 md:grid-cols-2 gap-4",children:B.map(v=>{var p,S,d,q;return e.jsxDEV("div",{"data-request-id":v.id,className:"card p-4 hover:border-gray-400 transition-colors",onDragOver:x=>ye(x,v.id),onDragLeave:Ie,onDrop:x=>Ue(x,v.id),children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:f(v.status)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:678,columnNumber:19},void 0),e.jsxDEV("h3",{className:"font-bold text-base text-gray-900",children:v.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:681,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:677,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV("button",{onClick:()=>Ce(v),className:"text-gray-600 hover:text-gray-700 p-1",children:e.jsxDEV(yn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:688,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:684,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>W(v.id,v.project),className:"text-rose-600 hover:text-rose-700 p-1",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:694,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:690,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:683,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:676,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:701,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:v.siteAddress},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:702,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:700,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:"AS "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:706,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:v.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:707,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:705,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:711,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:v.assignedTo&&v.assignedTo.length>0?v.assignedTo.join(", "):""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:712,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:710,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:721,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative inline-block",children:[(k==null?void 0:k.requestId)===v.id&&(k==null?void 0:k.field)==="requestDate"&&e.jsxDEV("input",{ref:E,type:"date",defaultValue:De(v.requestDate,"yyyy-MM-dd"),onChange:x=>w(x.target.value),onBlur:()=>z(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:724,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>ce(v.id,"requestDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(ht,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:738,columnNumber:25},void 0),e.jsxDEV("span",{children:De(v.requestDate,"MM.dd (eee)",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:739,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:734,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:722,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:720,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:745,columnNumber:21},void 0),e.jsxDEV("div",{className:"relative inline-block",children:[(k==null?void 0:k.requestId)===v.id&&(k==null?void 0:k.field)==="scheduledVisitDate"&&e.jsxDEV("div",{className:"absolute left-0 top-0 z-50 bg-white border border-gray-300 rounded-lg shadow-lg p-3",style:{minWidth:"280px"},children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:751,columnNumber:31},void 0),e.jsxDEV("input",{ref:E,type:"date",defaultValue:v.scheduledVisitDate?De(v.scheduledVisitDate,"yyyy-MM-dd"):"",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",onChange:x=>{const V=x.target.value,te=k.time||{period:"",hour:9,minute:0};w(V,te)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:752,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:750,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:766,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{type:"button",onClick:()=>z(x=>x?{...x,time:{...x.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((p=k==null?void 0:k.time)==null?void 0:p.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:769,columnNumber:35},void 0),e.jsxDEV("button",{type:"button",onClick:()=>z(x=>x?{...x,time:{...x.time,period:""}}:null),className:`px-2 py-1 text-xs rounded border transition-colors ${((S=k==null?void 0:k.time)==null?void 0:S.period)===""?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:780,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:768,columnNumber:33},void 0),e.jsxDEV("select",{value:((d=k==null?void 0:k.time)==null?void 0:d.hour)||9,onChange:x=>z(V=>V?{...V,time:{...V.time,hour:parseInt(x.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[12,1,2,3,4,5,6,7,8,9,10,11].map(x=>e.jsxDEV("option",{value:x,children:[x,""]},x,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:799,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:793,columnNumber:33},void 0),e.jsxDEV("select",{value:((q=k==null?void 0:k.time)==null?void 0:q.minute)||0,onChange:x=>z(V=>V?{...V,time:{...V.time,minute:parseInt(x.target.value)}}:null),className:"px-1 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",children:[0,10,20,30,40,50].map(x=>e.jsxDEV("option",{value:x,children:[x,""]},x,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:811,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:805,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:767,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:765,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[e.jsxDEV("button",{type:"button",onClick:()=>z(null),className:"px-3 py-1 text-xs bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:820,columnNumber:31},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{const x=E.current;x&&(k!=null&&k.time)&&w(x.value,k.time)},className:"px-3 py-1 text-xs bg-gray-900 text-white rounded hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:827,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:819,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:749,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:748,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>ce(v.id,"scheduledVisitDate"),className:"flex items-center space-x-1 text-xs text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(ht,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:847,columnNumber:25},void 0),e.jsxDEV("span",{children:[v.scheduledVisitDate?De(v.scheduledVisitDate,"MM.dd (eee)",{locale:ms}):"",v.scheduledVisitTime&&` ${vn(v.scheduledVisitTime)}`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:848,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:843,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:746,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:744,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:719,columnNumber:17},void 0),v.status!=="completed"&&e.jsxDEV("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("button",{onClick:()=>R(v.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-medium bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:"AS "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:860,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>R(v.id,"revisit"),className:"flex-1 px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:866,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:859,columnNumber:19},void 0),v.status==="completed"&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("button",{onClick:()=>R(v.id,"pending"),className:"w-full px-3 py-2 text-xs font-medium bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:876,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 text-center",children:v.completionDate&&`: ${De(v.completionDate,"yyyy.MM.dd",{locale:ms})}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:882,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:875,columnNumber:19},void 0),v.images&&v.images.length>0&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-2",children:["  (",v.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:891,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:v.images.map((x,V)=>e.jsxDEV("img",{src:x,alt:`AS  ${V+1}`,className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-75",onClick:()=>ae(x)},V,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:894,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:892,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:890,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:699,columnNumber:15},void 0)]},v.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:668,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:666,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:628,columnNumber:7},void 0),ee&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>Z(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:v=>{v.stopPropagation(),Z(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ns,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:925,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:918,columnNumber:13},void 0),e.jsxDEV("img",{src:U,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:v=>v.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:927,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:917,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:913,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AfterService.tsx",lineNumber:410,columnNumber:5},void 0)},Id=({work:s,onClose:t,onSave:n,initialProject:r})=>{const{register:i,handleSubmit:a,setValue:o,formState:{errors:m}}=Kt(),{user:N}=js(),y=Rs(),[b,h]=l.useState(!1),[C,k]=l.useState([]),[z,E]=l.useState([]);l.useEffect(()=>{if(s)o("project",s.project),o("description",s.description),o("amount",s.amount),o("date",s.date.toISOString().split("T")[0]),o("notes",s.notes||""),E(s.images||[]),k(s.images||[]);else{const Y=new Date().toISOString().split("T")[0];o("date",Y),E([]),k([]),(N==null?void 0:N.name)===""&&y.length>0?o("project",y[0].name):r&&o("project",r)}},[s,o,r,N,y]);const J=l.useCallback(Y=>{var le;const G=(le=Y.clipboardData)==null?void 0:le.items;if(G){for(let de=0;de<G.length;de++)if(G[de].type.indexOf("image")!==-1){Y.preventDefault();const ke=G[de].getAsFile();if(ke){const se=new FileReader;se.onload=ue=>{var Ve;const oe=(Ve=ue.target)==null?void 0:Ve.result;k(Ee=>[...Ee,oe]),E(Ee=>[...Ee,oe]),F.success(" ")},se.readAsDataURL(ke)}}}},[]);l.useEffect(()=>(document.addEventListener("paste",J),()=>document.removeEventListener("paste",J)),[J]);const K=Y=>{Y.preventDefault(),h(!0)},D=Y=>{Y.preventDefault(),h(!1)},O=Y=>{Y.preventDefault(),h(!1);const G=Array.from(Y.dataTransfer.files);G.forEach(le=>{if(le.type.startsWith("image/")){const de=new FileReader;de.onload=ke=>{var ue;const se=(ue=ke.target)==null?void 0:ue.result;k(oe=>[...oe,se]),E(oe=>[...oe,se])},de.readAsDataURL(le)}}),G.length>0&&F.success(`${G.length}  `)},ee=Y=>{var le;const G=Array.from(((le=Y.target)==null?void 0:le.files)||[]);G.forEach(de=>{if(de.type.startsWith("image/")){const ke=new FileReader;ke.onload=se=>{var oe;const ue=(oe=se.target)==null?void 0:oe.result;k(Ve=>[...Ve,ue]),E(Ve=>[...Ve,ue])},ke.readAsDataURL(de)}}),G.length>0&&F.success(`${G.length}  `)},Z=Y=>{k(G=>G.filter((le,de)=>de!==Y)),E(G=>G.filter((le,de)=>de!==Y)),F.success(" ")},U=Y=>{const G={...Y,amount:Number(Y.amount),date:new Date(Y.date),images:z};n(G)};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:s?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:171,columnNumber:11},void 0),e.jsxDEV("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ns,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:178,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:170,columnNumber:9},void 0),e.jsxDEV("form",{onSubmit:a(U),className:"p-6 space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:186,columnNumber:13},void 0),e.jsxDEV("select",{...i("project",{required:" "}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[(N==null?void 0:N.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:193,columnNumber:39},void 0),y.map(Y=>e.jsxDEV("option",{value:Y.name,children:Y.name},Y.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:195,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:189,columnNumber:13},void 0),m.project&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.project.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:185,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:207,columnNumber:13},void 0),e.jsxDEV("textarea",{...i("description",{required:"  "}),rows:3,className:"input",placeholder:"    (:    )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:210,columnNumber:13},void 0),m.description&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.description.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:217,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:206,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" () *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:224,columnNumber:15},void 0),e.jsxDEV("input",{...i("amount",{required:" ",min:{value:0,message:" 0  "}}),type:"number",className:"input",placeholder:": 500000"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:227,columnNumber:15},void 0),m.amount&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.amount.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:237,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:242,columnNumber:15},void 0),e.jsxDEV("input",{...i("date",{required:" "}),type:"date",className:"input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:245,columnNumber:15},void 0),m.date&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:String(m.date.message)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:251,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:241,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:222,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:258,columnNumber:13},void 0),e.jsxDEV("textarea",{...i("notes"),rows:2,className:"input",placeholder:"  ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:261,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:257,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"  (Ctrl+V  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:271,columnNumber:13},void 0),e.jsxDEV("div",{className:`border-2 border-dashed rounded-lg p-6 transition-colors ${b?"border-gray-500 bg-gray-50":"border-gray-300"}`,onDragOver:K,onDragLeave:D,onDrop:O,children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(Ys,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:284,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:285,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:" Ctrl+V   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:288,columnNumber:17},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:ee,className:"hidden",id:"file-upload-additional"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:291,columnNumber:17},void 0),e.jsxDEV("label",{htmlFor:"file-upload-additional",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[e.jsxDEV(tt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:303,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:299,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:283,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:275,columnNumber:13},void 0),C.length>0&&e.jsxDEV("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:C.map((Y,G)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:Y,alt:` ${G+1}`,className:"w-full h-32 object-cover rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:314,columnNumber:21},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Z(G),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(gs,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:324,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:319,columnNumber:21},void 0)]},G,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:313,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:270,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsxDEV("button",{type:"button",onClick:t,className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:334,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",className:"btn btn-primary",children:s?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:341,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:333,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:183,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:168,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/AdditionalWorkModal.tsx",lineNumber:167,columnNumber:5},void 0)},Bt={getAllAdditionalWorks:async()=>(await ve.get("/additional-works")).data,getAdditionalWorkById:async s=>(await ve.get(`/additional-works/${s}`)).data,createAdditionalWork:async s=>{const t={project:s.project,description:s.description,amount:s.amount,work_date:s.date instanceof Date?s.date.toISOString().split("T")[0]:s.date,notes:s.notes||""};return console.log("[additionalWorkService.createAdditionalWork] Sending to backend:",t),(await ve.post("/additional-works",t)).data},updateAdditionalWork:async(s,t)=>{const n={};return t.project!==void 0&&(n.project=t.project),t.description!==void 0&&(n.description=t.description),t.amount!==void 0&&(n.amount=t.amount),t.date!==void 0&&(n.work_date=t.date instanceof Date?t.date.toISOString().split("T")[0]:t.date),t.notes!==void 0&&(n.notes=t.notes),console.log("[additionalWorkService.updateAdditionalWork] Sending to backend:",n),(await ve.put(`/additional-works/${s}`,n)).data},deleteAdditionalWork:async s=>{await ve.delete(`/additional-works/${s}`)}},Td=()=>{var P;const{user:s}=js(),t=Rs(),{constructionPayments:n}=Ws(),[r,i]=l.useState([]),[a,o]=l.useState(!1),[m,N]=l.useState(null),[y,b]=l.useState(null),[h,C]=l.useState(new Set),[k,z]=l.useState(void 0),[E,J]=l.useState(!1),[K,D]=l.useState(null),[O,ee]=l.useState({});l.useRef(null);const[Z,U]=l.useState(!1),[Y,G]=l.useState(!1),le=I=>r.filter(M=>M.project===I).reduce((M,fe)=>M+fe.amount,0),ke=((s==null?void 0:s.name)===""?n.filter(I=>t.some(M=>M.name===I.project)):n).filter(I=>{var ce;const M=le(I.project);let fe;if(I.vatType==="amount")fe=(I.totalAmount||0)+(I.vatAmount||0);else{const w=(I.totalAmount||0)*((I.vatPercentage??100)/100)*.1;fe=(I.totalAmount||0)+w}const Ce=fe+M,W=((ce=I.payments)==null?void 0:ce.reduce((w,T)=>w+T.amount,0))||0;return Ce>0&&W>=Ce}).map(I=>I.project),[se,ue]=l.useState({project:"",description:"",amount:"",date:De(new Date,"yyyy-MM-dd"),notes:""});l.useEffect(()=>{var I;if(t.length>0&&!se.project){const M=localStorage.getItem("lastSelectedProject"),fe=((I=t.find(Ce=>Ce.name===M))==null?void 0:I.name)||t[0].name;ue(Ce=>({...Ce,project:fe}))}},[t]);const oe=l.useCallback(I=>{var fe;if(!y){F.error("  ");return}const M=(fe=I.clipboardData)==null?void 0:fe.items;if(M){for(let Ce=0;Ce<M.length;Ce++)if(M[Ce].type.indexOf("image")!==-1){I.preventDefault();const W=M[Ce].getAsFile();if(W){const ce=new FileReader;ce.onload=w=>{var ae;const T=(ae=w.target)==null?void 0:ae.result;ee(ye=>({...ye,[y]:[...ye[y]||[],T]})),F.success(" "),Ve(y,[...O[y]||[],T])},ce.readAsDataURL(W)}}}},[y,O]);l.useEffect(()=>(document.addEventListener("paste",oe),()=>document.removeEventListener("paste",oe)),[oe]),l.useEffect(()=>{const I=localStorage.getItem("additionalWorkImages");I&&ee(JSON.parse(I))},[]),l.useEffect(()=>{localStorage.setItem("additionalWorkImages",JSON.stringify(O))},[O]),l.useEffect(()=>{const I=()=>{U(M=>{const fe=!M;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:fe}})),fe})};return window.addEventListener("headerAddButtonClick",I),()=>window.removeEventListener("headerAddButtonClick",I)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:Z}}))},[Z]);const Ve=async(I,M)=>{try{await Bt.updateAdditionalWork(I,{images:M})}catch(fe){console.error("Failed to save images:",fe)}},Ee=I=>{const M=Array.from(I.target.files||[]);if(!y){F.error("  ");return}M.forEach(fe=>{if(fe.type.startsWith("image/")){const Ce=new FileReader;Ce.onload=W=>{var w;const ce=(w=W.target)==null?void 0:w.result;ee(T=>({...T,[y]:[...T[y]||[],ce]}))},Ce.readAsDataURL(fe)}}),M.length>0&&F.success(" ")},je=(I,M)=>{ee(Ce=>({...Ce,[I]:(Ce[I]||[]).filter((W,ce)=>ce!==M)})),F.success(" ");const fe=(O[I]||[]).filter((Ce,W)=>W!==M);Ve(I,fe)},Me=I=>{D(I),J(!0)},re=async()=>{try{const I=await Bt.getAllAdditionalWorks(),M=t.map(W=>W.name),fe=(s==null?void 0:s.name)===""?I.filter(W=>M.includes(W.project)):I;i(fe.map(W=>({id:W._id,project:W.project,description:W.description,amount:W.amount,date:new Date(W.date),notes:W.notes,images:W.images||[]})));const Ce={};fe.forEach(W=>{W.images&&W.images.length>0&&(Ce[W._id]=W.images)}),ee(Ce)}catch(I){console.error("Failed to load additional works:",I),i([])}};l.useEffect(()=>{re()},[]);const be=I=>{N(I),z(I.project),o(!0)},we=async I=>{if(window.confirm("  ?"))try{await Bt.deleteAdditionalWork(I),await re(),F.success(" "),y===I&&b(null)}catch(M){console.error("Failed to delete additional work:",M),F.error("  ")}},Ne=async I=>{o(!1),N(null),z(void 0),I&&await re()},Ae=async I=>{if(I.preventDefault(),!se.project||!se.description||!se.amount||!se.date){F.error("   ");return}try{await Bt.createAdditionalWork({project:se.project,description:se.description,amount:parseFloat(se.amount),date:new Date(se.date)}),F.success(" "),ue(M=>({...M,description:"",amount:"",date:De(new Date,"yyyy-MM-dd"),notes:""})),await re(),localStorage.setItem("lastSelectedProject",se.project)}catch(M){console.error("Failed to create additional work:",M),F.error("  ")}},He=r.filter(I=>{const M=ke.includes(I.project);return Y?M:!M}),Le=He.reduce((I,M)=>{const fe=I.find(Ce=>Ce.projectName===M.project);return fe?(fe.works.push(M),fe.totalAmount+=M.amount):I.push({projectName:M.project,works:[M],totalAmount:M.amount}),I},[]);Le.sort((I,M)=>I.projectName.localeCompare(M.projectName)),Le.forEach(I=>{I.works.sort((M,fe)=>fe.date.getTime()-M.date.getTime())}),l.useEffect(()=>{const I=new Set(Le.map(M=>M.projectName));C(I)},[He.length]);const Se=I=>{const M=new Set(h);M.has(I)?M.delete(I):M.add(I),C(M)};return e.jsxDEV("div",{className:"space-y-4 md:space-y-6",children:[e.jsxDEV("div",{className:"additional-work-container hidden desktop:grid desktop:gap-4 2xl:gap-6 desktop:grid-cols-12",children:[e.jsxDEV("div",{className:"additional-work-form md:col-span-4 lg:col-span-4 bg-white border border-gray-200 rounded-lg p-4 md:p-5 lg:p-6 h-fit sticky top-4",children:e.jsxDEV("div",{className:"aw-form-inner space-y-4",children:[e.jsxDEV("div",{className:"aw-project",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:386,columnNumber:15},void 0),e.jsxDEV("select",{value:se.project,onChange:I=>ue(M=>({...M,project:I.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:394,columnNumber:41},void 0),t.map(I=>e.jsxDEV("option",{value:I.name,children:I.name},I.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:396,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:389,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:385,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-date",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:405,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:se.date,onChange:I=>ue(M=>({...M,date:I.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:408,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:404,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-description",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:418,columnNumber:15},void 0),e.jsxDEV("textarea",{value:se.description,onChange:I=>ue(M=>({...M,description:I.target.value})),rows:5,className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:421,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:417,columnNumber:13},void 0),e.jsxDEV("div",{className:"aw-amount",children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:432,columnNumber:15},void 0),e.jsxDEV("input",{type:"number",value:se.amount,onChange:I=>ue(M=>({...M,amount:I.target.value})),className:"w-full px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:435,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:431,columnNumber:13},void 0),e.jsxDEV("button",{onClick:Ae,className:"aw-submit w-full py-3.5 bg-gray-900 text-white text-base font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:445,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:383,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:382,columnNumber:9},void 0),e.jsxDEV("div",{className:"additional-work-list md:col-span-4 lg:col-span-5 space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"flex border-b border-gray-200",children:[e.jsxDEV("button",{onClick:()=>G(!1),className:`flex-1 py-2 text-sm font-medium border-b-2 transition-colors ${Y?"border-transparent text-gray-500 hover:text-gray-700":"border-gray-900 text-gray-900"}`,children:[" (",Le.filter(I=>!ke.includes(I.projectName)).length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:461,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>G(!0),className:`flex-1 py-2 text-sm font-medium border-b-2 transition-colors ${Y?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",ke.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:471,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:460,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:458,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:457,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-4 max-h-[calc(100vh-240px)] overflow-y-auto",children:Le.map(I=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-4 py-3.5 border-b border-gray-200 flex items-center justify-between cursor-pointer bg-gray-100 hover:bg-gray-200",onClick:()=>Se(I.projectName),children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[h.has(I.projectName)?e.jsxDEV(Wr,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:495,columnNumber:23},void 0):e.jsxDEV(Or,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:497,columnNumber:23},void 0),e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:I.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:499,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",I.works.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:500,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:493,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[I.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:502,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:489,columnNumber:17},void 0),h.has(I.projectName)&&e.jsxDEV("div",{className:"divide-y divide-gray-100",children:I.works.map(M=>{var fe;return e.jsxDEV("div",{className:`px-4 py-3.5 hover:bg-gray-50 cursor-pointer transition-colors ${y===M.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>b(M.id),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-base text-gray-900 line-clamp-2",children:M.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:519,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-500",children:De(M.date,"yyyy.MM.dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:521,columnNumber:31},void 0),((fe=O[M.id])==null?void 0:fe.length)>0&&e.jsxDEV("span",{className:"text-sm text-blue-600 flex items-center gap-1",children:[e.jsxDEV(Ys,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:526,columnNumber:35},void 0),O[M.id].length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:525,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:520,columnNumber:29},void 0),M.notes&&e.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:M.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:532,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:518,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-center gap-3 ml-4",children:[e.jsxDEV("span",{className:"text-base font-semibold text-gray-900",children:[M.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:536,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:Ce=>{Ce.stopPropagation(),be(M)},className:"p-1.5 text-gray-500 hover:text-gray-700",children:e.jsxDEV(yn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:547,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:540,columnNumber:31},void 0),e.jsxDEV("button",{onClick:Ce=>{Ce.stopPropagation(),we(M.id)},className:"p-1.5 text-red-500 hover:text-red-700",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:556,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:549,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:539,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:535,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:517,columnNumber:25},void 0)},M.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:510,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:508,columnNumber:19},void 0)]},I.projectName,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:488,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:486,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:455,columnNumber:9},void 0),e.jsxDEV("div",{className:"additional-work-images md:col-span-4 lg:col-span-3 bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-5 lg:p-6",children:y?e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-5",children:[e.jsxDEV("h3",{className:"text-base font-semibold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:575,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"text-sm text-gray-500",children:"Ctrl+V  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:577,columnNumber:19},void 0),e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:Ee,className:"hidden",id:"work-image-upload"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:580,columnNumber:19},void 0),e.jsxDEV("label",{htmlFor:"work-image-upload",className:"px-4 py-2 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 cursor-pointer flex items-center gap-2 font-medium",children:[e.jsxDEV(tt,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:592,columnNumber:21},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:588,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:576,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:574,columnNumber:15},void 0),((P=O[y])==null?void 0:P.length)>0?e.jsxDEV("div",{className:"grid grid-cols-2 xl:grid-cols-3 gap-4",children:O[y].map((I,M)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:I,alt:` ${M+1}`,className:"w-full h-40 object-cover rounded-lg cursor-pointer",onClick:()=>Me(I)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:602,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>je(y,M),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ns,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:612,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:608,columnNumber:23},void 0)]},M,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:601,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:599,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-16 text-gray-500",children:[e.jsxDEV(Ys,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:619,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-base",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:620,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"  Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:621,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:618,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:573,columnNumber:13},void 0):e.jsxDEV("div",{className:"text-center py-16 text-gray-500",children:[e.jsxDEV(Ys,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:629,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-base",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:630,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm mt-2",children:"     "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:631,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:628,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:571,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:380,columnNumber:7},void 0),e.jsxDEV("div",{className:"desktop:hidden space-y-3",children:[Z&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:645,columnNumber:17},void 0),e.jsxDEV("select",{value:se.project,onChange:I=>ue(M=>({...M,project:I.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:653,columnNumber:43},void 0),t.map(I=>e.jsxDEV("option",{value:I.name,children:I.name},I.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:655,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:648,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:644,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:664,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:se.date,onChange:I=>ue(M=>({...M,date:I.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:667,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:663,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:677,columnNumber:17},void 0),e.jsxDEV("textarea",{value:se.description,onChange:I=>ue(M=>({...M,description:I.target.value})),rows:4,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 resize-none",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:680,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:676,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:691,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:se.amount,onChange:I=>ue(M=>({...M,amount:I.target.value})),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white",placeholder:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:694,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:690,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Ae,className:"w-full py-3 bg-gray-900 text-white text-sm font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:704,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:642,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:641,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex border-b border-gray-200",children:[e.jsxDEV("button",{onClick:()=>G(!1),className:`flex-1 py-2 text-xs font-medium border-b-2 transition-colors ${Y?"border-transparent text-gray-500":"border-gray-900 text-gray-900"}`,children:[" (",r.filter(I=>!ke.includes(I.project)).length>0?Le.filter(I=>!ke.includes(I.projectName)).length:0,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:716,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>G(!0),className:`flex-1 py-2 text-xs font-medium border-b-2 transition-colors ${Y?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:[" (",ke.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:726,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:715,columnNumber:9},void 0),Le.map(I=>e.jsxDEV("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxDEV("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-100",onClick:()=>Se(I.projectName),children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[h.has(I.projectName)?e.jsxDEV(Wr,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:747,columnNumber:19},void 0):e.jsxDEV(Or,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:749,columnNumber:19},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:I.projectName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:751,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["(",I.works.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:752,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:745,columnNumber:15},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[I.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:754,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:741,columnNumber:13},void 0),h.has(I.projectName)&&e.jsxDEV("div",{className:"divide-y divide-gray-100",children:I.works.map(M=>e.jsxDEV("div",{className:"px-4 py-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm text-gray-900",children:M.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:765,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:De(M.date,"yyyy.MM.dd",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:766,columnNumber:25},void 0),M.notes&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:M.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:770,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:764,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 ml-3",children:[e.jsxDEV("span",{className:"font-semibold text-gray-900",children:[M.amount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:774,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("button",{onClick:()=>be(M),className:"p-1 text-gray-500 hover:text-gray-700",children:e.jsxDEV(yn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:782,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:778,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>we(M.id),className:"p-1 text-red-500 hover:text-red-700",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:788,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:784,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:777,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:773,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:763,columnNumber:21},void 0)},M.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:762,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:760,columnNumber:15},void 0)]},I.projectName,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:740,columnNumber:11},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:638,columnNumber:7},void 0),a&&e.jsxDEV(Id,{isOpen:a,onClose:Ne,work:m,projects:t,initialProject:k},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:804,columnNumber:9},void 0),E&&K&&e.jsxDEV("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:()=>J(!1),children:e.jsxDEV("div",{className:"relative max-w-4xl max-h-full",children:[e.jsxDEV("button",{onClick:()=>J(!1),className:"absolute top-4 right-4 p-2 bg-white rounded-full hover:bg-gray-100 z-10",children:e.jsxDEV(ns,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:824,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:820,columnNumber:13},void 0),e.jsxDEV("img",{src:K,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:I=>I.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:826,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:819,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:815,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/AdditionalWork.tsx",lineNumber:378,columnNumber:5},void 0)},Fd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAgAElEQVR4nO3dedgdRZ328W8ZIECIIYmENYAiyBZkEWRfRBQcBQFFRVAZtkFlhFdBUGEURhgVFBdcYEZRQEZhZJNFFAVEERVZJUIgsgZIZEnYEkJS7x/VkQfyLFV9qrqq+9yf6zpXuEKd7t+TPs+5u6urq0BEREREREREREREREREREQAMIP9pYVRwGoN1yIiImV6yMCCV/7lEkM0Xg24L209IiLSEmsAD7zyL1+VoRAREekABYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1DLWgVCx/AK5JvA8RERncjsCWqTaeOkCuMXBs4n2IiMggLJxMwgBRF5aIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpJfUwXi8WJuOGmq0JjMlcTr+bC5xn4P5eN2RhK2Ad3PEt4rPWxx4GzjXwXC8bsbAM8BZgdWASYCLUJvVY3KMS1+YqIOsvtYWxwAnAR4GlctYiL3Oihc0M3FbnzRY2Br4FbBO3LOnR4RY2NfBinTdbOBD4IrBi3LKkFxY+beDLOfadrQvLwvLAb4AjUHiUZgngG3XeaGE74PcoPEo0BfjX0DdZMBa+Dfw3Co8SnWhhQo4d57wHcgWwWcb9y/C2sbB0yBssrAf8EtfNIWV6W433fAY4LHYhEs1SwA45dpwlQCzsR8LH6yWKJYANAt9zKjA6QS0Sz5SQxhZWxgWIlC3ouMbSeIBY9wWTpb9Ogk30bWhhe2C3hLVIHN7HtHIysGyKQiSq0OMaRY4rkL1xZzVSvpB+1aOTVSExTbCev/fVIJf9EtcjcfTNPZC9MuxT6vEaUl0N7dwlcS0Sh8G/m3FvYFTCWiSeLI8/5AiQOjfxJI/Znu22RyPp2sIaeN6z7U5JK5GYfH9Xo2o0QKx7qGxsk/uUnjzl2W6rpFVITP8IaKvj2h6+v6tRNX0Fog9ku9zr2U7HtT28jml1/2PtxLVIPL6/q1EpQGQojxr4u2dbHdf2uN6zXZbnCqQ23+MaVdMBojOa9viqTyPrnkxWt2Q7vICbYsaHflfb43oDt+TYcdMBsmrD+5Nw83BTVngFCDqmbTEDOCBgkkwd13a4Bvhwrp03PZniKgFtp+GmT/i1cbNOSplCjinAucBnY8z2K0mFHNf5wMeBc3qd7VfapbEAse5pVt+ujvnAHgamJixJ4gj5ovkj8JG6s8FKo0KO67EGzkhWiRSryS6skCclr1N4tMbyAW2/q/BoDd/jugD4TspCpFxNBkjIDK2XJ6tCYgs5rpcmq0Ji8z2u16rbqn81GSAhU4PfnqwKic33uM4yYQ+xSV6+x1W/q32s1ACZmawKic33uOqYtouOq4yoyQAJWSfisWRVSGy+x1XHtF10XGVETQbI/IC2LySrQmLzPa46pu2i4yojajJA5ga0DVpKVbLyPa46pu2i4yojajJA5gW01YeyPXyPq45pu+i4yohKvQJ5Q7IqJDbf46q5ldrF97jqd7WPlXoFoplA28P3uE60MCVpJRKT73HV72ofazJAZgW0PcTCCskqkZgeD2j7uWRVSGy+x3VDC3skrUSK1ViAVFNY+I4ZHw9cYGEb69ZwlnI9GNB2Hwsn2fAJGKV5Icf1B9YdW90P6TNNz8b7EDDJs+32VIukaCre5J4Ergb+nwn74gB3TEMcCxyrY5qcBe4BzgO+aMKH24Yc1/HATxbtVJKaB/wZON7Ar3MX0/R6IKFfTtKM8cB7gKkWtgl8r45pmQxu4MLxwG9t2KSXoONaqtG439GrLfxH7mKaDpA7Gt6fhBkD/MIGzJxcTaTnu/St5LEF4dOt63e1fJ+38O6cBTQdIDc2vD8JNwb4bOB7dFzL914LGwe0v4mw2SMkj5MsjMq1cwWIDOZgC0sGtNdxbYfDfRsaFx5Z1tmWIOsBO+baeaMBYtworJub3KfUMhZ4Z0D7n6cqRKJ6b+CJwZXJKpGY9s2146avQMCNCpHyeX8ojRvto7PV8oWeGPwoVSESVeiJQTQ5AuR/M+xTwoU+Yazj2g7ex7U6MbgtYS0Sx1hgkxw7bjxAqucM9GVTvhVs2HNCZ+CeJ5GyrR7Y/stJqpDYJufYaY4rEIBPEjY3luTxWt+GxoVH9nHpMqKgLxoD56JBEm0QemIQRZYAMTADeD9uehMpV+iH8nSqJ5KlWHW+aN6LHiwsXV9dgWDgItyN2udz1SAjCj1bXQh8EN18LdmkwK7JRd3OO6AHRkvWXwECYOB8XDfJdwmb1VWasUzoGwwsMPBhYFvcXD1a8rQ8Y0LfYFx4rAscAUyNXpH0Kvh3NYamJ1NcjIHHgMOAw6x7KGbFzCX1gy2Bk1PuwMDvgJ0tLIUbIZLlA95nPgu8NdXGqwkZvw583cJEYAMyn4T2id/kLmAo2QNkIOPObHR2k5itcQZaV/Wlo5uwDbBwcFP7Mq7H4Lqm9tfPSp7hWGcPIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpBYFiIiI1KIAEemOkh8ZkPqKPa4KkP5U7AdSRNpDASIiIrUoQEREpBYFiIgMycKhFqZbsH3+mmnhA7mPR2kUICIyKAsH4ZZa8F6ZssNWAH5k4Q25CylJUbPxhrAwDrfmxJrAGtWfi/57Im620FnAzAF/3g9cYOC+HDX7srAj7oM6HjeT7Q0G5uatSvrQJ3IXUJglgLcDd+UupBStChALywN7APsAb2P4+idVrw1e8fdfsXAT8FPgxwYeSlFrHRZGA/8LvPsV/+spCx8ycGmGsqQPWXcytmHuOgq0Re4CStKKLiwLO1q4DHclcRbwDnoLv82ALwEPWri2WsiqBB9j8fAAF5yXWLesqEgT1s5dQKEm5i6gJEUHiIWxFr6DW5Gr19AYyvbAzRb+n83/73H4CP//vxqpQtoq5vM9a0TcVpeMzbDPYp/bKrYLy8JOwLnAyg3sbjRwKrC3hX2Nu1fSqKr7as0Rmm0Sb3flqoJ8BdyxHweYvBX90wLcvbQZBp7OXUxiOtMenJZmHqDIALGwP/BDmv/i2Bq4ycKbDdzb8L591oIfbWFlA48kr6YhFkbhThbejwvIlXH3rkblrGskFp4FZgB/By4BzjcuXLpiYe4CCjUndwElKS5ArLsHcBb5zjonAr+2sIWBxxrcr+/Pu2TSKhpiYTvcicLewITM5dQxBnefYG3cgI6vW9fV+mPgHAPzcxYXwYLcBRRqdu4CSpK7z/9lrLvPcT7561od+JXN09/ZaRaWs3AGcB1wMO0Mj8GMAt4KfB/4k4W1MtfTq7tzF1Coe3IXUJLcX9T/ZN3N7Asp56poQ+ByC0vlLqQrrOsivAMXHF32RuA2CwfmLqQHv0FXIYO5PncBJSkiQCxsCVxBeV/W2wKfy11EF1h3dn4t/TO6Z1ngvy0cm7uQOoy7x7MP7e+Ki+kvuMcJpJL9bL+6ifpT3C9ciY6ycHrD90M6pTpBuJQCPm8ZnGThQQPn5C4klIGfVTM+rI+6c58GbjXwYu5CSlLCL/QBwOTcRQxjaeAE4NDchbSRdQ9t/hL379ivzrLwDwNX5i4klIHncTM3iCwmaxdWdfVxfM4aPB2oSdTCVU/4Xw0sl7uWzEYBF9p4z/EMpejne6S2Yo9r7nsg/0rZVx+LjMJNfSKerBuWfAGuC0TcFdjFtvDnW0RCZAuQ6hfpuFz7r2EP626qd0ETZzQH4PrO5SWTgUNyFyESS84rkLfR+9XHXNzN2U8Be+KGT47B/VwTgNfjZs/8d2Baj/sCN9mhjKCalkXzdg3ueNvf94OkQ3LeRN+jh/f+CfcFdUV1k28wT1ave6v237SwM3AisFXN/e5mwZiC+yQLcRRuLitZ3ErAx4FTchci0qucVyDvqfEei5v0cGsDPxsmPAZl3A3d7YDPUG98+zjgzTXe1zesWwSrlc8+NOgY666URVotS4BY9yUcOtvnC8A7DXyql7HYBhYYOBl3FfJsjU3sWnfffeJQyn2mpxQTgf1yFyHSq1xdWKHdVwuAvQ1cHqsA42bd3RM3Nj8kSHcDPh+rjg7aq4f3TsNNpHk1bvGwWSVNm15NMz8RN3PyurhRhLtSb+LPdwHfi1ddGtZ1RR6ATgr+ilsOW93XA7QhQCywv4Gfxy7CwC+t64/+dsDbNrcwzmhWzsVY17+/eY233gccbOBXkUuKyrgpzmdVrzuACyy8Fvgf3JT0IXaxsKyB5yKXGY11YXk7fksN9INvo4E0L9N4F1bV9xsyvPM8A+elqse8tOJhwFvYJlE5bfe+Gu85A1i/9PAYinHrgewMfJaws9OlgF0ilxP77PggFB4DfdTCazLst9irnhz3QDYOaLuAZiYzPDmwvdaLHlxo99XpBg4NHQxRGgPWwEmEDx54V4p6Ito6dwEF0snjADkCJOTq43vVGV5Sxs3VdEfAW9ZJVUtDop/RWLfQVciDlpcw8hrwrWLcbAUhkyZul6qWSF6bu4ACtf13P6rSAyTk3kSvvhvQVlcgi9sI/8/TbOBDHb0h+VHgKc+2ry98vRlNQ7O4fp+V+GVKDpBpxo18aMrFAW0VIIvbNKDtV7s6CKEaNfZNz+avAqYkLKdX/T4J5mAUIAPkCJANPNudn7SKVzDwEDDVs/mamhRvMb4BMhv3MGiXfQ3/+zobpSykRy/kLqBAWg9kgEYDpBqBtapn8/9LWcsQQp4z0fTuL+c7VflPTL0HOFvDuCl0fIedl3wFMid3AQXq5JVzXU1fgfj+srxg3PKRTft9QFvdTKtUD9j5XoFckbKWgvgOSy45QO7PXUCBFKoDNB0gK3u2uz1pFUO7J6Ct78/SD9bHjcIayQLgqsS1lOJqz3YxAyT2oIRbI2+vC0JGa8ZS7GCTpgPEdwK5O5NWMbS7AtqOTlZF+6zu2e6vJT95HZNxs0A/7tF0RZt/Ybeh+IZgv3gOuDZ3ESVp+oPrO59OlgAxMA+Y4dlcAfIS36dzc50Y5OJ7QlLk1PfVGu6fw6270+9eAI4w7ipaKk3PhVX6FQi4AFnFo50C5CW+AeI7yq0r7sbvae7xwGOJa6nFwBdxr0ZY9xzN6SM0exZ4ZwPlDPQ3A482vM/ilRogM5NWMTzf2V/bHCCx+1QVIIO727Pd8kmr6J4XDVyTuwgp9x5Izn7yZzzbtTlAYvMNkH47g3vIs934pFWIJKIAWVw/XIHE5hsg/TYE0vdkRFcg0kqlBkjO2Vl1BRLON0CKWRyqIb4/r65ApJWaDpClPdu14QrE92fpBwqQwekKRDqt6QDxXfpzYdIqhuc7102xD/dk4Ds8u9/mEfId/up7ZT4SfSa7qdjjWuoDTG2g8eAv8Q2Gfuv2852qfV7SKkQSUYDUpwB5iW+A9Fu3n29gKkCklRQg9SlAXqIAGZzvz6tp06WVFCD1tbk/P3afqgJkcLoCkU5TgNSnK5CX+AbISkmrKI/v6DQFiLRS01OZdIkC5CW+AbI2boK+fuG79HHxXVjWLeX6fvwXhKtr88Tbl4gUIPUpQF4SEiD9xPfnLfoKxMK+wH8Dy+SupTLONje0dR7wC+BIA9Mb2mdrqAurPgXIS/7h2e71Sasoj+/P67NuSBbWheCZlBMeTRsN7A5caPtvGPqIdAVS3zYWPh9xe+MibqtpvmdmW1sY1Q9rKlj3hbuBZ/OQlTBH2G105+L/oGiXbQR8ADgrw76LfZBQAVLfttVL3Op7PsYB29EfU3G/A78HCReYQtcet+5LU/ckXvIO8gRIsdSFJTGE9A3vnqyKsvj+nNOSVtGb/XIXUJjNchdQGgWIxBASIPvbjvenW3eltbdn81jdV1FZN2/dB3LXUZjJuQsojQJEYvDtwgL3bMThqQopxLH4T5BYZIDglnVeLXcRhVnStvteZXQKkP4U9aacccN4fVffAziqq1chFiYCnwh4S6kBskLuAgqlABlAASKx/D6g7WuAH1v/6f1bwcIo4BzCpmz5U6JyejUpdwFSPgWIxHJpYPt3A6elKCSjs4BdA9o/TrkBMiF3AVI+DeOVWC7FdY2FXFX8u4U3AAcbeDBNWelZWAs4A3hL4FsvMuWO8R/l0eYWYHbqQhoyCVgvdxFtowCRKAzMtvBbYPvAt74duNvC94HvGrg9fnVpWPeMxEHAR/BfPGqgS+JW1HgYHW7g+ob3mYSFD+K6H0tU6kmGAkSiupTwAAF3z+CjwEct3Ia7sTyrepX01PoSuJvLK+DOVtftYVsvAL+MUZRILgoQieks4ER6W/djo+rVdecYeD53ESK90E10ica4SRW7dmM8hQXAF3IXIdIrBUh9XzJgYr2o1/VToi8Bz+QuonA/NPBA7iJEeqUAqc9nlEqpkt2UM/AUugoZjq4+pDMUIPW1OUBSO5XuDO+MTVcf0hkKkPoUIEOorkL2BRbmrqUw9wGfzl2ESCwKkPr0bzcMA5cDh+WuoyBzgLcZ/9UbRYqnL8H6dAUyAuOezj4ldx0FmA/sbtKv/VHsA2fSk2KPqwKkPgWIn6OBi3IXkdlHDFybuwiR2PQgYX0KEA8GrIX34KY4P5H+Wl/7IeBAA1flLqRtLIwFplBvipg6NA9WDQqQ+hQgnowbuvpVCz8FvgHsmbmk1BYC3wI+Y+DZ3MW0jYXX4aa08V2USzJpugvrxYb3V4fvbLIKkEAGHjKwF+7M8ivAzMwlxfYA8J/A6wx8QuFR25dQeLRC0wHi+4Ryzm6OsZ7t5ietosMM3GHcvZGVcbPxnkN754V6HvgxsAuwpoHjDNyfuabWsq7L6l9y1yF+mu7Cetqz3VjgkZSFDOPVnu2eS1pFWkWM6jCuq+cq4CoLH8KdOIwBlqv+HAOMppyVC1/EnQQ9W/35DPBMwWt6tNHr6Ohyx13UdID4XoH4fomn4LvmcZsDpDjVl/Cz1atrXVvib3zuAkagk4UBmu7CCrkCyaUfrkBESrV87gJGkKtnpEil3gNZI2kVw1vds51ukEppunB2XPKJ2SMmz0CgYo9rqVcgU5JWMQTruq/W9Gxe8gddpFc+gxpSDCR5MsE2Y9HDoK9Q6hVIlgABNg1oqwCRLvMZSTY9wX7vptxJOM/KXUBpmg4Q3+GNChCRvO5k+P7+m4xbsz4qA3OBm2JvN4IH0IwCi2k6QKbinkoeyUoW3pi6mEHsGtB2RrIqRDKr1ms/EDc1/yvdB3wk4e6/mXDbdTwNvFvDtRfX6DBeAwss3AWs79F8P+DWxCX9k3UPte0c8Ja/pKpFpAQGrrCwNvA+4G24qeivBC4yCR+kNXC2dd3dB5N/7rTpwGnGTa0ir5BjLqy/4hcgH7JwdIOpfyj+D6w9bNrdhaUzKfFSrV9yevVqcr8X4l5SsBzTuf/Vs90k4F9TFrKIdWPPPx7wljtS1SIi0hY5AiTky/dk28xDhacAEwPaK0CkRLqy7KZij2vJVyAAKwAnpSoEwMJWuJuFIRQgItL3cgTIXcCjAe0/Zt3NtOgsrEu91fIUICLS9xoPkOqm+E/C3sIZNuwexYgsbALcgLvXEuJJGhwdJiJSqlxrov+0xnu+aeFiC+v0smMLr7ZwMvAH6k3cdn7KIYwiIm2RJUAM/J6wbqxFdgfutPA9C9vYgHUiLKxp3SJG04FjqL/W8o9rvk9EpFNyrol+HnBkjfeNAg6pXjOtGys+DXiies3BPXw0Abe2wCrAbsBGEWqeCVwXYTsiIq2XM0B+Sr0AGWgS7gHApvxI0xkMzcLGuG7BRVeGRv/d6H9vRmTWrQi5Oe67opSfs9/+u25vSXLZAsTAHyz8EdgiVw2B5lHeHD11RQ1BC6sBV9Pj/Skpi4UP455AH5O7FilTrpvoixxKe87oTzFuRk5Z3KUoPDrFui7f/0HhIcPIGiAGbgHOzFmDp1kkfqCxraybAn/j3HVIEJ/VND+Mu98o7eC71lJUua9AwI2I8l2pMJejTLsnT0zpTbkLkCD3Gr9lWXVc2+WuHDvNHiDGPZh3fO46hnGLgR/mLqJgq+QuQIL8zbPdakmrkNh8j2tU2QOk8g3Cnk5vyixgn9xFFE4B0i5TPdutnrQKic33uEZVRIAYtwbyB6k3L1UqTwA7GPeMiQztNbkLkCDnj9TAuhvnOYf4S5jpZFrwqogAATBuqdv3ApfnrgWYDexkMqV6ywy25KmU6RfGDZ0flnE32V9ooB6J4/PVSXjjigkQgOrm3p7kDZFngJ2NlrD09VjuAsTbpwPa6ri2w3Tg3Fw7LypAAIw789kD+ATuSqBJFwIbGrip4f2Cu9/iI8YZ/0zPdk94tLmll0KkMZeasFmkb05WicR0bK6rDygwQMBdiRh3Y30t4Nu47q2U/grsaGAvA/cn3tdQpgFzR2gzy7i5vnrlO+RvukebK2nPw6D96rfABwLfc2WKQiSqI029mc2jKTJAFjHwuIGP4UaEHIGbxTeWR4BvATsAUwxcG3Hbwap7QKeO0CzKQ5fVvk4fodk9wF88tjUbtySwlOkKYBfj9/DgQD9EA0hKZYEDDZyWu5BBWVjDgo3wOjlBbZMtfNLCjTXqecTCtyxsHzIVfFMsLGvhVAtzX1H3XAunVBPbxdrX0tYt1DXYv9NsC9sFbGsJC9+w8ESkz41evb3mWPiBhbf08jm3sL6FKy28WMDPpBdMs3C8hTUCjuHJkfY96LDuQT9cVYH31fzcDfRfBo6NsJ1BWfeFugJuVt4VBrxGA//A3VeYWf05yzR/T6UWC0viDtgquNr/btxkjin2tQXwdmBr3NP204HTDDycYn8i0hzrTuKPibCpNQabC7DVY72rL9WHqldnGLfi4b3VK/W+/ojH0E4RkVcq+h6IiIiUSwEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREalGAiIhILQoQERGpRQEiIiK1KEBERKQWBYiIiNSiABERkVoUICIiUosCREREamn1eiAiIk2z8EZgfKbdzwNuq7FEcRLZAsTCGOBzwMbAFGDVXLUM4gngPw18LcXGLXwGOApYPsX2a5iPW//8SuAEAwt73aB1a81/BlgHmAyM6nWb0pMZwDEGzs5dSFtZ12PzC+CtuUuxbuXQLxs4I2chWQKkWjL3F8AbcuzfwwTgq9Yl/dUxN2xhV+CLMbcZwZLAm6vXasBBdTdk3WfqbOD9cUqTSFYBvm/hVgO3+bzBwvbAp4BXJ60svfnAncBNwMU9LG19OPnDA9xS5GsB37OwqoH/yFVI4wFiYRzubHdC0/uu4WAiBwhwSOTtxXaghXuNW0s5SBUelwC7xS9LIlgC2B939Tss63oErgSWSV1UQxZ98d9tYTfjzuBDvSNmQZEcZ+HbBh7LsfMcN9GPoh3hAfC2mBuz7swh6jYTOd7Ca2q87zAUHqV7i2e7g+lOeAy0DvBnC+uGvKnqvto6TUk9McA+uXbeaIBUVx9HNLnPHo23cW+WTcTd+ynd0sCxIW+wMBb4QppyJKL1PNttk7SKvMYDxwW+ZyKwXIJaYsh2rJq+AtmNdnyBDhTzQ9Omnz30HsZB5BuZIv58rypem7SK/N5vYc2A9iX/7q6Sa8dNB8jaDe8vhpgfnJI/hK+0ig27ebp/skokKuv3OWzTZ7WOVwF7BrQv+d8j2wjWpgPk9Q3vL4Z5hW6rCV6j5Kr+5E0S1yLxPOfRZunkVeS3YUDbucmq6N3kXDvWFcjInoq4rbrDB3OZ5Nnu7UmrkJieNmA92j2TvJL8QgJkTrIqerdkdQ+ycU0HSLa+uh7E/NJ/IuK2SvKm3AWIN98Toq5+VgfaIKBtyQECmaalanqnbZt76+4YT2UvUm3r3ljbK4gCpD2merbrhwAZU40MHZFx3c8zEtfTOm37Qm/aVQm2+asE28ymerYlaEy9ZHWFZ7tbklbRTtfkLqA0CpChzQVOS7DdU4AXEmw3l5LmMJPhTQXO9Gx7ecpCWuobuQsoTYmz8c4ApmWuYRbwNZOgu8nAPdbddP4E+Z6bGIebxDKG0BEgzwM/Ae6PtH/x8zBwrvEbgQXuSvl6YNt0JbWLgRutm0njs7gh7gur14Ih/vT9u6H+3wLcpKTFKjFALjbw0dxFpGTcpXC2y2EL2wHXRdrc6gFt5wNb+k7mJ/kYN+PrjsBGeN4nKMQ44GgSTTtiXA/CKSm2PRjrN2IumxIDRNol5CrqNIVHexh3Bnxz7jpCWTfT999ws35LQroHIr1aNqDtJcmqEKkYd//y57nriKToKxAFiPQqJEBuSlaFyMv1w4OQ2SlApFe+AfKkcTfQRaQjFCDSK98AeTBpFSLdpC4s6TTfgRiPJK1CRBqnAJFe+c4wPCppFSLdpCsQ6TTfaa77YXpwkb6iAJFe+V6BKEBEOkYBIr3yvQJZ38JSSSsR6R51YUmnPenZbllg55SFiEizFCDSq5A1Er5mYflklYhIozQXlvQqJEDeAEy3cEHg+yTcQuAe4ErTH4tDdVXRXVgKEOlVaBCMBw5OUYgM6gkLBxq4KHch0j0KEOmJgcesW2dbXVNlmgD8zMI+xl35SY+sm6hxuRGa3Wbg3+PsrlwKEInhz8BbcxchQzLAtyz83PiPmpOhbYdbUGo4ffHgrG6iSwx/yV2AjGhF4JDcRXSEyV1AKRQgEoOmaW+H/XIX0KCU321NBkjRXVgKEInhl7jlaqVsm1t4fe4iUrPue03PHDVA90CkZwaetHAx8J7ctciI9gVO6GUDFtYDdgImRakovu2ATRNuX1cgFQWIxPIlFCBtsG3dN1r4HHAEMDFeOa2keyAVdWFJFMaNxNIw0fKtEPoGC0tYOAc4EYWHDKAAkZiOBhbkLkKGFdTtZN3Z9i+BD6Ypp5XUhVVRgEg0Bv4O7I2eNSjZyoHtDwR2TFFIi6kLq6IAkaiMu5m+JfC73LXIoIyFsT4NrZtB+aTE9YQUR8sAAA/WSURBVMjwir4C0U10ic7ArcC2FrYC1gEmo89aE/YCpni08z1xPI4a90xaxndBtIF0BVLRL7UkY+AG3EsaYGFt/ALE1/sjbqtEj9Sc2kUBUul8F5aF3SzcYOFRC89buNvCWTHXpbDwbxZusmAjvR63cJGFI6w7exdpVLV65Jq560hsau4CPBTdhdXpALFwJHA5rk9+Rdy63GsDHwZu9+0LHmEfnwS+Q9wHlyYAewBfA262sEnEbYv42DB3AQ2oGyC6Aql0tgvLutEmXxymyWq4Pt6je9xVjCmbhzMR+K2Fdxn4TeJ9iSyyfu4CEnsROLPme30CZIqFa2puf6BlImwjmc4GCO6J25H+8XfpZQfWrbC3ei/b8DQGuMTCZOPW3hBJbbXcBSR2UjXYI5VxwA4Jt1+ELndh+Uwat3aP+wgdU9+L5ej9aknEV1e7aRYCX6hedXX13yZYl69Axnm0GdPjPsb3+P5QR1r4qoF/NLxfkeEswK0J81zuQoZgcevCPwT8n4HretyeAqTS5QBpQtOrji0NvAP4UcP7FRnKd4FPG5iTuxBpngKkNzMz7HO9DPuUdmh6yOc84HDjbkj3E12BVLp8D6QJChDpZ4/1YXiAAuSfFCC9mUbzl+4KEBEpggKkB8bdPPxZw7tdseH9iYgMSgHSu+OAR3MXISLpWXVfvYxuovfIwEPWrcF8CLA54R+wMbgJ8EbHrk1EJCUFSAQG7qGHh/ysWyXuD8BroxUlIinoCmQAdWEVwLjRXAfmrkNERqQAGUBXIIUw8BsL9wJr5a5FRHo2G7glwna2pfkHlr0pQMoyFQWI1Ff02hEd4XsFcquJsJa8dUH06l63k4q6sMrySO4CRGRYvgHSF2GuK5CyLMhdQC4WVsUtyrVy9Vqp+nMc5fQ7L8Ddr5qBC/sZwH3AH4yb5VVkkb74PChAJJsqNN5TvbahnKAI9ZiF84HzgBtMn5x9AkvmLiAD389oXwSIurCkcRZeZ+HXuOm1T8PdKGxreICbHeDjwO+A+y28O3M9TVnZunVq+om6sAZQgEijLBwG3A7slLuWRCYDF1o408KyuYtpwKG5CyiUrkBEYrGwkoVfAd+mP75YDwJus/DG3IUk9gXbXxN86gpkAN0DkeQsvAb3pP0auWtp2FrADRbeZODO3MUkMga42cKfaNcgkGnACQYeDHyf7oEMoACRpCwsA/yC/guPRZYBrrSwmYFZuYtJZDTuPlab7AC8ycKmiQY99EWAqAtLkrHu83UBbnhuP5sMXGbTj1rqi26TiDYm/F6curAGUIBISt/BreEubqbm7+cuIsDjuQtoSKoA0RWISF3W/WIekruOwuxn4V9yF+Hp7twFNCTVAAAFiEgP/it3AYU6IXcBnqblLqAh4wLbqwtrAAWIRGdhN2CL3HUUalMLO+cuYiQGHgbm5a6jAaETFaoLa4C+H4VlI8yYGdEquQuI5OTcBRTuOODq3EV4OA/4SO4iEks1A0JfXIH0fYAAv8ldQJdYd+XR9YfnerWDhfWMm76/ZMcD+1PwehQRzA5sryuQARQgEtv7enz/bOAG3DMTs4Cne64onlcBE3FzX60LbNDDtvak8AAx8KCFM3DTz3TVU4HtFSADKEAktg/WfN/vcMN+LzAt6Xu38GbgY7ifOfR+4l7ASdGLiu8E3M9X7KJGPbo30Xb7ogtLN9ElGuumZF8x8G3PAIcZ2NbAuW0JDwADNxr4EO6p5tDFwDazbr2TmKJ/aRl4FPcg6F2xt12I6wLb6wpkAAWIxBTaffUYsJGB76YopikGrgc2JHy+q30SlBOdcWfpmwE/y11LZHcBVwW+Zw7wnEe71pwI9UJdWBKFdWdmIV+ITwNvNfD3RCU1ysATFnYFbgXGe75tT+Dr6aqKx8CzwN7VVdMGwBTCn6EoyRzgIgMvhrzJwEILl+MWQRvOn2pX1iIKEIllPcK6rz5t4I5UxeRQ3XQ+EjjL8y3bWhhlWjSLrXFddY/gpubvVx/BTfWyD4OfLFwGnNloRZmoC0tiCRm6eydudE8XnQ38zbPtKGCdhLVIAgaeNfBvuBF5KwNb4abu2QlY28A723RS0AtdgUgsGwW0Payrv2BVF8cxwEWeb9mAwofzyuCqaeAfrV59SVcgEovvFchUEz7ypVUMXAzM8Gy+fspaRFJSgEgsvgFyYdIqynGxZ7teHkYUyUoBIj2zsDz+83j1S4D83LOdAkRaSwEiMWzm2e45A39OWkk5fLvp1rXx5prqi6efpRx9HyAGTCkv2vtAne9657cnraIgxj1h/7BH01HEfyJdpBF9HyASxUTPdrclraI8vk+mt/mBPOljChCJQQEyOAWIdJoCRGKY4NnOp0unS+7zbKcAkVZSgEgMvlcgoWsvtJ3vYkUKEGklBYjEoAAZnO/PqwCRVlKASAy+XVj9FiC6ApFO01xYEoPvanVzklZRHt8AibXaX/TnQCyMBd4LvAVYBrgG+ImBmbH3Je2jAJEYfCdG9F3Nrd8ErUnRFAuTcQsurTvgr/cCPmlhZ5NuOdjiWZgEfAA3A+983JLMPzPwQNbCGqYAkRh8vwCXTlpFeUZ7tit19bof8PLwWGQN3LT1WzdbThksrAVcC6w64K/fAxxvYU/j/l9f0D0QiUEBMrjWBkj1JbnzME22soOHSz/4AS8Pj0XGA5dX3X59QQEiMShABucbIC8kraKe4cJjkZ2SV1EYC68HthumybLAoQ2Vk50CRGLwDZBJSasoj+/otOKuQIDVPdoMdhbedW/xaPOO5FUUQgEiMfgGyGuTVlGe13m2KzFAJnu06ccA8fmZff7tOkEBIjH4BojvF2pX+AZmiV1YPg+HviZ5FeXxWfdGASIS4B+e7XQFMrjHk1ZRj8+Q634clj3Go43vva/W6/sAsX4fiKYslbuAmv7u2W7bpFUUxLov1008m0+Pt1uR5vR9gOCWYy1FW28y+wbIZAtvSFpJObbEb4qSBfjP2itSFAUITMldwAAr5S6gJt8AAdg1WRVl8f057zf+T/KLFEUBAvvkLgDAuqd6N85dR00KkMX5/px9Ox2ItJ+mMoEDLGwO3Ag8lGH/y+L6ynemvTcl7wlou4uFNU2Hu22sO55beDaPdf9DpHFdDpCQG4obVq82WJi7gFcy8Lx1I4l8hn6OAk4F9k5bVVbfCWirKxBprS53YZX4cFYMc3MXMIQbAtruZWHfZJVkZOFjwJsD3vKnVLWIpNblAHkudwGJlBqMPw9s/30LmyapJBML2wBfD3jLbOC3icoRSU4B0j5P5y5gCJcFth8N/NoWMoihVxYOwK2dMSrgbVdpBJa0WZcDpKs3aR/LXcBgjBuAcFvg28YBP7Fwtm3pEGYLq1q4BPg+bkBEiNCrNo9yRJrT5QAJ/TJriyIDpFL3C3E/4EELF1vY08IUCyvZsLP55CwsYWFlCxtZeJ91V10PAO+qtzkuj1uhSLM6OwrLwAPWnRWvlruWyEq+sroM+EzN9y4B7F69/qnDp9R/NP5ziIkUqctXIBDeL98Gt+QuYCgGfg/8OXcdLREy1FekSF0PkG9R4HMTPZgP/Cp3ESM4MncBLXA3bk1xkVbrbBcWgIE7LHwDOCJ3LZFcbOCp3EUMx8D11b2Bf8ldS8E+ZbpxYrOVhWtyF9Gw9XIXUJJOB0jlaNzMqFvmLqRHc4FP5S7C0yeB3ej+FW4dNxi4NHcRkUwAdshdhOTT+V9w47p93orrzmrrPdm/AlsauD93IT4M3AUck7uOAs0BPpy7CJFY+uEKBAPPAodbOBHXtbIRsDruDKrUCQwX4IaIXgf8sG1dHga+Yt3l/gG5aynEAmB3A9NyFyISS18EyCIGZgI/yF1HHzkYN4x6l9yFFOATBq5NvI+2XmFLS3W+C0vyqabp2BOYmruWzH5g4PTcRYjEpgCRpKruw62AM3PXksGigQ8H5S5EJAUFiCRnYLaBQ4Dt6Z8FlG4Ephg4tW33r0R8KUCkMcZNXb4h8BW6+6U6FzgK2NqErdQo0joKEGmUgeeNezZnZdwIrfNxw1vbbA7u5/gQsIqBU3TVIf2gr0ZhSTmqEXFnAWdZ9zncAjdia8XqNan689WUM9R6LvAobkbkR6vXg8CN1fNGIn1FASLZGXgRNxGjiLSIurBERKQWXYGIdEfTDxJOA37c8D5z2xs3EERQgIhIfXcb+HzuIppkYR0UIP+kLiwREalFASIiIrUoQEREpBYFiIiI1KIAERGRWhQgIiJSiwJERERqUYCIdIdWJJRGKUBERKQWBYiIiNSiABGRupbLXUAGY3IXUBIFiIjUtXzuAjJYMXcBJVGAiEhd61lYJncRTbFucbONc9dREgWIiNS1FHC87YNZvS0sCXwRGJ27lpKUeOA3t302RXQGq8feoIV9gH1x3RqLlqA1+u/G/7tpxwDHaPxwfyoxQN5UvaQlLBwFfDl3HRLVwtwFtNj83AU0RV1Y0hMLY4H/zF2HBPEJh+eTV9Fdc3MX0BQFiPRqD1xfuLTDswae9mj3XPJKumte7gKaogCRXmlUSrvc4dnu0aRVdNuc3AU0RQEiw/G5NzoxeRUS0988292btIpum5G7gKY0HSAvNLw/6c1Mjzbjk1chMU31bKcAqU8Bkojvh1fK8IBHm2eSVyGxzAf+17PtTcCChLV02d25C2hK0wFya8P7k/qmG78rkMeSVyKxnG7gfp+GBmYDv0pcT1fdEHFbvidoz0bcp7emA+S2hvcn9f3Qs50CpB2eBk4IfI+GZ4ebC/w64vZ8rmYeMPBixH16azpALgQubnifEm4BcK5n29+lLESieBHY38CTIW8ycD3wnTQlddbZJu5zIBd4tPm/iPsL0miAGNcHuxdwCnpQqVQW92XjdRPVuACZnrYk6cE8YHdT/8Tt48D3ItbTZfcDn4q5QQOn415DeZyMV4qND+M1sNC4qS/WAD4HXAo83HQdMqhrgd0MnBf4vj2BOxPUI715FtjFwBV1N1D9vv4b8E7glmiVdc/1wJYmwTMgxoX4jsDZuBO7F4H7cFceGxp4IvY+fWWbC8vALNzsltJyxt3b2sDCRsCE3PUIL+KGkj5oIs3LZOAy4DILmwDjYmyzQ2aYxCOvjDu5uzblPuoocTJFaSmjQRKdZ+Dm3DVIOfQkuoiI1KIAERGRWhQgIiJSiwJERERqUYCIiEgtChAREalFASIiIrUoQEREpJbUDxLuaOHkxPsQEZHB7Zhy46kDZMvqJSIiHaMuLBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC0KEBERqUUBIiIitShARESkFgWIiIjUogAREZFaFCAiIlKLAkRERGpRgIiISC1msL+0MApYteFaRESkTA8bWJC7CBERERERERERERERERERkWL9f8GkA7e6iMNFAAAAAElFTkSuQmCC",qd=()=>{const{projects:s,constructionPayments:t,loadConstructionPaymentsFromAPI:n,addConstructionPaymentToAPI:r,updateConstructionPaymentInAPI:i,deleteConstructionPaymentFromAPI:a,executionRecords:o,payments:m}=Ws(),[N,y]=l.useState(t),[b,h]=l.useState([]),[C,k]=l.useState(!1),[z,E]=l.useState("cash"),[J,K]=l.useState({project:"",client:"",amount:"",date:De(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:0,previousAmount:0,remainingAmount:0,startDate:"",endDate:""});l.useEffect(()=>{console.log(" ConstructionPayment: Loading payments from API..."),n().then(()=>{console.log(" ConstructionPayment: Payments loaded successfully")}).catch(w=>{console.error(" ConstructionPayment: Failed to load construction payments:",w),F.error("   ")})},[n]),l.useEffect(()=>{console.log(" ConstructionPayment: Loading additional works from API..."),Bt.getAllAdditionalWorks().then(w=>{console.log(" ConstructionPayment: Additional works loaded:",w),h(w.map(T=>({_id:T._id,project:T.project,amount:T.amount})))}).catch(w=>{console.error(" ConstructionPayment: Failed to load additional works:",w)})},[]),l.useEffect(()=>{const w=()=>{be()};return window.addEventListener("headerAddButtonClick",w),()=>window.removeEventListener("headerAddButtonClick",w)},[]),l.useEffect(()=>{console.log(" ConstructionPayment: Syncing with dataStore"),console.log(" constructionPayments:",t),console.log(" projects:",s);const w=t.map(T=>({...T,vatType:T.vatType||"percentage",vatPercentage:T.vatPercentage??100,vatAmount:T.vatAmount??0,payments:T.payments.map(ae=>{var ye;return{...ae,type:ae.type||((ye=ae.types)==null?void 0:ye[0])||""}})}));console.log(" Normalized records:",w),y(w)},[t,s]);const[D,O]=l.useState(null),[ee,Z]=l.useState(!1),[U,Y]=l.useState(!1),[G,le]=l.useState(null),[de,ke]=l.useState("remaining"),[se,ue]=l.useState({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0}),[oe,Ve]=l.useState({types:[],percentage:0,amount:0,date:"",method:"",notes:""}),Ee={:10,:40,:40,:10,:0},je=w=>w.reduce((T,ae)=>T+(Ee[ae]||0),0),Me=(w,T)=>{const ae=D?s.find(Ue=>Ue.name===D.project):null;if(!ae||w.length===0||!ae.startDate||!ae.endDate)return"";const ye=new Date(ae.startDate),Ie=new Date(ae.endDate);if(isNaN(ye.getTime())||isNaN(Ie.getTime())||w.includes(""))return"";if(w.includes("")){const Ue=new Date(ye);return Ue.setDate(Ue.getDate()-7),De(Ue,"yyyy-MM-dd")}else if(w.includes("")){const Ue=ye.getTime()+(Ie.getTime()-ye.getTime())/2;return De(new Date(Ue),"yyyy-MM-dd")}else if(w.includes("")||w.includes(""))return De(Ie,"yyyy-MM-dd");return""},re=w=>{const T=s.find(v=>v.name===w.project);if(!T)return[];if(!T.startDate||!T.endDate)return[];const ae=Le(w),ye=new Date(T.startDate),Ie=new Date(T.endDate);if(isNaN(ye.getTime())||isNaN(Ie.getTime()))return[];const Ue=[];Ue.push({type:"",date:null,amount:Math.round(ae*.1),percentage:10,status:"pending"});const R=new Date(ye);R.setDate(R.getDate()-7),Ue.push({type:"",date:R,amount:Math.round(ae*.4),percentage:40,status:R<=new Date?"overdue":"pending"});const f=ye.getTime()+(Ie.getTime()-ye.getTime())/2,B=new Date(f);return Ue.push({type:"",date:B,amount:Math.round(ae*.4),percentage:40,status:B<=new Date?"overdue":"pending"}),Ue.push({type:"",date:Ie,amount:Math.round(ae*.1),percentage:10,status:Ie<=new Date?"overdue":"pending"}),w.payments.forEach(v=>{var S;(((S=v.type)==null?void 0:S.split(", "))||[]).forEach(d=>{const q=Ue.find(x=>x.type===d.trim());q&&(q.status="completed",q.actualDate=v.date,q.actualAmount=v.amount)})}),Ue},be=()=>{Z(!0)},we=async()=>{console.log(" handleSaveProject called"),console.log(" newProject:",se),console.log(" projects:",s);const w=s.find(T=>T.id===se.projectId||T.id===parseInt(se.projectId)||T.id.toString()===se.projectId.toString());if(console.log(" selectedProject:",w),console.log(" totalAmount:",se.totalAmount,"type:",typeof se.totalAmount),!w){alert(" ");return}if(se.totalAmount<=0){alert("   (0  )");return}try{const T={id:"",project_id:w.id,project:w.name,client:w.client,totalAmount:se.totalAmount,vatType:se.vatType,vatPercentage:se.vatPercentage,vatAmount:se.vatAmount,payments:[]};console.log(" Sending to API:",T),await r(T),F.success(" "),Z(!1),ue({projectId:"",totalAmount:0,vatType:"percentage",vatPercentage:100,vatAmount:0})}catch(T){console.error("Failed to add construction payment:",T),F.error("  ")}},Ne=()=>{le(null),Ve({types:[],percentage:0,amount:0,date:"",method:"",notes:"",quickText:""}),Y(!0)},Ae=w=>{const T=D==null?void 0:D.payments[w];if(!T)return;le(w);const ae=T.type?T.type.split(",").map(ye=>ye.trim()):[];Ve({types:ae,percentage:je(ae),amount:T.amount,date:De(T.date,"yyyy-MM-dd"),method:T.method,notes:T.notes||""}),Y(!0)},He=async()=>{if(!D||!oe.date||oe.amount<=0||oe.types.length===0){alert("  ");return}try{let w;G!==null?w=D.payments.map((ye,Ie)=>Ie===G?{type:oe.types.join(", "),amount:oe.amount,date:new Date(oe.date),method:oe.method,notes:oe.notes}:ye):w=[...D.payments,{type:oe.types.join(", "),amount:oe.amount,date:new Date(oe.date),method:oe.method,notes:oe.notes}];const T={...D,payments:w};await i(D.id,T),F.success(G!==null?" ":" ");const ae=N.map(ye=>ye.id===D.id?T:ye);y(ae),O(T),Y(!1),le(null),Ve({types:[],percentage:0,amount:0,date:"",method:"",notes:""})}catch(w){console.error("Failed to save payment:",w),F.error("  ")}},Le=w=>{const T=w.totalAmount;if(w.vatType==="amount")return T+(w.vatAmount||0);{const ae=T*((w.vatPercentage??100)/100)*.1;return T+ae}},Se=w=>{const T=W(w.project);if(w.vatType==="amount")return w.totalAmount+(w.vatAmount||0)+T;{const ae=w.totalAmount*((w.vatPercentage??100)/100)*.1;return w.totalAmount+ae+T}},P=w=>w.vatType==="amount"?w.vatAmount||0:w.totalAmount*((w.vatPercentage??100)/100)*.1,I=w=>{if(!D)return 0;const T=Le(D);return Math.round(T*w/100)},M=w=>w.payments.reduce((T,ae)=>T+ae.amount,0),fe=w=>Se(w)-M(w),Ce=w=>{const T=o.filter(ye=>ye.project===w).reduce((ye,Ie)=>ye+(Ie.totalAmount||0),0),ae=m.filter(ye=>(ye.status==="approved"||ye.status==="completed")&&ye.project===w).reduce((ye,Ie)=>ye+Ie.amount,0);return T+ae},W=w=>b.filter(T=>T.project===w).reduce((T,ae)=>T+ae.amount,0),ce=N.filter(w=>{if(de==="all")return!0;const T=fe(w);return de==="completed"?T===0:de==="remaining"?T>0:!0});return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8 overflow-x-auto",children:[{id:"remaining",label:"",count:N.filter(w=>fe(w)>0).length},{id:"completed",label:"",count:N.filter(w=>fe(w)===0).length},{id:"all",label:"",count:N.length}].map(w=>e.jsxDEV("button",{onClick:()=>ke(w.id),className:`py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap ${de===w.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"}`,children:[w.label,e.jsxDEV("span",{className:`ml-1 md:ml-2 py-0.5 px-1.5 md:px-2 rounded-full text-[10px] md:text-xs font-semibold ${de===w.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"}`,children:w.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:545,columnNumber:15},void 0)]},w.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:535,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:529,columnNumber:9},void 0),e.jsxDEV("button",{onClick:be,className:"btn btn-primary px-4 py-2 whitespace-nowrap hidden md:block",children:"+"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:553,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:528,columnNumber:7},void 0),e.jsxDEV("div",{className:"construction-payment-grid grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-3 gap-6",children:ce.map(w=>{const T=M(w),ae=fe(w),ye=Le(w),Ie=T/ye*100;return e.jsxDEV("div",{className:"card hover:border-gray-400 transition-colors",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-2",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-gray-900 flex-shrink-0",children:w.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:573,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-1.5 flex-wrap",children:[e.jsxDEV("button",{onClick:()=>{const Ue=M(w),R=Le(w),f=R-Ue,B=s.find(v=>v.name===w.project);K({project:w.project,client:w.client,amount:"",date:De(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:R,previousAmount:Ue,remainingAmount:f,startDate:B!=null&&B.startDate?De(new Date(B.startDate),"yyyy-MM-dd"):"",endDate:B!=null&&B.endDate?De(new Date(B.endDate),"yyyy-MM-dd"):""}),E("transfer"),k(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:575,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>{const Ue=M(w),R=Le(w),f=R-Ue,B=s.find(v=>v.name===w.project);K({project:w.project,client:w.client,amount:"",date:De(new Date,"yyyy-MM-dd"),clientSignature:"",totalContractAmount:R,previousAmount:Ue,remainingAmount:f,startDate:B!=null&&B.startDate?De(new Date(B.startDate),"yyyy-MM-dd"):"",endDate:B!=null&&B.endDate?De(new Date(B.endDate),"yyyy-MM-dd"):""}),E("cash"),k(!0)},className:"px-2 py-1 text-xs sm:px-3 sm:py-1.5 sm:text-sm bg-gray-800 text-white rounded hover:bg-gray-900 transition-colors whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:604,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>O(w),className:"px-2 py-1 text-xs sm:text-sm text-gray-600 hover:text-gray-800 whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:633,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:574,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:572,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:571,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-xs text-gray-600 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:648,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:["",w.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:649,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:647,columnNumber:21},void 0),e.jsxDEV("div",{className:"ml-4 text-right",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:654,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-semibold text-gray-700",children:["",ye.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:657,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:["( ",w.vatType==="percentage"?`${w.vatPercentage??100}%`:`${(w.vatAmount||0).toLocaleString()}`," )"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:660,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:653,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:646,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:645,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:644,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:671,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[Ie.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:672,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:670,columnNumber:17},void 0),e.jsxDEV("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:e.jsxDEV("div",{className:"bg-gray-600 h-2 rounded-full transition-all",style:{width:`${Ie}%`}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:675,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:674,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:669,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-3",children:[e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:686,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",T.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:687,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:685,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:692,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",Ce(w.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:693,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:691,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:698,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",W(w.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:699,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:697,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:704,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-base font-bold text-gray-800",children:["",ae.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:705,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:703,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:684,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:683,columnNumber:15},void 0),w.payments.length>0&&e.jsxDEV("div",{className:"border-t pt-4",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:715,columnNumber:19},void 0),w.payments.slice(-2).reverse().map((Ue,R)=>e.jsxDEV("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsxDEV("span",{className:"text-gray-700",children:[Ue.type||""," - ",De(Ue.date,"MM/dd")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:718,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-medium text-gray-900",children:["",Ue.amount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:721,columnNumber:23},void 0)]},R,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:717,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:714,columnNumber:17},void 0)]},w.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:570,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:562,columnNumber:7},void 0),D&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:D.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:739,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>O(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:740,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:738,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:737,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:752,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxDEV("div",{className:"space-y-3",children:re(D).map((w,T)=>{var Ie;const ye={:"contract",:"start",:"middle",:"final"}[w.type];return e.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium rounded ${w.status==="completed"?"bg-green-100 text-green-800":w.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:w.type},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:768,columnNumber:29},void 0),w.status!=="completed"?e.jsxDEV("input",{type:"date",value:(Ie=D.expectedPaymentDates)!=null&&Ie[ye]?De(new Date(D.expectedPaymentDates[ye]),"yyyy-MM-dd"):w.date?De(w.date,"yyyy-MM-dd"):"",onChange:async Ue=>{const R=Ue.target.value?new Date(Ue.target.value):null,f={...D.expectedPaymentDates,[ye]:R},B={...D,expectedPaymentDates:f};O(B);try{await i(D.id,{expectedPaymentDates:f});const v=N.map(p=>p.id===D.id?B:p);y(v),F.success("  ")}catch(v){console.error("Failed to update payment date:",v),F.error("  ")}},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:776,columnNumber:31},void 0):e.jsxDEV("span",{className:"text-sm text-gray-700",children:[w.date?De(w.date,"yyyy MM dd"):" ",w.actualDate&&e.jsxDEV("span",{className:"text-green-600 ml-2",children:["(: ",De(w.actualDate,"MM/dd"),")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:812,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:809,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:767,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:["",w.amount.toLocaleString(),e.jsxDEV("span",{className:"text-xs text-gray-500 ml-1",children:["(",w.percentage,"%)"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:822,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:820,columnNumber:29},void 0),w.status==="completed"&&w.actualAmount&&e.jsxDEV("p",{className:"text-xs text-green-600",children:[": ",w.actualAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:825,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:819,columnNumber:27},void 0)]},T,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:766,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:754,columnNumber:19},void 0),e.jsxDEV("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-600",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:836,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:["",Le(D).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:837,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:835,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:834,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:753,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:751,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-4 mb-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:849,columnNumber:21},void 0),e.jsxDEV("input",{type:"number",value:D.totalAmount||"",onChange:async w=>{const T=w.target.value===""?0:Number(w.target.value),ae={...D,totalAmount:T};O(ae);try{await i(D.id,ae);const ye=N.map(Ie=>Ie.id===D.id?ae:Ie);y(ye)}catch(ye){console.error("Failed to update total amount:",ye),F.error("  ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-lg font-bold focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:852,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:877,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:848,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:["  ( ",D.vatType==="percentage"?`${D.vatPercentage??100}%`:`${(D.vatAmount||0).toLocaleString()}`," )"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:880,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-gray-900",children:["",Le(D).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:883,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:879,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:847,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:891,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV("button",{type:"button",onClick:async()=>{const w={...D,vatType:"percentage"};O(w);try{await i(D.id,w);const T=N.map(ae=>ae.id===D.id?w:ae);y(T)}catch(T){console.error("Failed to update VAT type:",T),F.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${D.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:897,columnNumber:21},void 0),e.jsxDEV("button",{type:"button",onClick:async()=>{const w={...D,vatType:"amount"};O(w);try{await i(D.id,w);const T=N.map(ae=>ae.id===D.id?w:ae);y(T)}catch(T){console.error("Failed to update VAT type:",T),F.error("   ")}},className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${D.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:924,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:896,columnNumber:19},void 0),D.vatType==="percentage"&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:956,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("input",{type:"number",value:D.vatPercentage,onChange:async w=>{const T=Number(w.target.value),ae={...D,vatPercentage:T};O(ae);try{await i(D.id,ae);const ye=N.map(Ie=>Ie.id===D.id?ae:Ie);y(ye)}catch(ye){console.error("Failed to update VAT percentage:",ye),F.error("   ")}},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:960,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-600",children:e.jsxDEV("p",{children:[": ",P(D).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:987,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:986,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:959,columnNumber:23},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:990,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:955,columnNumber:21},void 0),D.vatType==="amount"&&e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"   ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:999,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",value:D.vatAmount,onChange:async w=>{const T=Number(w.target.value),ae={...D,vatAmount:T};O(ae);try{await i(D.id,ae);const ye=N.map(Ie=>Ie.id===D.id?ae:Ie);y(ye)}catch(ye){console.error("Failed to update VAT amount:",ye),F.error("   ")}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1002,columnNumber:23},void 0),e.jsxDEV("p",{className:"mt-2 text-xs text-gray-500",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1027,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:998,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:890,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1036,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",M(D).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1037,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1035,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1042,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",Ce(D.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1043,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1041,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1048,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",W(D.project).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1049,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1047,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1054,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg font-bold text-gray-800",children:["",fe(D).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1055,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1053,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1034,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:846,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1065,columnNumber:19},void 0),e.jsxDEV("button",{onClick:Ne,className:"btn btn-primary btn-sm",children:"+  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1066,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1064,columnNumber:17},void 0),e.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1075,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1076,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1077,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1078,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1079,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1080,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1074,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1073,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:D.payments.map((w,T)=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3",children:e.jsxDEV("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded",children:w.type||""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1087,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1086,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-900",children:["",w.amount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1091,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-900",children:De(w.date,"yyyy MM dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1094,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-900",children:w.method},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1097,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.notes||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1100,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-center",children:e.jsxDEV("button",{onClick:()=>Ae(T),className:"text-gray-600 hover:text-gray-700 transition-colors",children:e.jsxDEV(yn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1108,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1104,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1103,columnNumber:27},void 0)]},T,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1085,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1083,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1072,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1071,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1063,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:749,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-between",children:[e.jsxDEV("button",{onClick:async()=>{if(D&&window.confirm(`   ?
    .`))try{await a(D.id),F.success(" "),O(null)}catch(w){console.error("Failed to delete construction payment:",w),F.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1120,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>O(null),className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1119,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:736,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:735,columnNumber:9},void 0),ee&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1158,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsxDEV(ns,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1163,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1159,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1157,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1156,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1170,columnNumber:17},void 0),e.jsxDEV("select",{value:se.projectId,onChange:w=>ue({...se,projectId:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1178,columnNumber:19},void 0),s.map(w=>e.jsxDEV("option",{value:w.id,children:[w.name," - ",w.client]},w.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1180,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1173,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1169,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1188,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:se.totalAmount||"",onChange:w=>ue({...se,totalAmount:Number(w.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"50000000"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1191,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1198,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1187,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1202,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 mb-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>ue({...se,vatType:"percentage"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${se.vatType==="percentage"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1208,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>ue({...se,vatType:"amount"}),className:`flex-1 px-3 py-2 text-sm border rounded-lg font-medium transition-colors ${se.vatType==="amount"?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1219,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1207,columnNumber:17},void 0),se.vatType==="percentage"&&e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"number",value:se.vatPercentage??100,onChange:w=>{const T=w.target.value===""?100:Number(w.target.value);ue({...se,vatPercentage:T})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"100",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1235,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"0%:   | 100%:     | 50%:   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1247,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1234,columnNumber:19},void 0),se.vatType==="amount"&&e.jsxDEV("div",{children:[e.jsxDEV("input",{type:"number",value:se.vatAmount??0,onChange:w=>{const T=w.target.value===""?0:Number(w.target.value);ue({...se,vatAmount:T})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1256,columnNumber:21},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1267,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1255,columnNumber:19},void 0),se.totalAmount>0&&e.jsxDEV("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:"  ( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1276,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl font-bold text-gray-900",children:["",(se.totalAmount+(se.vatType==="percentage"?se.totalAmount*((se.vatPercentage??100)/100)*.1:se.vatAmount??0)).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1277,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-1",children:["=  ",se.totalAmount.toLocaleString()," +  ",(se.vatType==="percentage"?se.totalAmount*((se.vatPercentage??100)/100)*.1:se.vatAmount??0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1282,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1275,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1168,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-end space-x-3",children:[e.jsxDEV("button",{onClick:()=>Z(!1),className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1293,columnNumber:15},void 0),e.jsxDEV("button",{onClick:we,className:"btn btn-primary",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1299,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1292,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1155,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1154,columnNumber:9},void 0),U&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full",children:[e.jsxDEV("div",{className:"p-6 border-b",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:G!==null?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1316,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Y(!1),le(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsxDEV(ns,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1326,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1319,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1315,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1314,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" * (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1334,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:["","","","",""].map(w=>{const T=Ee[w];return e.jsxDEV("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsxDEV("input",{type:"checkbox",checked:oe.types.includes(w),onChange:ae=>{let ye;ae.target.checked?ye=[...oe.types,w]:ye=oe.types.filter(f=>f!==w);const Ie=je(ye),Ue=I(Ie),R=Me(ye);Ve({...oe,types:ye,percentage:Ie,amount:Ue,date:R||oe.date})},className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-600"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1342,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900",children:[w,e.jsxDEV("span",{className:"text-xs text-gray-500 ml-2",children:["(",T,"%)"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1372,columnNumber:27},void 0),w===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"(  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1373,columnNumber:46},void 0),w===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"(  1 )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1374,columnNumber:46},void 0),w===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1375,columnNumber:46},void 0),w===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1376,columnNumber:45},void 0),w===""&&e.jsxDEV("span",{className:"text-xs text-gray-400 ml-1",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1377,columnNumber:46},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1370,columnNumber:25},void 0)]},w,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1341,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1337,columnNumber:17},void 0),oe.types.length>0&&e.jsxDEV("div",{className:"mt-2 p-2 bg-gray-50 border border-gray-200 rounded",children:e.jsxDEV("p",{className:"text-xs text-gray-700",children:[" : ",oe.types.join(" + ")," =  ",oe.percentage,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1385,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1384,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1333,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1394,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("button",{type:"button",onClick:()=>Ve({...oe,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${oe.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1398,columnNumber:19},void 0),e.jsxDEV("button",{type:"button",onClick:()=>Ve({...oe,method:""}),className:`flex-1 px-4 py-3 border-2 rounded-lg font-medium transition-colors ${oe.method===""?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1409,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1397,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1393,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1425,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:oe.percentage||"",onChange:w=>{const T=Number(w.target.value),ae=I(T);Ve({...oe,percentage:T,amount:ae})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"10",min:"0",max:"100"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1428,columnNumber:17},void 0),D&&oe.percentage>0&&e.jsxDEV("div",{className:"mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxDEV("p",{className:"text-xs text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1447,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:[" ( ",D.vatPercentage,"% ) ",Le(D).toLocaleString(),"  ",oe.percentage,"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1448,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 mt-1",children:["= ",I(oe.percentage).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1451,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1446,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1424,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1460,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"number",value:oe.amount||"",onChange:w=>Ve({...oe,amount:Number(w.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"5000000",min:"0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1464,columnNumber:19},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:oe.percentage>0?"       ":"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1472,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1463,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1459,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1482,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:oe.date,onChange:w=>Ve({...oe,date:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1485,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500",children:"     ,   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1491,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1481,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1498,columnNumber:17},void 0),e.jsxDEV("textarea",{value:oe.notes,onChange:w=>Ve({...oe,notes:w.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1501,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1497,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1331,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-6 border-t flex justify-between",children:[e.jsxDEV("div",{children:G!==null&&e.jsxDEV("button",{onClick:async()=>{if(D&&window.confirm("   ?"))try{const w=D.payments.filter((ye,Ie)=>Ie!==G),T={...D,payments:w};await i(D.id,{payments:w}),O(T);const ae=N.map(ye=>ye.id===D.id?T:ye);y(ae),Y(!1),le(null),F.success("  ")}catch(w){console.error("Failed to delete payment:",w),F.error(" ")}},className:"btn btn-outline text-red-600 hover:bg-red-50 hover:border-red-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1514,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1512,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV("button",{onClick:()=>{Y(!1),le(null)},className:"btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1560,columnNumber:17},void 0),e.jsxDEV("button",{onClick:He,className:"btn btn-primary",children:G!==null?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1569,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1559,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1511,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1313,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1312,columnNumber:9},void 0),C&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("style",{children:`
            @media print {
              * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                color-adjust: exact !important;
              }
              /*       */
              img[alt=""] {
                display: inline-block !important;
                visibility: visible !important;
                opacity: 0.8 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
              }
            }
            @page {
              size: A4;
              margin: 20mm;
            }
          `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1584,columnNumber:9},void 0),e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 print:bg-white print:relative print:p-0",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto print:shadow-none print:max-w-none print:max-h-none",children:e.jsxDEV("div",{className:"p-6 print:p-8",children:[e.jsxDEV("div",{className:"flex items-center justify-end mb-6 print:hidden",children:e.jsxDEV("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxDEV(ns,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1615,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1611,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1610,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-6 print:space-y-0",children:[e.jsxDEV("div",{className:"border border-black p-8 bg-white print:border print:p-12",children:[e.jsxDEV("div",{className:"p-3 mb-8",children:e.jsxDEV("h3",{className:"text-center text-2xl font-bold",children:z==="cash"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1624,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1623,columnNumber:19},void 0),e.jsxDEV("table",{className:"w-full mb-8 border-collapse",children:[e.jsxDEV("colgroup",{children:[e.jsxDEV("col",{style:{width:"30%"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1632,columnNumber:23},void 0),e.jsxDEV("col",{style:{width:"70%"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1633,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1631,columnNumber:21},void 0),e.jsxDEV("tbody",{children:[e.jsxDEV("tr",{className:"border border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1637,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 print:py-3 text-center",children:[e.jsxDEV("span",{className:"print:hidden",children:J.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1639,columnNumber:27},void 0),e.jsxDEV("input",{type:"text",value:J.project,className:"hidden print:block w-full bg-transparent border-none outline-none p-0 text-center",readOnly:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1640,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1638,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1636,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1649,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-center",children:J.startDate&&J.endDate?e.jsxDEV("span",{children:[De(new Date(J.startDate),"yyyy.MM.dd")," ~ ",De(new Date(J.endDate),"yyyy.MM.dd")]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1652,columnNumber:29},void 0):e.jsxDEV("span",{className:"text-gray-400 print:hidden",children:"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1654,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1648,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1659,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:J.totalContractAmount.toLocaleString(),onChange:w=>{const T=w.target.value.replace(/[^0-9]/g,""),ae=T?parseInt(T):0;K({...J,totalContractAmount:ae})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1662,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1673,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1661,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[J.totalContractAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1675,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1660,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1658,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1679,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:J.previousAmount.toLocaleString(),onChange:w=>{const T=w.target.value.replace(/[^0-9]/g,""),ae=T?parseInt(T):0;K({...J,previousAmount:ae})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1682,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1693,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1681,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[J.previousAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1695,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1680,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1678,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1699,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:J.amount,onChange:w=>{const T=w.target.value.replace(/[^0-9]/g,""),ae=T?parseInt(T).toLocaleString():"";K({...J,amount:ae})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1702,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1713,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1701,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[J.amount," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1715,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1700,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1698,columnNumber:23},void 0),e.jsxDEV("tr",{className:"border border-t-0 border-black",children:[e.jsxDEV("td",{className:"border-r border-black py-3 px-4 bg-white font-medium whitespace-nowrap",children:[" ",e.jsxDEV("span",{className:"text-xs",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1720,columnNumber:32},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1719,columnNumber:25},void 0),e.jsxDEV("td",{className:"py-3 px-4 text-right pr-4",children:[e.jsxDEV("span",{className:"print:hidden flex items-center justify-end gap-1",children:[e.jsxDEV("input",{type:"text",value:J.remainingAmount.toLocaleString(),onChange:w=>{const T=w.target.value.replace(/[^0-9]/g,""),ae=T?parseInt(T):0;K({...J,remainingAmount:ae})},placeholder:" ",className:"w-full text-right border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1724,columnNumber:29},void 0),e.jsxDEV("span",{children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1735,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1723,columnNumber:27},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:[J.remainingAmount.toLocaleString()," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1737,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1722,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1718,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1635,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1630,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center mb-12",children:e.jsxDEV("p",{className:"text-base",children:["* ",z==="cash"?"      .":"      ."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1745,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1744,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-center mb-12",children:e.jsxDEV("p",{className:"text-base",children:[e.jsxDEV("span",{className:"print:hidden",children:e.jsxDEV("input",{type:"date",value:J.date,onChange:w=>K({...J,date:w.target.value}),className:"border border-gray-300 rounded px-2 py-1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1756,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1755,columnNumber:23},void 0),e.jsxDEV("span",{className:"hidden print:inline",children:De(new Date(J.date),"yyyy MM dd")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1763,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1754,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1753,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium",children:"[]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1770,columnNumber:23},void 0),e.jsxDEV("span",{children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1771,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-right pr-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1772,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[e.jsxDEV("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1774,columnNumber:25},void 0),e.jsxDEV("img",{src:Fd,alt:"",style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",opacity:.8,printColorAdjust:"exact",WebkitPrintColorAdjust:"exact",colorAdjust:"exact"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1776,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1773,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1769,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-4 items-center border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium",children:"[]"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1794,columnNumber:23},void 0),e.jsxDEV("span",{children:J.project.split("_")[0]},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1795,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xl text-right pr-4",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1796,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-1",children:[e.jsxDEV("span",{className:"text-sm",style:{marginRight:"20px"},children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1798,columnNumber:25},void 0),e.jsxDEV("div",{style:{display:"inline-block",width:"56px",height:"56px",marginLeft:"-45px",marginRight:"10px",visibility:"hidden"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1800,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1797,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1793,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1768,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1621,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-3 print:hidden",children:[e.jsxDEV("button",{onClick:()=>{if(!J.amount){F.error(" ");return}window.print(),F.success(" ")},className:"flex-1 px-4 py-3 bg-gray-800 text-white font-medium rounded-lg hover:bg-gray-900 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1817,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>k(!1),className:"px-4 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1832,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1816,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1619,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1609,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1608,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1607,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:1583,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ConstructionPayment.tsx",lineNumber:526,columnNumber:5},void 0)};function Wd(){const[s,t]=l.useState([]),[n,r]=l.useState(!0),[i,a]=l.useState(null),[o,m]=l.useState(!1),[N,y]=l.useState(null),[b,h]=l.useState(""),[C,k]=l.useState({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});l.useEffect(()=>{z()},[]),l.useEffect(()=>{const U=()=>{E()};return window.addEventListener("headerAddButtonClick",U),()=>window.removeEventListener("headerAddButtonClick",U)},[]);const z=async()=>{var U,Y;try{r(!0),a(null);const G=await st.getAllContractors();t(G.map(le=>({id:le._id,rank:le.rank,companyName:le.companyName,name:le.name,position:le.position,process:le.process,contact:le.contact,accountNumber:le.accountNumber,notes:le.notes,createdAt:new Date(le.createdAt),updatedAt:new Date(le.updatedAt)})))}catch(G){console.error("Failed to load contractors:",G);const le=G instanceof Error&&((Y=(U=G.response)==null?void 0:U.data)==null?void 0:Y.message);a(le||"   .")}finally{r(!1)}},E=U=>{if(U){y(U);let Y="",G=U.accountNumber||"";if(U.accountNumber){const ke=["KB","","","","NH","IBK","KEB","SC","","","","","","","","","","","","","","","","","NH","","","","","KB","",""];for(const se of ke)if(U.accountNumber.startsWith(se)){Y=se,G=U.accountNumber.substring(se.length).trim();break}}let le=U.name,de=U.position||"";de||(de=an(U.name),le=mt(U.name)),k({rank:U.rank||"",companyName:U.companyName||"",name:le,position:de,process:U.process,contact:U.contact||"",bankName:Y,accountNumber:G,notes:U.notes||""})}else y(null),k({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""});m(!0)},J=()=>{m(!1),y(null),k({rank:"",companyName:"",name:"",position:"",process:"",contact:"",bankName:"",accountNumber:"",notes:""})},K=async U=>{var G,le;U.preventDefault();const Y=C.bankName&&C.accountNumber?`${C.bankName} ${C.accountNumber}`:C.accountNumber;try{const de={rank:C.rank,companyName:C.companyName,name:C.name,position:C.position,process:C.process,contact:C.contact,accountNumber:Y,notes:C.notes};N?await st.updateContractor(N.id,de):await st.createContractor(de),await z(),J()}catch(de){console.error("Failed to save contractor:",de);const ke=de instanceof Error&&((le=(G=de.response)==null?void 0:G.data)==null?void 0:le.message);alert(ke||"  .")}},D=async U=>{var Y,G;if(window.confirm("   ?"))try{await st.deleteContractor(U),await z()}catch(le){console.error("Failed to delete contractor:",le);const de=le instanceof Error&&((G=(Y=le.response)==null?void 0:Y.data)==null?void 0:G.message);alert(de||"  .")}},O=()=>"border-gray-200 text-gray-600 bg-gray-50",ee=U=>U?U==="1"?1:U==="1()"?2:U==="2"?3:U==="2()"?4:U==="3"?5:U==="3()"?6:U===""?100:U===""?200:999:999,Z=s.filter(U=>U.name.toLowerCase().includes(b.toLowerCase())||U.process.toLowerCase().includes(b.toLowerCase())||U.accountNumber.toLowerCase().includes(b.toLowerCase())||U.contact&&U.contact.toLowerCase().includes(b.toLowerCase())||U.rank&&U.rank.toLowerCase().includes(b.toLowerCase())||U.companyName&&U.companyName.toLowerCase().includes(b.toLowerCase())).sort((U,Y)=>{const G=ee(U.rank)-ee(Y.rank);if(G!==0)return G;const le=U.process.localeCompare(Y.process,"ko");return le!==0?le:U.name.localeCompare(Y.name,"ko")});return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-end",children:e.jsxDEV("button",{onClick:()=>E(),className:"hidden md:inline-flex btn btn-primary px-3 md:px-4 py-2",children:"+  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:282,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:281,columnNumber:7},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:292,columnNumber:9},this),e.jsxDEV("input",{type:"text",placeholder:", ,  ...",value:b,onChange:U=>h(U.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:293,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:291,columnNumber:7},this),e.jsxDEV("div",{className:"contractors-table hidden md:block bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:308,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:311,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:314,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:317,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:320,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:323,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:326,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:329,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:332,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:307,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:306,columnNumber:13},this),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:n?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("p",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:341,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:340,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:339,columnNumber:17},this):i?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("p",{className:"text-red-500",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:348,columnNumber:23},this),e.jsxDEV("button",{onClick:z,className:"inline-block px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:349,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:347,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:346,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:345,columnNumber:17},this):Z.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxDEV("p",{className:"text-gray-500",children:b?"  .":"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:361,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:360,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:359,columnNumber:17},this):Z.map(U=>e.jsxDEV("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`px-2 py-1 text-xs font-medium border rounded ${O(U.rank)}`,children:U.rank||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:370,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:369,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:"text-xs font-medium text-gray-700",children:U.process},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:375,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:374,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:U.companyName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:380,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:379,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:mt(U.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:383,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:382,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:U.position||an(U.name)||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:386,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:385,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:U.contact||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:389,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:388,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"text-sm text-gray-900",children:U.accountNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:392,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:391,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:U.notes||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:395,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:394,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsxDEV("button",{onClick:()=>E(U),className:"text-gray-600 hover:text-gray-900 mr-3",children:e.jsxDEV(Tt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:404,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:400,columnNumber:23},this),e.jsxDEV("button",{onClick:()=>D(U.id),className:"text-red-600 hover:text-red-900",children:e.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:410,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:406,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:399,columnNumber:21},this)]},U.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:368,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:337,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:305,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:304,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:303,columnNumber:7},this),e.jsxDEV("div",{className:"md:hidden space-y-3",children:n?e.jsxDEV("div",{className:"text-center py-12 text-gray-500 text-sm",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:424,columnNumber:11},this):i?e.jsxDEV("div",{className:"text-center py-12 space-y-4",children:[e.jsxDEV("p",{className:"text-red-500 text-sm",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:427,columnNumber:13},this),e.jsxDEV("button",{onClick:z,className:"inline-block px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:428,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:426,columnNumber:11},this):Z.length===0?e.jsxDEV("div",{className:"text-center py-12 text-gray-500 text-sm",children:b?"  .":"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:436,columnNumber:11},this):Z.map(U=>e.jsxDEV("div",{className:"card p-3 space-y-2",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[U.rank&&e.jsxDEV("span",{className:`px-1.5 py-0.5 text-[10px] font-medium border rounded ${O(U.rank)}`,children:U.rank},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:447,columnNumber:23},this),e.jsxDEV("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-gray-700 bg-gray-100 rounded",children:U.process},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:451,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:445,columnNumber:19},this),U.companyName&&e.jsxDEV("p",{className:"text-xs text-gray-600 mb-0.5",children:U.companyName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:456,columnNumber:21},this),e.jsxDEV("p",{className:"font-semibold text-gray-900 text-sm",children:mt(U.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:458,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:444,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center gap-2 ml-2",children:[e.jsxDEV("button",{onClick:()=>E(U),className:"p-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded",children:e.jsxDEV(Tt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:465,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:461,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>D(U.id),className:"p-1.5 text-red-600 hover:text-red-900 hover:bg-red-50 rounded",children:e.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:471,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:467,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:460,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:443,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-1 text-xs",children:[(U.position||an(U.name))&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:480,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900",children:U.position||an(U.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:481,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:479,columnNumber:19},this),U.contact&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:486,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-900",children:U.contact},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:487,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:485,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:491,columnNumber:19},this),e.jsxDEV("span",{className:"text-gray-900 break-all",children:U.accountNumber},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:492,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:490,columnNumber:17},this),U.notes&&e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("span",{className:"text-gray-500 w-14 flex-shrink-0",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:496,columnNumber:21},this),e.jsxDEV("span",{className:"text-gray-600",children:U.notes},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:497,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:495,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:477,columnNumber:15},this)]},U.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:441,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:422,columnNumber:7},this),o&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:N?" ":"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:512,columnNumber:17},this),e.jsxDEV("button",{onClick:J,className:"text-gray-400 hover:text-gray-600",children:e.jsxDEV(ns,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:519,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:515,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:511,columnNumber:15},this),e.jsxDEV("form",{onSubmit:K,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:525,columnNumber:19},this),e.jsxDEV("select",{value:C.rank,onChange:U=>k({...C,rank:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:533,columnNumber:21},this),e.jsxDEV("option",{value:"1",children:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:534,columnNumber:21},this),e.jsxDEV("option",{value:"2",children:"2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:535,columnNumber:21},this),e.jsxDEV("option",{value:"3",children:"3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:536,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:528,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:524,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:541,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:C.companyName,onChange:U=>k({...C,companyName:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:544,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:540,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:554,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:553,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:C.name,onChange:U=>k({...C,name:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:556,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:552,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:566,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:C.position,onChange:U=>k({...C,position:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:569,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:565,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:579,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:578,columnNumber:19},this),e.jsxDEV("input",{type:"text",required:!0,value:C.process,onChange:U=>k({...C,process:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:581,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:577,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:591,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:C.contact,onChange:U=>k({...C,contact:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:594,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:590,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:603,columnNumber:19},this),e.jsxDEV("select",{value:C.bankName,onChange:U=>k({...C,bankName:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:611,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:613,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:614,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:615,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:616,columnNumber:23},this),e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:617,columnNumber:23},this),e.jsxDEV("option",{value:"IBK",children:"IBK"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:618,columnNumber:23},this),e.jsxDEV("option",{value:"KEB",children:"KEB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:619,columnNumber:23},this),e.jsxDEV("option",{value:"SC",children:"SC"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:620,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:621,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:612,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:624,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:625,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:626,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:627,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:628,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:629,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:623,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:632,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:633,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:634,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:635,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:636,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:637,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:631,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:640,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:641,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:642,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:639,columnNumber:21},this),e.jsxDEV("optgroup",{label:"",children:[e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:645,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:646,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:647,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:648,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:649,columnNumber:23},this),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:650,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:651,columnNumber:23},this),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:652,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:644,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:606,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:602,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:658,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:C.accountNumber,onChange:U=>k({...C,accountNumber:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:661,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:657,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:670,columnNumber:19},this),e.jsxDEV("textarea",{value:C.notes,onChange:U=>k({...C,notes:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-400 focus:border-transparent",rows:3},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:673,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:669,columnNumber:17},this),e.jsxDEV("div",{className:"flex space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:J,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:682,columnNumber:19},this),e.jsxDEV("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:N?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:689,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:681,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:523,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:510,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:509,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:508,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Contractors.tsx",lineNumber:279,columnNumber:5},this)}const Nt=["","","","","","","","",""],Od=()=>{const{addScheduleToAPI:s,deleteScheduleFromAPI:t,updateScheduleInAPI:n,schedules:r,fetchSchedules:i}=Ws(),{user:a}=js(),o=Rs(),[m,N]=l.useState([]),[y,b]=l.useState(""),[h,C]=l.useState("pending"),[k,z]=l.useState(null),[E,J]=l.useState(null),K=l.useRef(null),[D,O]=l.useState({project:"",requestType:"",description:"",requestDate:De(new Date,"yyyy-MM-dd"),dueDate:De(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(a==null?void 0:a.name)||"",assignedTo:""}),[ee,Z]=l.useState(""),[U,Y]=l.useState(null),[G,le]=l.useState(!1);l.useEffect(()=>{de()},[]),l.useEffect(()=>{a!=null&&a.name&&O(P=>{const I={};return P.requestedBy||(I.requestedBy=a.name),a.name===""&&!P.project&&o.length>0&&(I.project=o[0].name),{...P,...I}})},[a,o]);const de=async()=>{try{const I=(await rt.getAllWorkRequests()).map(M=>({id:M._id,project:M.project,requestType:M.requestType,description:M.description,requestDate:new Date(M.requestDate),dueDate:new Date(M.dueDate),requestedBy:M.requestedBy,assignedTo:M.assignedTo,status:M.status,priority:M.priority,notes:M.notes,completedDate:M.completedDate?new Date(M.completedDate):void 0}));N(I)}catch(P){console.error("Failed to load work requests:",P),F.error("  ")}};l.useEffect(()=>{var P,I;k&&K.current&&((I=(P=K.current).showPicker)==null||I.call(P))},[k]),l.useEffect(()=>{const P=()=>{E&&J(null)};if(E)return document.addEventListener("click",P),()=>document.removeEventListener("click",P)},[E]),l.useEffect(()=>{const P=()=>{le(I=>{const M=!I;return window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:M}})),M})};return window.addEventListener("headerAddButtonClick",P),()=>window.removeEventListener("headerAddButtonClick",P)},[]),l.useEffect(()=>{window.dispatchEvent(new CustomEvent("mobileFormStateChange",{detail:{isOpen:G}}))},[G]);const ke=async(P,I)=>{if(window.confirm(`"${I}"  ?

    .`))try{const M=m.find(fe=>fe.id===P);if(await rt.deleteWorkRequest(P),N(m.filter(fe=>fe.id!==P)),F.success(" "),M)try{let fe="";M.project?fe=M.requestType?`[] ${M.requestType}`:`[] ${M.description.substring(0,20)}`:fe=M.description;const Ce=r.filter(W=>{const ce=W.start&&new Date(W.start).toDateString()===M.dueDate.toDateString(),w=W.title===fe;return ce&&w});for(const W of Ce)try{await t(W.id)}catch(ce){console.error("Failed to delete related schedule:",ce)}await i()}catch(fe){console.error("Failed to handle related schedules:",fe)}}catch(M){console.error("Failed to delete work request:",M),F.error("  "),await de()}},se=P=>{Y(P),O({project:P.project,requestType:P.requestType,description:P.description,requestDate:De(P.requestDate,"yyyy-MM-dd"),dueDate:De(P.dueDate,"yyyy-MM-dd"),requestedBy:P.requestedBy,assignedTo:P.assignedTo}),le(!0)},ue=()=>{Y(null),O({project:"",requestType:"",description:"",requestDate:De(new Date,"yyyy-MM-dd"),dueDate:De(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),requestedBy:(a==null?void 0:a.name)||"",assignedTo:""}),setIsUrgent(!1),Z("")},oe=async P=>{if(P.preventDefault(),!D.requestedBy||!D.assignedTo||!D.requestDate||!D.dueDate){F.error("   ");return}try{const I=D.requestType===""?ee:D.requestType;if(U){const M=await rt.updateWorkRequest(U.id,{project:D.project,requestType:I,description:D.description,requestDate:new Date(D.requestDate),dueDate:new Date(D.dueDate),requestedBy:D.requestedBy,assignedTo:D.assignedTo,status:U.status,priority:"medium"}),fe={id:M._id,project:M.project,requestType:M.requestType,description:M.description,requestDate:new Date(M.requestDate),dueDate:new Date(M.dueDate),requestedBy:M.requestedBy,assignedTo:M.assignedTo,status:M.status,priority:M.priority,notes:M.notes,completedDate:M.completedDate?new Date(M.completedDate):void 0};let Ce="";M.project?Ce=M.requestType?`[] ${M.requestType}`:`[] ${M.description.substring(0,20)}`:Ce=M.description;const W=r.find(ce=>{const w=ce.start&&new Date(ce.start).toDateString()===new Date(M.dueDate).toDateString(),T=ce.title===Ce;return w&&T});if(W)try{let ce=null,w="";if(M.project){const ae=o.find(ye=>ye.name===M.project);ce=ae?ae.id:W.project,w=M.requestType?`[] ${M.requestType}`:`[] ${M.description.substring(0,20)}`}else w=M.description,ce=W.project;const T=M.assignedTo===""?["","",""]:[M.assignedTo];await n(W.id,{title:w,start:new Date(M.dueDate),end:new Date(M.dueDate),project:ce,attendees:T,description:`${M.description}

: ${M.assignedTo}
: ${M.requestedBy}
: ${M.priority}
${M.notes||""}`})}catch(ce){console.error("Failed to update related schedule:",ce)}N(m.map(ce=>ce.id===U.id?fe:ce)),F.success(" ")}else{const M=await rt.createWorkRequest({project:D.project,requestType:I,description:D.description||"",requestDate:new Date(D.requestDate),dueDate:new Date(D.dueDate),requestedBy:D.requestedBy,assignedTo:D.assignedTo,status:"pending",priority:"medium"}),fe={id:M._id,project:M.project,requestType:M.requestType,description:M.description,requestDate:new Date(M.requestDate),dueDate:new Date(M.dueDate),requestedBy:M.requestedBy,assignedTo:M.assignedTo,status:M.status,priority:M.priority,notes:M.notes,completedDate:M.completedDate?new Date(M.completedDate):void 0};try{let Ce=null,W="";if(M.project){const w=o.find(T=>T.name===M.project);if(Ce=w?w.id:null,!Ce)throw console.warn("Project not found for work request:",M.project),new Error("Project not found");W=M.requestType?`[] ${M.requestType}`:`[] ${M.description.substring(0,20)}`}else W=M.description;const ce=M.assignedTo===""?["","",""]:[M.assignedTo];await s({id:`workrequest-${M._id}`,title:W,start:new Date(M.dueDate),end:new Date(M.dueDate),type:"other",project:Ce,location:"",attendees:ce,description:`${M.description}

: ${M.assignedTo}
: ${M.requestedBy}
: ${M.priority}
${M.notes||""}`})}catch(Ce){console.error("Failed to create schedule:",Ce)}N([fe,...m]),F.success(" ")}ue()}catch(I){console.error("Failed to save work request:",I),F.error("  ")}},Ve=(P,I)=>{z({requestId:P,field:I})},Ee=async P=>{if(!k)return;const I=new Date(P);if(!isNaN(I.getTime()))try{if(!m.find(fe=>fe.id===k.requestId))return;await rt.updateWorkRequest(k.requestId,{[k.field]:I}),N(m.map(fe=>fe.id===k.requestId?{...fe,[k.field]:I}:fe)),z(null),F.success(" ")}catch(M){console.error("Failed to update date:",M),F.error("  "),z(null)}},je=(P,I)=>{J({requestId:P,field:I})},Me=async P=>{if(E)try{await rt.updateWorkRequest(E.requestId,{[E.field]:P}),N(m.map(I=>I.id===E.requestId?{...I,[E.field]:P}:I)),J(null),F.success(" ")}catch(I){console.error("Failed to update person:",I),F.error("  "),J(null)}},re=async(P,I)=>{try{const M=I==="completed"?new Date:void 0;if(await rt.updateWorkRequest(P,{status:I,completedDate:M}),N(m.map(Ce=>Ce.id===P?{...Ce,status:I,completedDate:M}:Ce)),I==="completed"){const Ce=m.find(W=>W.id===P);if(Ce){const W=r.find(ce=>ce.id===`workrequest-${P}`||ce.title.includes("[]")&&ce.project===Ce.project);if(W)try{await t(W.id)}catch(ce){console.error("Failed to delete related schedule:",ce)}}}const fe={pending:"","in-progress":"",completed:""};F.success(` ${fe[I]} `)}catch(M){console.error("Failed to update status:",M),F.error("  ")}},be=P=>{const M={pending:{label:"",color:"bg-gray-100 text-gray-700 border-gray-300"},"in-progress":{label:"",color:"bg-gray-100 text-gray-800 border-gray-300"},completed:{label:"",color:"bg-gray-900 text-white border-gray-900"},cancelled:{label:"",color:"bg-gray-100 text-gray-500 border-gray-300"}}[P];return e.jsxDEV("span",{className:`px-3 py-1 text-xs font-medium border ${M.color}`,children:M.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:521,columnNumber:7},void 0)},we=P=>{const I=new Date;I.setHours(0,0,0,0);const M=new Date(P);M.setHours(0,0,0,0);const fe=M.getTime()-I.getTime();return Math.ceil(fe/(1e3*60*60*24))},Ne=P=>{const I=we(P);return I<0?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D+",Math.abs(I)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:561,columnNumber:9},void 0):I===0?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-900 text-white border border-gray-900 rounded",children:"D-Day"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:567,columnNumber:9},void 0):I<=3?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",I]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:573,columnNumber:9},void 0):I<=7?e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",I]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:579,columnNumber:9},void 0):e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300 rounded",children:["D-",I]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:585,columnNumber:9},void 0)},Ae=(a==null?void 0:a.name)===""?m.filter(P=>o.some(I=>I.name===P.project)):m,Le=(()=>{let P=Ae;return h!=="all"&&(P=P.filter(I=>I.status===h)),y&&(P=P.filter(I=>I.project.toLowerCase().includes(y.toLowerCase())||I.requestType.toLowerCase().includes(y.toLowerCase())||I.description.toLowerCase().includes(y.toLowerCase()))),P})(),Se={pending:Ae.filter(P=>P.status==="pending").length,inProgress:Ae.filter(P=>P.status==="in-progress").length,completed:Ae.filter(P=>P.status==="completed").length,total:Ae.length};return e.jsxDEV("div",{className:"workrequest-container space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"workrequest-desktop hidden md:grid md:grid-cols-[400px_1fr] gap-4",children:[e.jsxDEV("div",{className:"workrequest-form bg-white border border-gray-200 rounded-lg p-6 h-fit sticky top-4",children:[U&&e.jsxDEV("h2",{className:"text-xl font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:631,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:oe,className:"workrequest-form-inner space-y-4",children:[e.jsxDEV("div",{className:"wr-project",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:639,columnNumber:15},void 0),e.jsxDEV("select",{value:D.project,onChange:P=>O({...D,project:P.target.value}),className:"input w-full",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:647,columnNumber:41},void 0),o.filter(P=>P.status!=="completed").map(P=>e.jsxDEV("option",{value:P.name,children:P.name},P.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:651,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:642,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:638,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-type",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:660,columnNumber:15},void 0),e.jsxDEV("select",{value:D.requestType,onChange:P=>O({...D,requestType:P.target.value}),className:"input w-full",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:668,columnNumber:17},void 0),e.jsxDEV("option",{value:"3D",children:"3D"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:669,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:670,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:671,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:672,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:673,columnNumber:17},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:674,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:675,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:676,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:677,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:678,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:679,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:680,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:681,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:682,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:683,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:684,columnNumber:17},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:685,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:663,columnNumber:15},void 0),D.requestType===""&&e.jsxDEV("input",{type:"text",value:ee,onChange:P=>Z(P.target.value),placeholder:"  ",className:"input w-full mt-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:689,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:659,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-description",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:701,columnNumber:15},void 0),e.jsxDEV("textarea",{value:D.description,onChange:P=>O({...D,description:P.target.value}),rows:4,className:"input w-full",placeholder:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:704,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:700,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-dates grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:716,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:D.requestDate,onChange:P=>O({...D,requestDate:P.target.value}),required:!0,className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:719,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:715,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:728,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:D.dueDate,onChange:P=>O({...D,dueDate:P.target.value}),required:!0,className:"input w-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:731,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:727,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:714,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-people grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:744,columnNumber:17},void 0),e.jsxDEV("select",{value:D.requestedBy,onChange:P=>O({...D,requestedBy:P.target.value}),required:!0,className:"input w-full",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:753,columnNumber:19},void 0),Nt.map(P=>e.jsxDEV("option",{value:P,children:P},P,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:755,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:747,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:743,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:762,columnNumber:17},void 0),e.jsxDEV("select",{value:D.assignedTo,onChange:P=>O({...D,assignedTo:P.target.value}),required:!0,className:"input w-full",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:771,columnNumber:19},void 0),Nt.map(P=>e.jsxDEV("option",{value:P,children:P},P,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:773,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:765,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:761,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:742,columnNumber:13},void 0),e.jsxDEV("div",{className:"wr-actions flex gap-3 pt-4 border-t",children:[U&&e.jsxDEV("button",{type:"button",onClick:ue,className:"flex-1 btn btn-outline",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:784,columnNumber:17},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 btn btn-primary",children:U?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:792,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:782,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:636,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:629,columnNumber:9},void 0),e.jsxDEV("div",{className:"workrequest-list space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-8",children:[{id:"pending",label:"",count:Se.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:Se.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:Se.completed,color:"text-gray-700"},{id:"all",label:"",count:Se.total,color:"text-gray-600"}].map(P=>e.jsxDEV("button",{onClick:()=>C(P.id),className:ws("py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap",h===P.id?`border-gray-700 ${P.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[P.label,P.count>0&&e.jsxDEV("span",{className:ws("ml-2 py-0.5 px-2 rounded-full text-xs font-semibold",h===P.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:P.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:822,columnNumber:21},void 0)]},P.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:810,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:803,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:802,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:e.jsxDEV("input",{type:"text",placeholder:"...",value:y,onChange:P=>b(P.target.value),className:"flex-1 px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:836,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:835,columnNumber:11},void 0),e.jsxDEV("div",{className:"bg-white border border-gray-200 overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:850,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:851,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:852,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:853,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:854,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:855,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:856,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"D-day"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:857,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:858,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:859,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:849,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:848,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",style:{overflow:"visible"},children:Le.map(P=>e.jsxDEV("tr",{className:`hover:bg-gray-50 ${P.priority==="high"?"bg-rose-50/30":""}`,style:{overflow:"visible"},children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"font-medium text-gray-900",children:P.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:872,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:871,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("p",{className:"text-sm text-gray-900",children:P.requestType},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:875,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:874,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("p",{className:"text-sm text-gray-900",children:P.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:878,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:877,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("button",{onClick:I=>{I.stopPropagation(),je(P.id,"requestedBy")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:P.requestedBy},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:882,columnNumber:25},void 0),(E==null?void 0:E.requestId)===P.id&&(E==null?void 0:E.field)==="requestedBy"&&e.jsxDEV("div",{onClick:I=>I.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:Nt.map(I=>e.jsxDEV("button",{onClick:()=>Me(I),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${I===P.requestedBy?"bg-gray-50 font-medium":""}`,children:I},I,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:897,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:892,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:881,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:880,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",style:{overflow:"visible"},children:e.jsxDEV("div",{className:"relative inline-block",children:[e.jsxDEV("button",{onClick:I=>{I.stopPropagation(),je(P.id,"assignedTo")},className:"text-sm text-gray-900 hover:text-gray-600 hover:underline transition-colors",children:P.assignedTo},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:913,columnNumber:25},void 0),(E==null?void 0:E.requestId)===P.id&&(E==null?void 0:E.field)==="assignedTo"&&e.jsxDEV("div",{onClick:I=>I.stopPropagation(),className:"absolute left-0 top-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 min-w-[100px]",children:Nt.map(I=>e.jsxDEV("button",{onClick:()=>Me(I),className:`block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 transition-colors first:rounded-t-lg last:rounded-b-lg ${I===P.assignedTo?"bg-gray-50 font-medium":""}`,children:I},I,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:928,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:923,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:912,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:911,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"relative inline-block",children:[(k==null?void 0:k.requestId)===P.id&&(k==null?void 0:k.field)==="requestDate"&&e.jsxDEV("input",{ref:K,type:"date",defaultValue:De(P.requestDate,"yyyy-MM-dd"),onChange:I=>Ee(I.target.value),onBlur:()=>z(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:945,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ve(P.id,"requestDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(ht,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:959,columnNumber:27},void 0),e.jsxDEV("span",{children:De(P.requestDate,"yyyy.MM.dd (eee)",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:960,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:955,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:943,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:942,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"relative inline-block",children:[(k==null?void 0:k.requestId)===P.id&&(k==null?void 0:k.field)==="dueDate"&&e.jsxDEV("input",{ref:K,type:"date",defaultValue:De(P.dueDate,"yyyy-MM-dd"),onChange:I=>Ee(I.target.value),onBlur:()=>z(null),className:"absolute left-0 top-0 w-auto h-auto opacity-0 z-50",style:{pointerEvents:"auto"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:967,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>Ve(P.id,"dueDate"),className:"flex items-center space-x-2 text-sm text-gray-900 hover:text-gray-600 transition-colors",children:[e.jsxDEV(ht,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:981,columnNumber:27},void 0),e.jsxDEV("span",{children:De(P.dueDate,"yyyy.MM.dd (eee)",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:982,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:977,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:965,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:964,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:Ne(P.dueDate)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:986,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:be(P.status)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:989,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[P.status==="pending"&&e.jsxDEV("button",{onClick:()=>re(P.id,"in-progress"),className:"px-3 py-1 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-900 hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:995,columnNumber:27},void 0),P.status==="in-progress"&&e.jsxDEV("button",{onClick:()=>re(P.id,"completed"),className:"px-3 py-1 text-xs font-semibold bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1003,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>se(P),className:"text-xs text-gray-600 hover:text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1010,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>ke(P.id,P.project),className:"text-gray-600 hover:text-gray-700",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1020,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1016,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:993,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:992,columnNumber:21},void 0)]},P.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:864,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:862,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:847,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:846,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:800,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:627,columnNumber:7},void 0),e.jsxDEV("div",{className:"workrequest-mobile md:hidden space-y-3",children:[e.jsxDEV("div",{className:"border-b border-gray-200",children:e.jsxDEV("nav",{className:"flex space-x-4 overflow-x-auto",children:[{id:"pending",label:"",count:Se.pending,color:"text-gray-700"},{id:"in-progress",label:"",count:Se.inProgress,color:"text-gray-700"},{id:"completed",label:"",count:Se.completed,color:"text-gray-700"},{id:"all",label:"",count:Se.total,color:"text-gray-600"}].map(P=>e.jsxDEV("button",{onClick:()=>C(P.id),className:ws("py-3 px-1 border-b-2 font-medium text-xs transition-colors whitespace-nowrap",h===P.id?`border-gray-700 ${P.color}`:"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[P.label,P.count>0&&e.jsxDEV("span",{className:ws("ml-1 py-0.5 px-1.5 rounded-full text-[10px] font-semibold",h===P.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:P.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1055,columnNumber:19},void 0)]},P.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1043,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1036,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1035,columnNumber:9},void 0),G&&e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[U&&e.jsxDEV("h2",{className:"text-base font-semibold text-gray-900 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1071,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:oe,className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1079,columnNumber:19},void 0),e.jsxDEV("select",{value:D.project,onChange:P=>O({...D,project:P.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1087,columnNumber:45},void 0),o.filter(P=>P.status!=="completed").map(P=>e.jsxDEV("option",{value:P.name,children:P.name},P.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1091,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1082,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1078,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1100,columnNumber:19},void 0),e.jsxDEV("select",{value:D.requestType,onChange:P=>O({...D,requestType:P.target.value}),className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1108,columnNumber:21},void 0),e.jsxDEV("option",{value:"3D",children:"3D"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1109,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1110,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1111,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1112,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1113,columnNumber:21},void 0),e.jsxDEV("option",{value:" ",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1114,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1115,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1116,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1117,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1118,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1119,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1120,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1121,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1122,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1123,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1124,columnNumber:21},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1125,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1103,columnNumber:19},void 0),D.requestType===""&&e.jsxDEV("input",{type:"text",value:ee,onChange:P=>Z(P.target.value),placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 mt-2 hover:border-gray-400 transition-colors"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1129,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1099,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1141,columnNumber:19},void 0),e.jsxDEV("textarea",{value:D.description,onChange:P=>O({...D,description:P.target.value}),rows:3,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 hover:border-gray-400 transition-colors",placeholder:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1144,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1140,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1156,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:D.requestDate,onChange:P=>O({...D,requestDate:P.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1159,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1155,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1168,columnNumber:21},void 0),e.jsxDEV("input",{type:"date",value:D.dueDate,onChange:P=>O({...D,dueDate:P.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1171,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1167,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1154,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1184,columnNumber:21},void 0),e.jsxDEV("select",{value:D.requestedBy,onChange:P=>O({...D,requestedBy:P.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1193,columnNumber:23},void 0),Nt.map(P=>e.jsxDEV("option",{value:P,children:P},P,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1195,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1187,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1183,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1202,columnNumber:21},void 0),e.jsxDEV("select",{value:D.assignedTo,onChange:P=>O({...D,assignedTo:P.target.value}),required:!0,className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1211,columnNumber:23},void 0),Nt.map(P=>e.jsxDEV("option",{value:P,children:P},P,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1213,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1205,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1201,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1182,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2 pt-2",children:[U&&e.jsxDEV("button",{type:"button",onClick:ue,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1224,columnNumber:21},void 0),e.jsxDEV("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 transition-colors",children:U?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1232,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1222,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1076,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1069,columnNumber:9},void 0),e.jsxDEV("div",{className:"workrequest-cards space-y-3",children:Le.map(P=>e.jsxDEV("div",{className:`card p-3 hover:border-gray-400 transition-colors ${P.priority==="high"?"border-2 border-rose-200 bg-rose-50/30":""}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[be(P.status),Ne(P.dueDate)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1254,columnNumber:17},void 0),e.jsxDEV("h3",{className:"font-bold text-base text-gray-900",children:P.project},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1258,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-600 mt-0.5",children:P.requestType},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1259,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1253,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>se(P),className:"text-xs text-gray-600 hover:text-gray-900 px-2 py-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1262,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>ke(P.id,P.project),className:"text-gray-600 hover:text-gray-700 p-1",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1272,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1261,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1252,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 text-sm border-t border-gray-100 pt-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1279,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-gray-900 mt-0.5",children:P.description},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1280,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1278,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1285,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-0.5",children:P.requestedBy},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1286,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1284,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1289,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-gray-900 font-medium mt-0.5",children:P.assignedTo},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1290,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1288,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1283,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1296,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:De(P.requestDate,"MM.dd (eee)",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1297,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1295,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1302,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xs text-gray-900",children:De(P.dueDate,"MM.dd (eee)",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1303,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1301,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1294,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1277,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-100",children:[P.status==="pending"&&e.jsxDEV("button",{onClick:()=>re(P.id,"in-progress"),className:"flex-1 px-3 py-2 text-xs font-semibold text-white rounded-lg transition-colors bg-gray-900 hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1313,columnNumber:17},void 0),P.status==="in-progress"&&e.jsxDEV("button",{onClick:()=>re(P.id,"completed"),className:"flex-1 px-3 py-2 text-xs font-semibold bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1321,columnNumber:17},void 0),P.status==="completed"&&e.jsxDEV("div",{className:"flex-1 text-center text-xs text-gray-500 py-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1329,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1311,columnNumber:13},void 0)]},P.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1246,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1244,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:1033,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/WorkRequest.tsx",lineNumber:625,columnNumber:5},void 0)},$d=()=>{var B,v;const{user:s}=js(),t=Rs(),[n,r]=l.useState([]),[i,a]=l.useState(null),[o,m]=l.useState([]),[N,y]=l.useState(!0),[b,h]=l.useState(""),[C,k]=l.useState(""),[z,E]=l.useState(null),[J,K]=l.useState(null),[D,O]=l.useState(""),[ee,Z]=l.useState(null),[U,Y]=l.useState(""),[G,le]=l.useState(null),[de,ke]=l.useState(new Set),se=l.useRef(null),[ue,oe]=l.useState(window.innerWidth<768),[Ve,Ee]=l.useState(!1),[je,Me]=l.useState(null),[re,be]=l.useState(new Set),[we,Ne]=l.useState(()=>localStorage.getItem("finishCheck_showOnlyIncomplete")==="true"),[Ae,He]=l.useState(!1);l.useEffect(()=>{localStorage.setItem("finishCheck_showOnlyIncomplete",String(we))},[we]),l.useEffect(()=>{const p=()=>{oe(window.innerWidth<768)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),l.useEffect(()=>{Le()},[t]),l.useEffect(()=>{i!==null&&Se()},[i]),l.useEffect(()=>{i!==null&&(s!=null&&s.id)&&localStorage.setItem(`finishCheck_selectedProject_${s.id}`,i.toString())},[i,s==null?void 0:s.id]),l.useEffect(()=>{if(!ue&&G){const p=async S=>{var q;const d=(q=S.clipboardData)==null?void 0:q.items;if(d){for(let x=0;x<d.length;x++)if(d[x].type.indexOf("image")!==-1){S.preventDefault();const V=d[x].getAsFile();V&&await ae(G,V)}}};return document.addEventListener("paste",p),()=>document.removeEventListener("paste",p)}},[G,ue]);const Le=async()=>{try{const p=t.map(d=>({id:d.id,title:d.name}));r(p);const S=s!=null&&s.id?localStorage.getItem(`finishCheck_selectedProject_${s.id}`):null;S&&p.some(d=>d.id===Number(S))?a(Number(S)):p.length>0&&a(p[0].id)}catch(p){console.error("Failed to load projects:",p),F.error("   ")}},Se=async()=>{try{y(!0);const p=i?`/finish-check/spaces?project_id=${i}`:"/finish-check/spaces",d=(await ve.get(p)).data.map(q=>({...q,items:q.items.map(x=>({...x,images:x.images||[]}))}));m(d)}catch(p){console.error("Failed to load spaces:",p),F.error("   ")}finally{y(!1)}},P=async()=>{if(!b.trim()){F.error("  ");return}if(!i){F.error(" ");return}try{const p=await ve.post("/finish-check/spaces",{name:b.trim(),project_id:i}),S={...p.data,items:p.data.items||[]};m([...o,S]),h(""),He(!1),F.success(" ")}catch(p){console.error("Failed to add space:",p),F.error("  ")}},I=async(p,S)=>{if(!S.trim()){F.error("  ");return}try{await ve.put(`/finish-check/spaces/${p}`,{name:S.trim()}),m(o.map(d=>d.id===p?{...d,name:S.trim()}:d)),K(null),O(""),F.success("  ")}catch(d){console.error("Failed to update space:",d),F.error("  ")}},M=p=>{Me(p),be(new Set)},fe=async()=>{if(je!==null){if(re.size===0){F.error("  ");return}try{await Promise.all(Array.from(re).map(p=>ve.delete(`/finish-check/items/${p}`))),m(o.map(p=>p.id===je?{...p,items:p.items.filter(S=>!re.has(S.id))}:p)),F.success(`${re.size}  `),Me(null),be(new Set)}catch(p){console.error("Failed to delete items:",p),F.error("  ")}}},Ce=async()=>{if(je===null)return;const p=o.find(S=>S.id===je);if(p&&confirm(`"${p.name}"  ?

        .`))try{await ve.delete(`/finish-check/spaces/${je}`),m(o.filter(S=>S.id!==je)),F.success(" "),Me(null),be(new Set)}catch(S){console.error("Failed to delete space:",S),F.error("  ")}},W=async p=>{if(!C.trim()){F.error("  ");return}try{const S=await ve.post("/finish-check/items",{space_id:p,content:C.trim()});m(o.map(d=>d.id===p?{...d,items:[...d.items,{...S.data,images:[]}]}:d)),k(""),E(null),F.success(" ")}catch(S){console.error("Failed to add item:",S),F.error("  ")}},ce=async p=>{try{const S=await ve.put(`/finish-check/items/${p}/toggle`);m(o.map(d=>({...d,items:d.items.map(q=>q.id===p?{...q,...S.data}:q)})))}catch(S){console.error("Failed to toggle item:",S),F.error("   ")}},w=async p=>{try{const S=await ve.put(`/finish-check/items/${p}/toggle-priority`);m(o.map(d=>({...d,items:d.items.map(q=>q.id===p?{...q,is_priority:S.data.is_priority}:q)})))}catch(S){console.error("Failed to toggle priority:",S),F.error("  ")}},T=p=>new Promise((S,d)=>{const q=new FileReader;q.readAsDataURL(p),q.onload=()=>S(q.result),q.onerror=x=>d(x)}),ae=async(p,S)=>{var x,V;if(!["image/jpeg","image/png","image/webp"].includes(S.type)){F.error("JPEG, PNG, WebP    ");return}const q=5*1024*1024;if(S.size>q){F.error("  5MB  ");return}try{ke(ge=>new Set([...ge,p]));const te=await T(S),X=await ve.post(`/finish-check/items/${p}/images`,{image_data:te,filename:S.name});m(o.map(ge=>({...ge,items:ge.items.map(pe=>pe.id===p?{...pe,images:[...pe.images,X.data]}:pe)}))),F.success(" ")}catch(te){console.error("Failed to upload image:",te),F.error(((V=(x=te.response)==null?void 0:x.data)==null?void 0:V.error)||"  ")}finally{ke(te=>{const X=new Set(te);return X.delete(p),X})}},ye=async(p,S)=>{const d=S.target.files;if(!(!d||d.length===0)){for(let q=0;q<d.length;q++)await ae(p,d[q]);se.current&&(se.current.value="")}},Ie=async(p,S)=>{if(confirm("  ?"))try{await ve.delete(`/finish-check/images/${S}`),m(o.map(d=>({...d,items:d.items.map(q=>q.id===p?{...q,images:q.images.filter(x=>x.id!==S)}:q)}))),F.success(" ")}catch(d){console.error("Failed to delete image:",d),F.error("  ")}},Ue=async(p,S)=>{p.preventDefault(),p.stopPropagation();const d=p.dataTransfer.files;if(!(!d||d.length===0))for(let q=0;q<d.length;q++)d[q].type.startsWith("image/")&&await ae(S,d[q])},R=p=>{p.preventDefault(),p.stopPropagation()};if(N)return e.jsxDEV("div",{className:"flex items-center justify-center h-[calc(100vh-120px)]",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:518,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:517,columnNumber:7},void 0);const f=G?o.flatMap(p=>p.items).find(p=>p.id===G):null;return e.jsxDEV("div",{className:"h-[calc(100vh-120px)] flex flex-col md:flex-row gap-4 overflow-hidden",children:[e.jsxDEV("input",{ref:se,type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,className:"hidden",onChange:p=>{G&&ye(G,p)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:530,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:ue?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("select",{value:i||"",onChange:p=>{const S=p.target.value?Number(p.target.value):null;a(S)},className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:560,columnNumber:43},void 0),n.map(p=>e.jsxDEV("option",{value:p.id,children:p.title},p.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:562,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:552,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:551,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>Ne(!we),className:`px-3 py-2.5 text-xs font-medium rounded-lg transition-colors whitespace-nowrap ${we?"bg-gray-800 text-white hover:bg-gray-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:we?" ":" ",children:we?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:570,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>He(!0),className:"p-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center",title:" ",children:e.jsxDEV(Ks,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:588,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:583,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:549,columnNumber:13},void 0):e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:596,columnNumber:17},void 0),e.jsxDEV("select",{value:i||"",onChange:p=>{const S=p.target.value?Number(p.target.value):null;a(S)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(s==null?void 0:s.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:605,columnNumber:43},void 0),n.map(p=>e.jsxDEV("option",{value:p.id,children:p.title},p.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:607,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:597,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:595,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:616,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:b,onChange:p=>h(p.target.value),onKeyPress:p=>{p.key==="Enter"&&P()},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:618,columnNumber:19},void 0),e.jsxDEV("button",{onClick:P,className:"p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center min-w-[44px]",title:" ",children:e.jsxDEV(Ks,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:635,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:630,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:617,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:615,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV("button",{onClick:()=>Ne(!we),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${we?"bg-gray-800 text-white hover:bg-gray-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:we?" ":" ",children:we?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:642,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:641,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:593,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:546,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:o.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:661,columnNumber:13},void 0):e.jsxDEV("div",{className:"columns-1 portrait:md:columns-2 landscape:md:columns-3 desktop:columns-4 column-gap-4",children:o.map((p,S)=>{const d=p.items.filter(x=>!x.is_completed).sort((x,V)=>(V.is_priority||0)-(x.is_priority||0)),q=p.items.filter(x=>x.is_completed);return we&&d.length===0?null:e.jsxDEV("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 mb-4 break-inside-avoid",children:[J===p.id?e.jsxDEV("div",{className:"flex gap-2 mb-4",children:[e.jsxDEV("input",{type:"text",value:D,onChange:x=>O(x.target.value),onKeyPress:x=>{x.key==="Enter"?I(p.id,D):x.key==="Escape"&&(K(null),O(""))},className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:680,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>I(p.id,D),className:"p-1 text-green-600 hover:text-green-700",children:e.jsxDEV(qi,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:699,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:695,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>{K(null),O("")},className:"p-1 text-gray-600 hover:text-gray-700",children:e.jsxDEV(ns,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:708,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:701,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:679,columnNumber:23},void 0):e.jsxDEV("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-300",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:[e.jsxDEV("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-800 text-white text-xs font-bold rounded-full",children:S+1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:715,columnNumber:29},void 0),p.name]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:714,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:[q.length,"/",p.items.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:720,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:713,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{z===p.id?(E(null),k("")):E(p.id)},className:`p-1 transition-colors ${z===p.id?"text-gray-900 bg-gray-100 rounded":"text-gray-600 hover:text-gray-800"}`,title:" ",children:e.jsxDEV(Ks,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:741,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:725,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>{K(p.id),O(p.name)},className:"p-1 text-gray-600 hover:text-gray-800 transition-colors",title:"",children:e.jsxDEV(Tt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:751,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:743,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>M(p.id),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"",children:e.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:758,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:753,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:724,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:712,columnNumber:23},void 0),z===p.id&&e.jsxDEV("div",{className:"mb-4 p-3 bg-white border border-gray-300 rounded-lg",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:C,onChange:x=>k(x.target.value),onKeyPress:x=>{x.key==="Enter"&&C.trim()&&W(p.id)},placeholder:"  ",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:768,columnNumber:27},void 0),e.jsxDEV("button",{onClick:()=>W(p.id),disabled:!C.trim(),className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:781,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:767,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:766,columnNumber:23},void 0),d.length>0&&e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"space-y-2",children:d.map(x=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg",children:[e.jsxDEV("input",{type:"checkbox",checked:!1,onChange:()=>ce(x.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:801,columnNumber:31},void 0),e.jsxDEV("span",{className:`flex-1 text-sm text-gray-900 ${!ue&&G===x.id?"font-semibold":""}`,onClick:()=>!ue&&le(x.id),style:{cursor:ue?"default":"pointer"},children:[x.content,x.images&&x.images.length>0&&e.jsxDEV("span",{className:"ml-2 text-xs text-gray-500",children:["(",x.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:815,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:808,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{le(x.id),ue&&Ee(!0)},className:`p-1 transition-colors ${x.images&&x.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(Ys,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:835,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:821,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>w(x.id),className:`p-1 transition-colors ${x.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV($r,{className:`w-4 h-4 ${x.is_priority?"fill-current":""}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:846,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:837,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:820,columnNumber:31},void 0)]},x.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:797,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:795,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:794,columnNumber:23},void 0),!we&&q.length>0&&e.jsxDEV("div",{children:e.jsxDEV("div",{className:"space-y-2",children:q.map(x=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-white border border-gray-200 rounded-lg opacity-40",children:[e.jsxDEV("input",{type:"checkbox",checked:!0,onChange:()=>ce(x.id),className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:864,columnNumber:31},void 0),e.jsxDEV("span",{className:`flex-1 text-sm text-gray-500 line-through ${!ue&&G===x.id?"font-semibold":""}`,onClick:()=>!ue&&le(x.id),style:{cursor:ue?"default":"pointer"},children:[x.content,x.images&&x.images.length>0&&e.jsxDEV("span",{className:"ml-2 text-xs text-gray-500",children:["(",x.images.length,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:878,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:871,columnNumber:31},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>{le(x.id),ue&&Ee(!0)},className:`p-1 transition-colors ${x.images&&x.images.length>0?"text-blue-600 hover:text-blue-800":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV(Ys,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:898,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:884,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>w(x.id),className:`p-1 transition-colors ${x.is_priority?"text-yellow-500 hover:text-yellow-600":"text-gray-300 hover:text-gray-400"}`,title:"",children:e.jsxDEV($r,{className:`w-4 h-4 ${x.is_priority?"fill-current":""}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:909,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:883,columnNumber:31},void 0)]},x.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:860,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:858,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:857,columnNumber:23},void 0)]},p.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:676,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:665,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:659,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:544,columnNumber:7},void 0),!ue&&G&&f&&e.jsxDEV("div",{className:"w-80 bg-white border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:930,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>le(null),className:"p-1 text-gray-600 hover:text-gray-900 transition-colors",title:"",children:e.jsxDEV(ns,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:936,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:931,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:929,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:f.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:939,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{var p;return(p=se.current)==null?void 0:p.click()},disabled:de.has(G),className:"w-full px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(tt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:945,columnNumber:15},void 0),de.has(G)?" ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:940,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"    , Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:948,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:928,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",onDrop:p=>Ue(p,G),onDragOver:R,children:f.images.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 text-sm",children:[e.jsxDEV(Ys,{className:"w-12 h-12 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:960,columnNumber:17},void 0),e.jsxDEV("p",{children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:961,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:959,columnNumber:15},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:f.images.map(p=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:p.image_data,alt:p.filename||"",className:"w-full h-32 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:967,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>Ie(G,p.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:"",children:e.jsxDEV(Yr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:977,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:972,columnNumber:21},void 0),p.filename&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1 truncate",title:p.filename,children:p.filename},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:980,columnNumber:23},void 0)]},p.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:966,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:964,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:953,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:927,columnNumber:9},void 0),ue&&Ve&&G&&f&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl w-full max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:998,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Ee(!1),le(null)},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ns,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1006,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:999,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:997,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-3",children:f.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1009,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{var p;return(p=se.current)==null?void 0:p.click()},disabled:de.has(G),className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:[e.jsxDEV(tt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1015,columnNumber:17},void 0),de.has(G)?" ...":" "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1010,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:996,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:f.images.length===0?e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsxDEV(Ys,{className:"w-16 h-16 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1023,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1024,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1022,columnNumber:17},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:f.images.map(p=>e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("img",{src:p.image_data,alt:p.filename||"",className:"w-full h-40 object-cover rounded-lg border border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1030,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>Ie(G,p.id),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600",children:e.jsxDEV(Yr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1039,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1035,columnNumber:23},void 0),p.filename&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1 truncate",title:p.filename,children:p.filename},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1042,columnNumber:25},void 0)]},p.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1029,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1027,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1020,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:995,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:994,columnNumber:9},void 0),je!==null&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:[(B=o.find(p=>p.id===je))==null?void 0:B.name," - "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1061,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{Me(null),be(new Set)},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ns,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1071,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1064,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1060,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1059,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"  .    ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1077,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:(v=o.find(p=>p.id===je))==null?void 0:v.items.map(p=>e.jsxDEV("div",{className:"flex items-start gap-3 p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{const S=new Set(re);S.has(p.id)?S.delete(p.id):S.add(p.id),be(S)},children:[e.jsxDEV("input",{type:"checkbox",checked:re.has(p.id),onChange:()=>{},className:"mt-1 w-5 h-5 rounded border-gray-300 text-gray-800 focus:ring-gray-500 cursor-pointer"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1097,columnNumber:23},void 0),e.jsxDEV("span",{className:`flex-1 text-sm ${p.is_completed?"text-gray-500 line-through":"text-gray-900"}`,children:p.content},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1103,columnNumber:23},void 0)]},p.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1084,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1080,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1076,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 border-t border-gray-200 flex gap-2",children:[e.jsxDEV("button",{onClick:fe,disabled:re.size===0,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:["   (",re.size,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1112,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Ce,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1119,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{Me(null),be(new Set)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1125,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1111,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1058,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1057,columnNumber:9},void 0),Ae&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end md:items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-md",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1145,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{He(!1),h("")},className:"p-1 text-gray-600 hover:text-gray-900",children:e.jsxDEV(ns,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1153,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1146,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1144,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1143,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1160,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:b,onChange:p=>h(p.target.value),onKeyPress:p=>{p.key==="Enter"&&b.trim()&&P()},placeholder:"  ",className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1161,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1159,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:()=>{He(!1),h("")},className:"flex-1 px-4 py-2.5 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1177,columnNumber:17},void 0),e.jsxDEV("button",{onClick:P,disabled:!b.trim(),className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1176,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1158,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1142,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:1141,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/FinishCheck.tsx",lineNumber:528,columnNumber:5},void 0)};function Yd(){for(var s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return l.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const Pn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vt(s){const t=Object.prototype.toString.call(s);return t==="[object Window]"||t==="[object global]"}function jr(s){return"nodeType"in s}function Bs(s){var t,n;return s?vt(s)?s:jr(s)&&(t=(n=s.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Lr(s){const{Document:t}=Bs(s);return s instanceof t}function Jt(s){return vt(s)?!1:s instanceof Bs(s).HTMLElement}function Ca(s){return s instanceof Bs(s).SVGElement}function Vt(s){return s?vt(s)?s.document:jr(s)?Lr(s)?s:Jt(s)||Ca(s)?s.ownerDocument:document:document:document}const Xs=Pn?l.useLayoutEffect:l.useEffect;function _r(s){const t=l.useRef(s);return Xs(()=>{t.current=s}),l.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function zd(){const s=l.useRef(null),t=l.useCallback((r,i)=>{s.current=setInterval(r,i)},[]),n=l.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[t,n]}function Wt(s,t){t===void 0&&(t=[s]);const n=l.useRef(s);return Xs(()=>{n.current!==s&&(n.current=s)},t),n}function Qt(s,t){const n=l.useRef();return l.useMemo(()=>{const r=s(n.current);return n.current=r,r},[...t])}function Cn(s){const t=_r(s),n=l.useRef(null),r=l.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function cr(s){const t=l.useRef();return l.useEffect(()=>{t.current=s},[s]),t.current}let Jn={};function Xt(s,t){return l.useMemo(()=>{if(t)return t;const n=Jn[s]==null?0:Jn[s]+1;return Jn[s]=n,s+"-"+n},[s,t])}function Ea(s){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const m=Object.entries(o);for(const[N,y]of m){const b=a[N];b!=null&&(a[N]=b+s*y)}return a},{...t})}}const yt=Ea(1),Ot=Ea(-1);function Kd(s){return"clientX"in s&&"clientY"in s}function Hr(s){if(!s)return!1;const{KeyboardEvent:t}=Bs(s.target);return t&&s instanceof t}function Jd(s){if(!s)return!1;const{TouchEvent:t}=Bs(s.target);return t&&s instanceof t}function ur(s){if(Jd(s)){if(s.touches&&s.touches.length){const{clientX:t,clientY:n}=s.touches[0];return{x:t,y:n}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:t,clientY:n}=s.changedTouches[0];return{x:t,y:n}}}return Kd(s)?{x:s.clientX,y:s.clientY}:null}const kt=Object.freeze({Translate:{toString(s){if(!s)return;const{x:t,y:n}=s;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:t,scaleY:n}=s;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(s){if(s)return[kt.Translate.toString(s),kt.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:t,duration:n,easing:r}=s;return t+" "+n+"ms "+r}}}),Di="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Qd(s){return s.matches(Di)?s:s.querySelector(Di)}const Xd={display:"none"};function Gd(s){let{id:t,value:n}=s;return Ze.createElement("div",{id:t,style:Xd},n)}function Zd(s){let{id:t,announcement:n,ariaLiveType:r="assertive"}=s;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ze.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function ec(){const[s,t]=l.useState("");return{announce:l.useCallback(r=>{r!=null&&t(r)},[]),announcement:s}}const Aa=l.createContext(null);function sc(s){const t=l.useContext(Aa);l.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(s)},[s,t])}function tc(){const[s]=l.useState(()=>new Set),t=l.useCallback(r=>(s.add(r),()=>s.delete(r)),[s]);return[l.useCallback(r=>{let{type:i,event:a}=r;s.forEach(o=>{var m;return(m=o[i])==null?void 0:m.call(o,a)})},[s]),t]}const nc={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},rc={onDragStart(s){let{active:t}=s;return"Picked up draggable item "+t.id+"."},onDragOver(s){let{active:t,over:n}=s;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(s){let{active:t,over:n}=s;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(s){let{active:t}=s;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ic(s){let{announcements:t=rc,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=nc}=s;const{announce:a,announcement:o}=ec(),m=Xt("DndLiveRegion"),[N,y]=l.useState(!1);if(l.useEffect(()=>{y(!0)},[]),sc(l.useMemo(()=>({onDragStart(h){let{active:C}=h;a(t.onDragStart({active:C}))},onDragMove(h){let{active:C,over:k}=h;t.onDragMove&&a(t.onDragMove({active:C,over:k}))},onDragOver(h){let{active:C,over:k}=h;a(t.onDragOver({active:C,over:k}))},onDragEnd(h){let{active:C,over:k}=h;a(t.onDragEnd({active:C,over:k}))},onDragCancel(h){let{active:C,over:k}=h;a(t.onDragCancel({active:C,over:k}))}}),[a,t])),!N)return null;const b=Ze.createElement(Ze.Fragment,null,Ze.createElement(Gd,{id:r,value:i.draggable}),Ze.createElement(Zd,{id:m,announcement:o}));return n?xt.createPortal(b,n):b}var vs;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})(vs||(vs={}));function En(){}function vi(s,t){return l.useMemo(()=>({sensor:s,options:t??{}}),[s,t])}function ac(){for(var s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return l.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const qs=Object.freeze({x:0,y:0});function wa(s,t){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function ja(s,t){let{data:{value:n}}=s,{data:{value:r}}=t;return n-r}function oc(s,t){let{data:{value:n}}=s,{data:{value:r}}=t;return r-n}function Vi(s){let{left:t,top:n,height:r,width:i}=s;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function La(s,t){if(!s||s.length===0)return null;const[n]=s;return n[t]}function Ci(s,t,n){return t===void 0&&(t=s.left),n===void 0&&(n=s.top),{x:t+s.width*.5,y:n+s.height*.5}}const Ei=s=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=s;const i=Ci(t,t.left,t.top),a=[];for(const o of r){const{id:m}=o,N=n.get(m);if(N){const y=wa(Ci(N),i);a.push({id:m,data:{droppableContainer:o,value:y}})}}return a.sort(ja)},mc=s=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=s;const i=Vi(t),a=[];for(const o of r){const{id:m}=o,N=n.get(m);if(N){const y=Vi(N),b=i.reduce((C,k,z)=>C+wa(y[z],k),0),h=Number((b/4).toFixed(4));a.push({id:m,data:{droppableContainer:o,value:h}})}}return a.sort(ja)};function lc(s,t){const n=Math.max(t.top,s.top),r=Math.max(t.left,s.left),i=Math.min(t.left+t.width,s.left+s.width),a=Math.min(t.top+t.height,s.top+s.height),o=i-r,m=a-n;if(r<i&&n<a){const N=t.width*t.height,y=s.width*s.height,b=o*m,h=b/(N+y-b);return Number(h.toFixed(4))}return 0}const dc=s=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=s;const i=[];for(const a of r){const{id:o}=a,m=n.get(o);if(m){const N=lc(m,t);N>0&&i.push({id:o,data:{droppableContainer:a,value:N}})}}return i.sort(oc)};function cc(s,t,n){return{...s,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function _a(s,t){return s&&t?{x:s.left-t.left,y:s.top-t.top}:qs}function uc(s){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,m)=>({...o,top:o.top+s*m.y,bottom:o.bottom+s*m.y,left:o.left+s*m.x,right:o.right+s*m.x}),{...n})}}const pc=uc(1);function fc(s){if(s.startsWith("matrix3d(")){const t=s.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(s.startsWith("matrix(")){const t=s.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function gc(s,t,n){const r=fc(t);if(!r)return s;const{scaleX:i,scaleY:a,x:o,y:m}=r,N=s.left-o-(1-i)*parseFloat(n),y=s.top-m-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),b=i?s.width/i:s.width,h=a?s.height/a:s.height;return{width:b,height:h,top:y,right:N+b,bottom:y+h,left:N}}const Nc={ignoreTransform:!1};function Ct(s,t){t===void 0&&(t=Nc);let n=s.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:b}=Bs(s).getComputedStyle(s);y&&(n=gc(n,y,b))}const{top:r,left:i,width:a,height:o,bottom:m,right:N}=n;return{top:r,left:i,width:a,height:o,bottom:m,right:N}}function Ai(s){return Ct(s,{ignoreTransform:!0})}function bc(s){const t=s.innerWidth,n=s.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function xc(s,t){return t===void 0&&(t=Bs(s).getComputedStyle(s)),t.position==="fixed"}function yc(s,t){t===void 0&&(t=Bs(s).getComputedStyle(s));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function Rn(s,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Lr(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Jt(i)||Ca(i)||n.includes(i))return n;const a=Bs(s).getComputedStyle(i);return i!==s&&yc(i,a)&&n.push(i),xc(i,a)?n:r(i.parentNode)}return s?r(s):n}function Ha(s){const[t]=Rn(s,1);return t??null}function Qn(s){return!Pn||!s?null:vt(s)?s:jr(s)?Lr(s)||s===Vt(s).scrollingElement?window:Jt(s)?s:null:null}function Ba(s){return vt(s)?s.scrollX:s.scrollLeft}function Ua(s){return vt(s)?s.scrollY:s.scrollTop}function pr(s){return{x:Ba(s),y:Ua(s)}}var As;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(As||(As={}));function Sa(s){return!Pn||!s?!1:s===document.scrollingElement}function Pa(s){const t={x:0,y:0},n=Sa(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},r={x:s.scrollWidth-n.width,y:s.scrollHeight-n.height},i=s.scrollTop<=t.y,a=s.scrollLeft<=t.x,o=s.scrollTop>=r.y,m=s.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:m,maxScroll:r,minScroll:t}}const hc={x:.2,y:.2};function kc(s,t,n,r,i){let{top:a,left:o,right:m,bottom:N}=n;r===void 0&&(r=10),i===void 0&&(i=hc);const{isTop:y,isBottom:b,isLeft:h,isRight:C}=Pa(s),k={x:0,y:0},z={x:0,y:0},E={height:t.height*i.y,width:t.width*i.x};return!y&&a<=t.top+E.height?(k.y=As.Backward,z.y=r*Math.abs((t.top+E.height-a)/E.height)):!b&&N>=t.bottom-E.height&&(k.y=As.Forward,z.y=r*Math.abs((t.bottom-E.height-N)/E.height)),!C&&m>=t.right-E.width?(k.x=As.Forward,z.x=r*Math.abs((t.right-E.width-m)/E.width)):!h&&o<=t.left+E.width&&(k.x=As.Backward,z.x=r*Math.abs((t.left+E.width-o)/E.width)),{direction:k,speed:z}}function Dc(s){if(s===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:i}=s.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:s.clientWidth,height:s.clientHeight}}function Ra(s){return s.reduce((t,n)=>yt(t,pr(n)),qs)}function vc(s){return s.reduce((t,n)=>t+Ba(n),0)}function Vc(s){return s.reduce((t,n)=>t+Ua(n),0)}function Cc(s,t){if(t===void 0&&(t=Ct),!s)return;const{top:n,left:r,bottom:i,right:a}=t(s);Ha(s)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const Ec=[["x",["left","right"],vc],["y",["top","bottom"],Vc]];class Br{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Rn(n),i=Ra(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,m]of Ec)for(const N of o)Object.defineProperty(this,N,{get:()=>{const y=m(r),b=i[a]-y;return this.rect[N]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Rt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Ac(s){const{EventTarget:t}=Bs(s);return s instanceof t?s:Vt(s)}function Xn(s,t){const n=Math.abs(s.x),r=Math.abs(s.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Ss;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(Ss||(Ss={}));function wi(s){s.preventDefault()}function wc(s){s.stopPropagation()}var os;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(os||(os={}));const Ma={start:[os.Space,os.Enter],cancel:[os.Esc],end:[os.Space,os.Enter,os.Tab]},jc=(s,t)=>{let{currentCoordinates:n}=t;switch(s.code){case os.Right:return{...n,x:n.x+25};case os.Left:return{...n,x:n.x-25};case os.Down:return{...n,y:n.y+25};case os.Up:return{...n,y:n.y-25}}};class Ur{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Rt(Vt(n)),this.windowListeners=new Rt(Bs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ss.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Cc(r),n(qs)}handleKeyDown(t){if(Hr(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=Ma,coordinateGetter:o=jc,scrollBehavior:m="smooth"}=i,{code:N}=t;if(a.end.includes(N)){this.handleEnd(t);return}if(a.cancel.includes(N)){this.handleCancel(t);return}const{collisionRect:y}=r.current,b=y?{x:y.left,y:y.top}:qs;this.referenceCoordinates||(this.referenceCoordinates=b);const h=o(t,{active:n,context:r.current,currentCoordinates:b});if(h){const C=Ot(h,b),k={x:0,y:0},{scrollableAncestors:z}=r.current;for(const E of z){const J=t.code,{isTop:K,isRight:D,isLeft:O,isBottom:ee,maxScroll:Z,minScroll:U}=Pa(E),Y=Dc(E),G={x:Math.min(J===os.Right?Y.right-Y.width/2:Y.right,Math.max(J===os.Right?Y.left:Y.left+Y.width/2,h.x)),y:Math.min(J===os.Down?Y.bottom-Y.height/2:Y.bottom,Math.max(J===os.Down?Y.top:Y.top+Y.height/2,h.y))},le=J===os.Right&&!D||J===os.Left&&!O,de=J===os.Down&&!ee||J===os.Up&&!K;if(le&&G.x!==h.x){const ke=E.scrollLeft+C.x,se=J===os.Right&&ke<=Z.x||J===os.Left&&ke>=U.x;if(se&&!C.y){E.scrollTo({left:ke,behavior:m});return}se?k.x=E.scrollLeft-ke:k.x=J===os.Right?E.scrollLeft-Z.x:E.scrollLeft-U.x,k.x&&E.scrollBy({left:-k.x,behavior:m});break}else if(de&&G.y!==h.y){const ke=E.scrollTop+C.y,se=J===os.Down&&ke<=Z.y||J===os.Up&&ke>=U.y;if(se&&!C.x){E.scrollTo({top:ke,behavior:m});return}se?k.y=E.scrollTop-ke:k.y=J===os.Down?E.scrollTop-Z.y:E.scrollTop-U.y,k.y&&E.scrollBy({top:-k.y,behavior:m});break}}this.handleMove(t,yt(Ot(h,this.referenceCoordinates),k))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ur.activators=[{eventName:"onKeyDown",handler:(s,t,n)=>{let{keyboardCodes:r=Ma,onActivation:i}=t,{active:a}=n;const{code:o}=s.nativeEvent;if(r.start.includes(o)){const m=a.activatorNode.current;return m&&s.target!==m?!1:(s.preventDefault(),i==null||i({event:s.nativeEvent}),!0)}return!1}}];function ji(s){return!!(s&&"distance"in s)}function Li(s){return!!(s&&"delay"in s)}class Sr{constructor(t,n,r){var i;r===void 0&&(r=Ac(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=Vt(o),this.documentListeners=new Rt(this.document),this.listeners=new Rt(r),this.windowListeners=new Rt(Bs(o)),this.initialCoordinates=(i=ur(a))!=null?i:qs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.DragStart,wi),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),this.windowListeners.add(Ss.ContextMenu,wi),this.documentListeners.add(Ss.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Li(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ji(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ss.Click,wc,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ss.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:m}}=a;if(!i)return;const N=(n=ur(t))!=null?n:qs,y=Ot(i,N);if(!r&&m){if(ji(m)){if(m.tolerance!=null&&Xn(y,m.tolerance))return this.handleCancel();if(Xn(y,m.distance))return this.handleStart()}if(Li(m)&&Xn(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}t.cancelable&&t.preventDefault(),o(N)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===os.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Lc={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Pr extends Sr{constructor(t){const{event:n}=t,r=Vt(n.target);super(t,Lc,r)}}Pr.activators=[{eventName:"onPointerDown",handler:(s,t)=>{let{nativeEvent:n}=s,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const _c={move:{name:"mousemove"},end:{name:"mouseup"}};var fr;(function(s){s[s.RightClick=2]="RightClick"})(fr||(fr={}));class Hc extends Sr{constructor(t){super(t,_c,Vt(t.event.target))}}Hc.activators=[{eventName:"onMouseDown",handler:(s,t)=>{let{nativeEvent:n}=s,{onActivation:r}=t;return n.button===fr.RightClick?!1:(r==null||r({event:n}),!0)}}];const Gn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Bc extends Sr{constructor(t){super(t,Gn)}static setup(){return window.addEventListener(Gn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Gn.move.name,t)};function t(){}}}Bc.activators=[{eventName:"onTouchStart",handler:(s,t)=>{let{nativeEvent:n}=s,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Mt;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(Mt||(Mt={}));var An;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(An||(An={}));function Uc(s){let{acceleration:t,activator:n=Mt.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:m=An.TreeOrder,pointerCoordinates:N,scrollableAncestors:y,scrollableAncestorRects:b,delta:h,threshold:C}=s;const k=Pc({delta:h,disabled:!a}),[z,E]=zd(),J=l.useRef({x:0,y:0}),K=l.useRef({x:0,y:0}),D=l.useMemo(()=>{switch(n){case Mt.Pointer:return N?{top:N.y,bottom:N.y,left:N.x,right:N.x}:null;case Mt.DraggableRect:return i}},[n,i,N]),O=l.useRef(null),ee=l.useCallback(()=>{const U=O.current;if(!U)return;const Y=J.current.x*K.current.x,G=J.current.y*K.current.y;U.scrollBy(Y,G)},[]),Z=l.useMemo(()=>m===An.TreeOrder?[...y].reverse():y,[m,y]);l.useEffect(()=>{if(!a||!y.length||!D){E();return}for(const U of Z){if((r==null?void 0:r(U))===!1)continue;const Y=y.indexOf(U),G=b[Y];if(!G)continue;const{direction:le,speed:de}=kc(U,G,D,t,C);for(const ke of["x","y"])k[ke][le[ke]]||(de[ke]=0,le[ke]=0);if(de.x>0||de.y>0){E(),O.current=U,z(ee,o),J.current=de,K.current=le;return}}J.current={x:0,y:0},K.current={x:0,y:0},E()},[t,ee,r,E,a,o,JSON.stringify(D),JSON.stringify(k),z,y,Z,b,JSON.stringify(C)])}const Sc={x:{[As.Backward]:!1,[As.Forward]:!1},y:{[As.Backward]:!1,[As.Forward]:!1}};function Pc(s){let{delta:t,disabled:n}=s;const r=cr(t);return Qt(i=>{if(n||!r||!i)return Sc;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[As.Backward]:i.x[As.Backward]||a.x===-1,[As.Forward]:i.x[As.Forward]||a.x===1},y:{[As.Backward]:i.y[As.Backward]||a.y===-1,[As.Forward]:i.y[As.Forward]||a.y===1}}},[n,t,r])}function Rc(s,t){const n=t!=null?s.get(t):void 0,r=n?n.node.current:null;return Qt(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function Mc(s,t){return l.useMemo(()=>s.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[s,t])}var $t;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})($t||($t={}));var gr;(function(s){s.Optimized="optimized"})(gr||(gr={}));const _i=new Map;function Ic(s,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=l.useState(null),{frequency:m,measure:N,strategy:y}=i,b=l.useRef(s),h=J(),C=Wt(h),k=l.useCallback(function(K){K===void 0&&(K=[]),!C.current&&o(D=>D===null?K:D.concat(K.filter(O=>!D.includes(O))))},[C]),z=l.useRef(null),E=Qt(K=>{if(h&&!n)return _i;if(!K||K===_i||b.current!==s||a!=null){const D=new Map;for(let O of s){if(!O)continue;if(a&&a.length>0&&!a.includes(O.id)&&O.rect.current){D.set(O.id,O.rect.current);continue}const ee=O.node.current,Z=ee?new Br(N(ee),ee):null;O.rect.current=Z,Z&&D.set(O.id,Z)}return D}return K},[s,a,n,h,N]);return l.useEffect(()=>{b.current=s},[s]),l.useEffect(()=>{h||k()},[n,h]),l.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),l.useEffect(()=>{h||typeof m!="number"||z.current!==null||(z.current=setTimeout(()=>{k(),z.current=null},m))},[m,h,k,...r]),{droppableRects:E,measureDroppableContainers:k,measuringScheduled:a!=null};function J(){switch(y){case $t.Always:return!1;case $t.BeforeDragging:return n;default:return!n}}}function Ia(s,t){return Qt(n=>s?n||(typeof t=="function"?t(s):s):null,[t,s])}function Tc(s,t){return Ia(s,t)}function Fc(s){let{callback:t,disabled:n}=s;const r=_r(t),i=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return l.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Mn(s){let{callback:t,disabled:n}=s;const r=_r(t),i=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return l.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function qc(s){return new Br(Ct(s),s)}function Hi(s,t,n){t===void 0&&(t=qc);const[r,i]=l.useState(null);function a(){i(N=>{if(!s)return null;if(s.isConnected===!1){var y;return(y=N??n)!=null?y:null}const b=t(s);return JSON.stringify(N)===JSON.stringify(b)?N:b})}const o=Fc({callback(N){if(s)for(const y of N){const{type:b,target:h}=y;if(b==="childList"&&h instanceof HTMLElement&&h.contains(s)){a();break}}}}),m=Mn({callback:a});return Xs(()=>{a(),s?(m==null||m.observe(s),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(m==null||m.disconnect(),o==null||o.disconnect())},[s]),r}function Wc(s){const t=Ia(s);return _a(s,t)}const Bi=[];function Oc(s){const t=l.useRef(s),n=Qt(r=>s?r&&r!==Bi&&s&&t.current&&s.parentNode===t.current.parentNode?r:Rn(s):Bi,[s]);return l.useEffect(()=>{t.current=s},[s]),n}function $c(s){const[t,n]=l.useState(null),r=l.useRef(s),i=l.useCallback(a=>{const o=Qn(a.target);o&&n(m=>m?(m.set(o,pr(o)),new Map(m)):null)},[]);return l.useEffect(()=>{const a=r.current;if(s!==a){o(a);const m=s.map(N=>{const y=Qn(N);return y?(y.addEventListener("scroll",i,{passive:!0}),[y,pr(y)]):null}).filter(N=>N!=null);n(m.length?new Map(m):null),r.current=s}return()=>{o(s),o(a)};function o(m){m.forEach(N=>{const y=Qn(N);y==null||y.removeEventListener("scroll",i)})}},[i,s]),l.useMemo(()=>s.length?t?Array.from(t.values()).reduce((a,o)=>yt(a,o),qs):Ra(s):qs,[s,t])}function Ui(s,t){t===void 0&&(t=[]);const n=l.useRef(null);return l.useEffect(()=>{n.current=null},t),l.useEffect(()=>{const r=s!==qs;r&&!n.current&&(n.current=s),!r&&n.current&&(n.current=null)},[s]),n.current?Ot(s,n.current):qs}function Yc(s){l.useEffect(()=>{if(!Pn)return;const t=s.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},s.map(t=>{let{sensor:n}=t;return n}))}function zc(s,t){return l.useMemo(()=>s.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,t)},n},{}),[s,t])}function Ta(s){return l.useMemo(()=>s?bc(s):null,[s])}const Si=[];function Kc(s,t){t===void 0&&(t=Ct);const[n]=s,r=Ta(n?Bs(n):null),[i,a]=l.useState(Si);function o(){a(()=>s.length?s.map(N=>Sa(N)?r:new Br(t(N),N)):Si)}const m=Mn({callback:o});return Xs(()=>{m==null||m.disconnect(),o(),s.forEach(N=>m==null?void 0:m.observe(N))},[s]),i}function Jc(s){if(!s)return null;if(s.children.length>1)return s;const t=s.children[0];return Jt(t)?t:s}function Qc(s){let{measure:t}=s;const[n,r]=l.useState(null),i=l.useCallback(y=>{for(const{target:b}of y)if(Jt(b)){r(h=>{const C=t(b);return h?{...h,width:C.width,height:C.height}:C});break}},[t]),a=Mn({callback:i}),o=l.useCallback(y=>{const b=Jc(y);a==null||a.disconnect(),b&&(a==null||a.observe(b)),r(b?t(b):null)},[t,a]),[m,N]=Cn(o);return l.useMemo(()=>({nodeRef:m,rect:n,setRef:N}),[n,m,N])}const Xc=[{sensor:Pr,options:{}},{sensor:Ur,options:{}}],Gc={current:{}},bn={draggable:{measure:Ai},droppable:{measure:Ai,strategy:$t.WhileDragging,frequency:gr.Optimized},dragOverlay:{measure:Ct}};class It extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Zc={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new It,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:En},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:bn,measureDroppableContainers:En,windowRect:null,measuringScheduled:!1},eu={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:En,draggableNodes:new Map,over:null,measureDroppableContainers:En},In=l.createContext(eu),Fa=l.createContext(Zc);function su(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new It}}}function tu(s,t){switch(t.type){case vs.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case vs.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:t.coordinates.x-s.draggable.initialCoordinates.x,y:t.coordinates.y-s.draggable.initialCoordinates.y}}};case vs.DragEnd:case vs.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vs.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new It(s.droppable.containers);return i.set(r,n),{...s,droppable:{...s.droppable,containers:i}}}case vs.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=s.droppable.containers.get(n);if(!a||r!==a.key)return s;const o=new It(s.droppable.containers);return o.set(n,{...a,disabled:i}),{...s,droppable:{...s.droppable,containers:o}}}case vs.UnregisterDroppable:{const{id:n,key:r}=t,i=s.droppable.containers.get(n);if(!i||r!==i.key)return s;const a=new It(s.droppable.containers);return a.delete(n),{...s,droppable:{...s.droppable,containers:a}}}default:return s}}function nu(s){let{disabled:t}=s;const{active:n,activatorEvent:r,draggableNodes:i}=l.useContext(In),a=cr(r),o=cr(n==null?void 0:n.id);return l.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!Hr(a)||document.activeElement===a.target)return;const m=i.get(o);if(!m)return;const{activatorNode:N,node:y}=m;if(!N.current&&!y.current)return;requestAnimationFrame(()=>{for(const b of[N.current,y.current]){if(!b)continue;const h=Qd(b);if(h){h.focus();break}}})}},[r,t,i,o,a]),null}function ru(s,t){let{transform:n,...r}=t;return s!=null&&s.length?s.reduce((i,a)=>a({transform:i,...r}),n):n}function iu(s){return l.useMemo(()=>({draggable:{...bn.draggable,...s==null?void 0:s.draggable},droppable:{...bn.droppable,...s==null?void 0:s.droppable},dragOverlay:{...bn.dragOverlay,...s==null?void 0:s.dragOverlay}}),[s==null?void 0:s.draggable,s==null?void 0:s.droppable,s==null?void 0:s.dragOverlay])}function au(s){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=s;const a=l.useRef(!1),{x:o,y:m}=typeof i=="boolean"?{x:i,y:i}:i;Xs(()=>{if(!o&&!m||!t){a.current=!1;return}if(a.current||!r)return;const y=t==null?void 0:t.node.current;if(!y||y.isConnected===!1)return;const b=n(y),h=_a(b,r);if(o||(h.x=0),m||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const C=Ha(y);C&&C.scrollBy({top:h.y,left:h.x})}},[t,o,m,r,n])}const qa=l.createContext({...qs,scaleX:1,scaleY:1});var it;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})(it||(it={}));const Pi=l.memo(function(t){var n,r,i,a;let{id:o,accessibility:m,autoScroll:N=!0,children:y,sensors:b=Xc,collisionDetection:h=dc,measuring:C,modifiers:k,...z}=t;const E=l.useReducer(tu,void 0,su),[J,K]=E,[D,O]=tc(),[ee,Z]=l.useState(it.Uninitialized),U=ee===it.Initialized,{draggable:{active:Y,nodes:G,translate:le},droppable:{containers:de}}=J,ke=Y!=null?G.get(Y):null,se=l.useRef({initial:null,translated:null}),ue=l.useMemo(()=>{var es;return Y!=null?{id:Y,data:(es=ke==null?void 0:ke.data)!=null?es:Gc,rect:se}:null},[Y,ke]),oe=l.useRef(null),[Ve,Ee]=l.useState(null),[je,Me]=l.useState(null),re=Wt(z,Object.values(z)),be=Xt("DndDescribedBy",o),we=l.useMemo(()=>de.getEnabled(),[de]),Ne=iu(C),{droppableRects:Ae,measureDroppableContainers:He,measuringScheduled:Le}=Ic(we,{dragging:U,dependencies:[le.x,le.y],config:Ne.droppable}),Se=Rc(G,Y),P=l.useMemo(()=>je?ur(je):null,[je]),I=Ge(),M=Tc(Se,Ne.draggable.measure);au({activeNode:Y!=null?G.get(Y):null,config:I.layoutShiftCompensation,initialRect:M,measure:Ne.draggable.measure});const fe=Hi(Se,Ne.draggable.measure,M),Ce=Hi(Se?Se.parentElement:null),W=l.useRef({activatorEvent:null,active:null,activeNode:Se,collisionRect:null,collisions:null,droppableRects:Ae,draggableNodes:G,draggingNode:null,draggingNodeRect:null,droppableContainers:de,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ce=de.getNodeFor((n=W.current.over)==null?void 0:n.id),w=Qc({measure:Ne.dragOverlay.measure}),T=(r=w.nodeRef.current)!=null?r:Se,ae=U?(i=w.rect)!=null?i:fe:null,ye=!!(w.nodeRef.current&&w.rect),Ie=Wc(ye?null:fe),Ue=Ta(T?Bs(T):null),R=Oc(U?ce??Se:null),f=Kc(R),B=ru(k,{transform:{x:le.x-Ie.x,y:le.y-Ie.y,scaleX:1,scaleY:1},activatorEvent:je,active:ue,activeNodeRect:fe,containerNodeRect:Ce,draggingNodeRect:ae,over:W.current.over,overlayNodeRect:w.rect,scrollableAncestors:R,scrollableAncestorRects:f,windowRect:Ue}),v=P?yt(P,le):null,p=$c(R),S=Ui(p),d=Ui(p,[fe]),q=yt(B,S),x=ae?pc(ae,B):null,V=ue&&x?h({active:ue,collisionRect:x,droppableRects:Ae,droppableContainers:we,pointerCoordinates:v}):null,te=La(V,"id"),[X,ge]=l.useState(null),pe=ye?B:yt(B,d),he=cc(pe,(a=X==null?void 0:X.rect)!=null?a:null,fe),Pe=l.useRef(null),$e=l.useCallback((es,is)=>{let{sensor:us,options:bs}=is;if(oe.current==null)return;const fs=G.get(oe.current);if(!fs)return;const L=es.nativeEvent,ne=new us({active:oe.current,activeNode:fs,event:L,options:bs,context:W,onAbort(H){if(!G.get(H))return;const{onDragAbort:A}=re.current,j={id:H};A==null||A(j),D({type:"onDragAbort",event:j})},onPending(H,c,A,j){if(!G.get(H))return;const{onDragPending:u}=re.current,$={id:H,constraint:c,initialCoordinates:A,offset:j};u==null||u($),D({type:"onDragPending",event:$})},onStart(H){const c=oe.current;if(c==null)return;const A=G.get(c);if(!A)return;const{onDragStart:j}=re.current,Q={activatorEvent:L,active:{id:c,data:A.data,rect:se}};xt.unstable_batchedUpdates(()=>{j==null||j(Q),Z(it.Initializing),K({type:vs.DragStart,initialCoordinates:H,active:c}),D({type:"onDragStart",event:Q}),Ee(Pe.current),Me(L)})},onMove(H){K({type:vs.DragMove,coordinates:H})},onEnd:g(vs.DragEnd),onCancel:g(vs.DragCancel)});Pe.current=ne;function g(H){return async function(){const{active:A,collisions:j,over:Q,scrollAdjustedTranslate:u}=W.current;let $=null;if(A&&u){const{cancelDrop:ie}=re.current;$={activatorEvent:L,active:A,collisions:j,delta:u,over:Q},H===vs.DragEnd&&typeof ie=="function"&&await Promise.resolve(ie($))&&(H=vs.DragCancel)}oe.current=null,xt.unstable_batchedUpdates(()=>{K({type:H}),Z(it.Uninitialized),ge(null),Ee(null),Me(null),Pe.current=null;const ie=H===vs.DragEnd?"onDragEnd":"onDragCancel";if($){const xe=re.current[ie];xe==null||xe($),D({type:ie,event:$})}})}}},[G]),Re=l.useCallback((es,is)=>(us,bs)=>{const fs=us.nativeEvent,L=G.get(bs);if(oe.current!==null||!L||fs.dndKit||fs.defaultPrevented)return;const ne={active:L};es(us,is.options,ne)===!0&&(fs.dndKit={capturedBy:is.sensor},oe.current=bs,$e(us,is))},[G,$e]),Fe=Mc(b,Re);Yc(b),Xs(()=>{fe&&ee===it.Initializing&&Z(it.Initialized)},[fe,ee]),l.useEffect(()=>{const{onDragMove:es}=re.current,{active:is,activatorEvent:us,collisions:bs,over:fs}=W.current;if(!is||!us)return;const L={active:is,activatorEvent:us,collisions:bs,delta:{x:q.x,y:q.y},over:fs};xt.unstable_batchedUpdates(()=>{es==null||es(L),D({type:"onDragMove",event:L})})},[q.x,q.y]),l.useEffect(()=>{const{active:es,activatorEvent:is,collisions:us,droppableContainers:bs,scrollAdjustedTranslate:fs}=W.current;if(!es||oe.current==null||!is||!fs)return;const{onDragOver:L}=re.current,ne=bs.get(te),g=ne&&ne.rect.current?{id:ne.id,rect:ne.rect.current,data:ne.data,disabled:ne.disabled}:null,H={active:es,activatorEvent:is,collisions:us,delta:{x:fs.x,y:fs.y},over:g};xt.unstable_batchedUpdates(()=>{ge(g),L==null||L(H),D({type:"onDragOver",event:H})})},[te]),Xs(()=>{W.current={activatorEvent:je,active:ue,activeNode:Se,collisionRect:x,collisions:V,droppableRects:Ae,draggableNodes:G,draggingNode:T,draggingNodeRect:ae,droppableContainers:de,over:X,scrollableAncestors:R,scrollAdjustedTranslate:q},se.current={initial:ae,translated:x}},[ue,Se,V,x,G,T,ae,Ae,de,X,R,q]),Uc({...I,delta:le,draggingRect:x,pointerCoordinates:v,scrollableAncestors:R,scrollableAncestorRects:f});const Ye=l.useMemo(()=>({active:ue,activeNode:Se,activeNodeRect:fe,activatorEvent:je,collisions:V,containerNodeRect:Ce,dragOverlay:w,draggableNodes:G,droppableContainers:de,droppableRects:Ae,over:X,measureDroppableContainers:He,scrollableAncestors:R,scrollableAncestorRects:f,measuringConfiguration:Ne,measuringScheduled:Le,windowRect:Ue}),[ue,Se,fe,je,V,Ce,w,G,de,Ae,X,He,R,f,Ne,Le,Ue]),Je=l.useMemo(()=>({activatorEvent:je,activators:Fe,active:ue,activeNodeRect:fe,ariaDescribedById:{draggable:be},dispatch:K,draggableNodes:G,over:X,measureDroppableContainers:He}),[je,Fe,ue,fe,K,be,G,X,He]);return Ze.createElement(Aa.Provider,{value:O},Ze.createElement(In.Provider,{value:Je},Ze.createElement(Fa.Provider,{value:Ye},Ze.createElement(qa.Provider,{value:he},y)),Ze.createElement(nu,{disabled:(m==null?void 0:m.restoreFocus)===!1})),Ze.createElement(ic,{...m,hiddenTextDescribedById:be}));function Ge(){const es=(Ve==null?void 0:Ve.autoScrollEnabled)===!1,is=typeof N=="object"?N.enabled===!1:N===!1,us=U&&!es&&!is;return typeof N=="object"?{...N,enabled:us}:{enabled:us}}}),ou=l.createContext(null),Ri="button",mu="Draggable";function lu(s){let{id:t,data:n,disabled:r=!1,attributes:i}=s;const a=Xt(mu),{activators:o,activatorEvent:m,active:N,activeNodeRect:y,ariaDescribedById:b,draggableNodes:h,over:C}=l.useContext(In),{role:k=Ri,roleDescription:z="draggable",tabIndex:E=0}=i??{},J=(N==null?void 0:N.id)===t,K=l.useContext(J?qa:ou),[D,O]=Cn(),[ee,Z]=Cn(),U=zc(o,t),Y=Wt(n);Xs(()=>(h.set(t,{id:t,key:a,node:D,activatorNode:ee,data:Y}),()=>{const le=h.get(t);le&&le.key===a&&h.delete(t)}),[h,t]);const G=l.useMemo(()=>({role:k,tabIndex:E,"aria-disabled":r,"aria-pressed":J&&k===Ri?!0:void 0,"aria-roledescription":z,"aria-describedby":b.draggable}),[r,k,E,J,z,b.draggable]);return{active:N,activatorEvent:m,activeNodeRect:y,attributes:G,isDragging:J,listeners:r?void 0:U,node:D,over:C,setNodeRef:O,setActivatorNodeRef:Z,transform:K}}function du(){return l.useContext(Fa)}const cu="Droppable",uu={timeout:25};function pu(s){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=s;const a=Xt(cu),{active:o,dispatch:m,over:N,measureDroppableContainers:y}=l.useContext(In),b=l.useRef({disabled:n}),h=l.useRef(!1),C=l.useRef(null),k=l.useRef(null),{disabled:z,updateMeasurementsFor:E,timeout:J}={...uu,...i},K=Wt(E??r),D=l.useCallback(()=>{if(!h.current){h.current=!0;return}k.current!=null&&clearTimeout(k.current),k.current=setTimeout(()=>{y(Array.isArray(K.current)?K.current:[K.current]),k.current=null},J)},[J]),O=Mn({callback:D,disabled:z||!o}),ee=l.useCallback((G,le)=>{O&&(le&&(O.unobserve(le),h.current=!1),G&&O.observe(G))},[O]),[Z,U]=Cn(ee),Y=Wt(t);return l.useEffect(()=>{!O||!Z.current||(O.disconnect(),h.current=!1,O.observe(Z.current))},[Z,O]),l.useEffect(()=>(m({type:vs.RegisterDroppable,element:{id:r,key:a,disabled:n,node:Z,rect:C,data:Y}}),()=>m({type:vs.UnregisterDroppable,key:a,id:r})),[r]),l.useEffect(()=>{n!==b.current.disabled&&(m({type:vs.SetDroppableDisabled,id:r,key:a,disabled:n}),b.current.disabled=n)},[r,a,n,m]),{active:o,rect:C,isOver:(N==null?void 0:N.id)===r,node:Z,over:N,setNodeRef:U}}function wn(s,t,n){const r=s.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function fu(s,t){return s.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(s.length))}function mn(s){return s!==null&&s>=0}function gu(s,t){if(s===t)return!0;if(s.length!==t.length)return!1;for(let n=0;n<s.length;n++)if(s[n]!==t[n])return!1;return!0}function Nu(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const Wa=s=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=s;const a=wn(t,r,n),o=t[i],m=a[i];return!m||!o?null:{x:m.left-o.left,y:m.top-o.top,scaleX:m.width/o.width,scaleY:m.height/o.height}},ln={scaleX:1,scaleY:1},Mi=s=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=s;const m=(t=a[n])!=null?t:r;if(!m)return null;if(i===n){const y=a[o];return y?{x:0,y:n<o?y.top+y.height-(m.top+m.height):y.top-m.top,...ln}:null}const N=bu(a,i,n);return i>n&&i<=o?{x:0,y:-m.height-N,...ln}:i<n&&i>=o?{x:0,y:m.height+N,...ln}:{x:0,y:0,...ln}};function bu(s,t,n){const r=s[t],i=s[t-1],a=s[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Oa="Sortable",$a=Ze.createContext({activeIndex:-1,containerId:Oa,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Wa,disabled:{draggable:!1,droppable:!1}});function Ii(s){let{children:t,id:n,items:r,strategy:i=Wa,disabled:a=!1}=s;const{active:o,dragOverlay:m,droppableRects:N,over:y,measureDroppableContainers:b}=du(),h=Xt(Oa,n),C=m.rect!==null,k=l.useMemo(()=>r.map(U=>typeof U=="object"&&"id"in U?U.id:U),[r]),z=o!=null,E=o?k.indexOf(o.id):-1,J=y?k.indexOf(y.id):-1,K=l.useRef(k),D=!gu(k,K.current),O=J!==-1&&E===-1||D,ee=Nu(a);Xs(()=>{D&&z&&b(k)},[D,k,z,b]),l.useEffect(()=>{K.current=k},[k]);const Z=l.useMemo(()=>({activeIndex:E,containerId:h,disabled:ee,disableTransforms:O,items:k,overIndex:J,useDragOverlay:C,sortedRects:fu(k,N),strategy:i}),[E,h,ee.draggable,ee.droppable,O,k,J,N,C,i]);return Ze.createElement($a.Provider,{value:Z},t)}const xu=s=>{let{id:t,items:n,activeIndex:r,overIndex:i}=s;return wn(n,r,i).indexOf(t)},yu=s=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:m,previousContainerId:N,transition:y}=s;return!y||!r||m!==a&&i===o?!1:n?!0:o!==i&&t===N},hu={duration:200,easing:"ease"},Ya="transform",ku=kt.Transition.toString({property:Ya,duration:0,easing:"linear"}),Du={roleDescription:"sortable"};function vu(s){let{disabled:t,index:n,node:r,rect:i}=s;const[a,o]=l.useState(null),m=l.useRef(n);return Xs(()=>{if(!t&&n!==m.current&&r.current){const N=i.current;if(N){const y=Ct(r.current,{ignoreTransform:!0}),b={x:N.left-y.left,y:N.top-y.top,scaleX:N.width/y.width,scaleY:N.height/y.height};(b.x||b.y)&&o(b)}}n!==m.current&&(m.current=n)},[t,n,r,i]),l.useEffect(()=>{a&&o(null)},[a]),a}function za(s){let{animateLayoutChanges:t=yu,attributes:n,disabled:r,data:i,getNewIndex:a=xu,id:o,strategy:m,resizeObserverConfig:N,transition:y=hu}=s;const{items:b,containerId:h,activeIndex:C,disabled:k,disableTransforms:z,sortedRects:E,overIndex:J,useDragOverlay:K,strategy:D}=l.useContext($a),O=Vu(r,k),ee=b.indexOf(o),Z=l.useMemo(()=>({sortable:{containerId:h,index:ee,items:b},...i}),[h,i,ee,b]),U=l.useMemo(()=>b.slice(b.indexOf(o)),[b,o]),{rect:Y,node:G,isOver:le,setNodeRef:de}=pu({id:o,data:Z,disabled:O.droppable,resizeObserverConfig:{updateMeasurementsFor:U,...N}}),{active:ke,activatorEvent:se,activeNodeRect:ue,attributes:oe,setNodeRef:Ve,listeners:Ee,isDragging:je,over:Me,setActivatorNodeRef:re,transform:be}=lu({id:o,data:Z,attributes:{...Du,...n},disabled:O.draggable}),we=Yd(de,Ve),Ne=!!ke,Ae=Ne&&!z&&mn(C)&&mn(J),He=!K&&je,Le=He&&Ae?be:null,P=Ae?Le??(m??D)({rects:E,activeNodeRect:ue,activeIndex:C,overIndex:J,index:ee}):null,I=mn(C)&&mn(J)?a({id:o,items:b,activeIndex:C,overIndex:J}):ee,M=ke==null?void 0:ke.id,fe=l.useRef({activeId:M,items:b,newIndex:I,containerId:h}),Ce=b!==fe.current.items,W=t({active:ke,containerId:h,isDragging:je,isSorting:Ne,id:o,index:ee,items:b,newIndex:fe.current.newIndex,previousItems:fe.current.items,previousContainerId:fe.current.containerId,transition:y,wasDragging:fe.current.activeId!=null}),ce=vu({disabled:!W,index:ee,node:G,rect:Y});return l.useEffect(()=>{Ne&&fe.current.newIndex!==I&&(fe.current.newIndex=I),h!==fe.current.containerId&&(fe.current.containerId=h),b!==fe.current.items&&(fe.current.items=b)},[Ne,I,h,b]),l.useEffect(()=>{if(M===fe.current.activeId)return;if(M&&!fe.current.activeId){fe.current.activeId=M;return}const T=setTimeout(()=>{fe.current.activeId=M},50);return()=>clearTimeout(T)},[M]),{active:ke,activeIndex:C,attributes:oe,data:Z,rect:Y,index:ee,newIndex:I,items:b,isOver:le,isSorting:Ne,isDragging:je,listeners:Ee,node:G,overIndex:J,over:Me,setNodeRef:we,setActivatorNodeRef:re,setDroppableNodeRef:de,setDraggableNodeRef:Ve,transform:ce??P,transition:w()};function w(){if(ce||Ce&&fe.current.newIndex===ee)return ku;if(!(He&&!Hr(se)||!y)&&(Ne||W))return kt.Transition.toString({...y,property:Ya})}}function Vu(s,t){var n,r;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(n=s==null?void 0:s.draggable)!=null?n:t.draggable,droppable:(r=s==null?void 0:s.droppable)!=null?r:t.droppable}}function jn(s){if(!s)return!1;const t=s.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Cu=[os.Down,os.Right,os.Up,os.Left],Eu=(s,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:m}}=t;if(Cu.includes(s.code)){if(s.preventDefault(),!n||!r)return;const N=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const C=i.get(h.id);if(C)switch(s.code){case os.Down:r.top<C.top&&N.push(h);break;case os.Up:r.top>C.top&&N.push(h);break;case os.Left:r.left>C.left&&N.push(h);break;case os.Right:r.left<C.left&&N.push(h);break}});const y=mc({collisionRect:r,droppableRects:i,droppableContainers:N});let b=La(y,"id");if(b===(o==null?void 0:o.id)&&y.length>1&&(b=y[1].id),b!=null){const h=a.get(n.id),C=a.get(b),k=C?i.get(C.id):null,z=C==null?void 0:C.node.current;if(z&&k&&h&&C){const J=Rn(z).some((U,Y)=>m[Y]!==U),K=Ka(h,C),D=Au(h,C),O=J||!K?{x:0,y:0}:{x:D?r.width-k.width:0,y:D?r.height-k.height:0},ee={x:k.left,y:k.top};return O.x&&O.y?ee:Ot(ee,O)}}}};function Ka(s,t){return!jn(s)||!jn(t)?!1:s.data.current.sortable.containerId===t.data.current.sortable.containerId}function Au(s,t){return!jn(s)||!jn(t)||!Ka(s,t)?!1:s.data.current.sortable.index<t.data.current.sortable.index}const Nr=s=>{if(!s)return"";const t=s.split(",").map(m=>m.trim());if(t.length===0)return"";if(t.length===1)return t[0]===""?"":t[0];const n=["","","",""],r=t.sort((m,N)=>n.indexOf(m)-n.indexOf(N)),i=r[0],a=r[r.length-1];return`${i}-${a===""?"":a}`},br=s=>{if(!s)return"";const t=s.split(",").map(n=>n.trim());return t.includes("")?"bg-purple-100 text-purple-700":t.includes("")?"bg-blue-100 text-blue-700":t.includes("")?"bg-green-100 text-green-700":t.includes("")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"},wu=({item:s,onEdit:t,onDelete:n,onImageClick:r})=>{const{attributes:i,listeners:a,setNodeRef:o,transform:m,transition:N,isDragging:y}=za({id:s.id}),b={transform:kt.Transform.toString(m),transition:N,opacity:y?.5:1};return e.jsxDEV("div",{ref:o,style:b,...i,...a,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 overflow-hidden flex flex-col group relative cursor-move",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 flex-shrink-0 relative",children:[s.image_url?e.jsxDEV("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-contain block cursor-pointer",onClick:h=>{h.stopPropagation(),r(s)},onPointerDown:h=>h.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:121,columnNumber:11},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:132,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{onClick:h=>{h.stopPropagation(),t(s)},onPointerDown:h=>h.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors",title:"",children:e.jsxDEV(Ft,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:148,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:139,columnNumber:11},void 0),e.jsxDEV("button",{onClick:h=>{h.stopPropagation(),n(s.id)},onPointerDown:h=>h.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors",title:"",children:e.jsxDEV(gs,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:159,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:150,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:138,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:119,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:s.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:168,columnNumber:13},void 0),s.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:s.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:172,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:167,columnNumber:11},void 0),s.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1 py-0.5 text-[10px] rounded ${br(s.grade)}`,children:Nr(s.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:176,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:166,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:s.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:183,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:182,columnNumber:11},void 0),s.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[s.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:186,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:181,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:165,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:110,columnNumber:5},void 0)},ju=({category:s,onRemove:t,onEdit:n})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:o,transition:m,isDragging:N}=za({id:s}),y={transform:kt.Transform.toString(o),transition:m,opacity:N?.5:1};return e.jsxDEV("div",{ref:a,style:y,className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 bg-white",children:[e.jsxDEV("div",{className:"flex items-center gap-2 flex-1 cursor-grab active:cursor-grabbing",...r,...i,children:e.jsxDEV("span",{className:"text-sm text-gray-900",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:230,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:225,columnNumber:7},void 0),s!==""&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:b=>{b.stopPropagation(),b.preventDefault(),n(s)},className:"text-gray-600 hover:text-gray-800 transition-colors p-1",title:"",type:"button",children:e.jsxDEV(Ft,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:244,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:234,columnNumber:11},void 0),e.jsxDEV("button",{onClick:b=>{b.stopPropagation(),b.preventDefault(),t(s)},className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"",type:"button",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:256,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:246,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:233,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:220,columnNumber:5},void 0)},Lu=()=>{var Mr;const{user:s}=js(),t=Rs(),n=(s==null?void 0:s.name)==="",[r,i]=l.useState(()=>n||localStorage.getItem("specBook_lastProject")?"project":"library"),[a,o]=l.useState([]),[m,N]=l.useState([]),[y,b]=l.useState([]),[h,C]=l.useState([]),[k,z]=l.useState(""),[E,J]=l.useState([]),[K,D]=l.useState(()=>{const _=localStorage.getItem("specBook_lastProject");return _?Number(_):null}),[O,ee]=l.useState(!0),[Z,U]=l.useState(null),[Y,G]=l.useState({name:"",category:"",brand:"",price:"",grades:[""],imageData:null}),[le,de]=l.useState([]),[ke,se]=l.useState(!1),[ue,oe]=l.useState(!1),[Ve,Ee]=l.useState([]),[je,Me]=l.useState(""),[re,be]=l.useState(!1),[we,Ne]=l.useState(null),[Ae,He]=l.useState([]),[Le,Se]=l.useState(null),[P,I]=l.useState(!1),[M,fe]=l.useState(!1),[Ce,W]=l.useState(1),[ce,w]=l.useState({x:0,y:0}),[T,ae]=l.useState(!1),[ye,Ie]=l.useState({x:0,y:0}),[Ue,R]=l.useState(null),[f,B]=l.useState(null),[v,p]=l.useState(!1),[S,d]=l.useState(0),[q,x]=l.useState(!1),[V,te]=l.useState(null),[X,ge]=l.useState(!1),[pe,he]=l.useState(null),[Pe,$e]=l.useState(null),Re=l.useRef(null),Fe=l.useRef(null),Ye=l.useRef(null),Je=l.useRef([]),Ge=l.useRef(!0),es=ac(vi(Pr),vi(Ur,{coordinateGetter:Eu})),is=(_,me)=>{const _e=_.clientX-me.clientX,ze=_.clientY-me.clientY;return Math.sqrt(_e*_e+ze*ze)},us=(_,me)=>({x:(_.clientX+me.clientX)/2,y:(_.clientY+me.clientY)/2});l.useEffect(()=>(Ge.current=!0,()=>{Ge.current=!1}),[]),l.useEffect(()=>{bs(),L()},[]),l.useEffect(()=>{fs()},[t]),l.useEffect(()=>{g()},[r,k,K,le]),l.useEffect(()=>{r==="project"&&K&&ne()},[r,K]),l.useEffect(()=>{K&&localStorage.setItem("specBook_lastProject",String(K))},[K]);const bs=async()=>{try{const _=await ve.get("/specbook/categories");C(_.data)}catch(_){console.error("  :",_)}},fs=async()=>{try{const _=t.map(_e=>({id:_e.id,title:_e.name}));console.log("  :",_.length,"",_),J(_);const me=localStorage.getItem("specBook_lastProject");if(me&&_.length>0){const _e=Number(me);if(_.find(ls=>ls.id===_e)){D(_e),i("project");return}}n&&_.length>0&&!K&&(D(_[0].id),i("project"))}catch(_){console.error("  :",_)}},L=async()=>{try{const _=await ve.get("/specbook/library");N(_.data)}catch(_){console.error("    :",_)}},ne=async()=>{if(K)try{const _=await ve.get(`/specbook/project/${K}`);b(_.data)}catch(_){console.error("    :",_)}},g=async()=>{try{ee(!0);const _={};k!==""&&(_.category=k),le.length>0&&(_.grades=le.join(","));let me;if(r==="library")me=await ve.get("/specbook/library",{params:_});else{if(!K){o([]),ee(!1);return}me=await ve.get(`/specbook/project/${K}`,{params:_})}Ge.current&&o(me.data)}catch(_){console.error("   :",_),Ge.current&&F.error("   ")}finally{Ge.current&&ee(!1)}},H=_=>r==="library"?_===""?m.length:m.filter(me=>me.category===_).length:_===""?y.length:y.filter(me=>me.category===_).length,c=_=>{_.preventDefault(),se(!1);const me=_.dataTransfer.files[0];if(me&&me.type.startsWith("image/")){const _e=new FileReader;_e.onload=ze=>{var ls;G({...Y,imageData:(ls=ze.target)==null?void 0:ls.result})},_e.readAsDataURL(me)}},A=_=>{var _e;const me=(_e=_.clipboardData)==null?void 0:_e.items;if(me){for(let ze=0;ze<me.length;ze++)if(me[ze].type.indexOf("image")!==-1){const ls=me[ze].getAsFile();if(ls){const ps=new FileReader;ps.onload=Cs=>{var Gs;G({...Y,imageData:(Gs=Cs.target)==null?void 0:Gs.result})},ps.readAsDataURL(ls)}}}};l.useEffect(()=>(document.addEventListener("paste",A),()=>document.removeEventListener("paste",A)),[Y]);const j=_=>{const me=_.replace(/[^\d]/g,"");return me?me.replace(/\B(?=(\d{3})+(?!\d))/g,","):""},Q=_=>{const me=j(_.target.value);G({...Y,price:me})},u=async _=>{var me,_e;if(_.preventDefault(),!Y.name||!Y.category){F.error("  ");return}if(Y.grades.length===0){F.error("   ");return}try{const ze=Y.grades.join(",");if(Z){const ls={name:Y.name,category:Y.category,brand:Y.brand,price:Y.price,grade:ze,description:"",imageData:Y.imageData,projectId:r==="project"?K:null,isLibrary:r==="library"};await ve.put(`/specbook/base64/${Z.id}`,ls),F.success("  ")}else if(r==="project"&&K){const ls={name:Y.name,category:Y.category,brand:Y.brand,price:Y.price,grade:ze,description:"",imageData:Y.imageData,projectId:null,isLibrary:!0};await ve.post("/specbook/base64",ls);const ps={name:Y.name,category:Y.category,brand:Y.brand,price:Y.price,grade:ze,description:"",imageData:Y.imageData,projectId:K,isLibrary:!1};await ve.post("/specbook/base64",ps),F.success("    ")}else{const ls={name:Y.name,category:Y.category,brand:Y.brand,price:Y.price,grade:ze,description:"",imageData:Y.imageData,projectId:null,isLibrary:!0};await ve.post("/specbook/base64",ls),F.success("  ")}U(null),G({name:"",category:k!==""?k:"",brand:"",price:"",grades:[""],imageData:null}),g(),(r==="library"||r==="project"&&!Z)&&L(),r==="project"&&K&&ne()}catch(ze){console.error("   :",ze),F.error(((_e=(me=ze.response)==null?void 0:me.data)==null?void 0:_e.error)||" ")}},$=_=>{U(_);const me=_.grade?_.grade.includes(",")?_.grade.split(","):[_.grade]:[""];G({name:_.name,category:_.category,brand:_.brand,price:_.price,grades:me,imageData:null}),window.scrollTo({top:0,behavior:"smooth"})},ie=async _=>{if(confirm(" ?"))try{await ve.delete(`/specbook/${_}`),F.success("  "),g(),r==="library"?L():r==="project"&&K&&ne()}catch(me){console.error(" :",me),F.error(" ")}},xe=()=>{U(null),G({name:"",category:k!==""?k:"",brand:"",price:"",grades:[""],imageData:null})},Be=_=>{Ne(_);const me=_.sub_images||[];He(me),Je.current=me,be(!0)},Ke=_=>{const me=Array.from(_.target.files||[]);We(me)},We=_=>{_.forEach(me=>{if(me.type.startsWith("image/")||me.type==="application/pdf"){const _e=new FileReader;_e.onload=ze=>{var ps;const ls=(ps=ze.target)==null?void 0:ps.result;He(Cs=>[...Cs,ls])},_e.readAsDataURL(me)}else F.error(`   : ${me.name}`)})},Te=_=>{_.preventDefault(),_.stopPropagation(),I(!1);const me=Array.from(_.dataTransfer.files);We(me)},Xe=_=>{var ze;if(!re)return;const me=(ze=_.clipboardData)==null?void 0:ze.items;if(!me)return;const _e=[];for(let ls=0;ls<me.length;ls++)if(me[ls].type.indexOf("image")!==-1){const ps=me[ls].getAsFile();ps&&_e.push(ps)}_e.length>0&&(We(_e),F.success(`${_e.length}  `))};l.useEffect(()=>{if(re)return document.addEventListener("paste",Xe),()=>document.removeEventListener("paste",Xe)},[re]),l.useEffect(()=>{if(!(!we||!re||!(JSON.stringify(Ae)!==JSON.stringify(Je.current))))return Ye.current&&clearTimeout(Ye.current),Ye.current=setTimeout(async()=>{fe(!0);try{await ve.put(`/specbook/${we.id}/sub-images`,{sub_images:Ae}),Je.current=Ae,g(),r==="library"?L():r==="project"&&K&&ne()}catch(me){console.error("Sub    :",me),F.error("   ")}finally{fe(!1)}},1e3),()=>{Ye.current&&clearTimeout(Ye.current)}},[Ae,we,re]);const ss=_=>{He(me=>me.filter((_e,ze)=>ze!==_))},qe=()=>{Ye.current&&clearTimeout(Ye.current),be(!1),Ne(null),He([]),fe(!1)},Qe=async _=>{const{active:me,over:_e}=_;if(!_e||me.id===_e.id)return;const ze=a.findIndex(ps=>ps.id===me.id),ls=a.findIndex(ps=>ps.id===_e.id);if(ze!==-1&&ls!==-1){const ps=wn(a,ze,ls);o(ps);try{await ve.put("/specbook/reorder",{items:ps.map((Cs,Gs)=>({id:Cs.id,display_order:Gs}))}),F.success("  ")}catch(Cs){console.error("  :",Cs),F.error("  "),g()}}},ds=()=>{Ee([...h]),oe(!0)},ts=()=>{oe(!1),Me("")},cs=async()=>{if(!je.trim()){F.error("  ");return}if(Ve.includes(je.trim())){F.error("  ");return}const _=[...Ve,je.trim()];Ee(_),Me("");try{await ve.put("/specbook/categories",{categories:_}),C(_),F.success(" ")}catch(me){console.error("   :",me),F.error("   "),Ee(h)}},Os=async _=>{if(_===""){F.error("    ");return}const me=window.prompt("   ",_);if(!me||!me.trim()||me.trim()===_)return;if(Ve.includes(me.trim())){F.error("  ");return}const _e=Ve.map(ze=>ze===_?me.trim():ze);Ee(_e);try{await ve.put("/specbook/categories",{categories:_e}),C(_e),F.success("  ")}catch(ze){console.error("   :",ze),F.error("   "),Ee(h)}},Ls=async _=>{if(_===""){F.error("    ");return}const me=Ve.filter(_e=>_e!==_);Ee(me);try{await ve.put("/specbook/categories",{categories:me}),C(me),F.success(" ")}catch(_e){console.error("   :",_e),F.error("   "),Ee(h)}},ft=async _=>{const{active:me,over:_e}=_;if(_e&&me.id!==_e.id){const ze=Ve.indexOf(me.id),ls=Ve.indexOf(_e.id),ps=wn(Ve,ze,ls);Ee(ps);try{await ve.put("/specbook/categories",{categories:ps}),C(ps),F.success("  ")}catch(Cs){console.error("   :",Cs),F.error("   "),Ee(h)}}};return e.jsxDEV("div",{className:"flex flex-col h-[calc(100vh-120px)] bg-gray-50",onDragOver:_=>{_.preventDefault(),showModal&&se(!0)},onDragLeave:()=>{showModal&&se(!1)},onDrop:_=>{showModal&&c(_)},children:[e.jsxDEV("div",{className:"specbook-container flex-1 flex flex-col md:flex-row gap-4 md:gap-6 overflow-hidden",children:[e.jsxDEV("div",{className:"specbook-sidebar hidden md:flex flex-col gap-4 w-80 lg:w-96 flex-shrink-0",children:[e.jsxDEV("div",{className:"specbook-form bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:e.jsxDEV("form",{onSubmit:u,className:"flex flex-col pt-3",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 px-3",children:[e.jsxDEV("div",{onDragOver:_=>{_.preventDefault(),se(!0)},onDragLeave:()=>se(!1),onDrop:c,className:`w-full sm:w-48 aspect-square flex-shrink-0 border-2 border-dashed rounded-lg flex items-center justify-center cursor-pointer transition-colors ${ke?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{var _;return(_=Re.current)==null?void 0:_.click()},children:[Y.imageData||Z!=null&&Z.image_url?e.jsxDEV("img",{src:Y.imageData||(Z==null?void 0:Z.image_url)||"",alt:"Preview",className:"w-full h-full object-contain rounded-lg"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1010,columnNumber:23},void 0):e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(tt,{className:"w-8 h-8 mx-auto mb-1 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1017,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1018,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1016,columnNumber:23},void 0),e.jsxDEV("input",{ref:Re,type:"file",accept:"image/*",onChange:_=>{var _e;const me=(_e=_.target.files)==null?void 0:_e[0];if(me){const ze=new FileReader;ze.onload=ls=>{var ps;G({...Y,imageData:(ps=ls.target)==null?void 0:ps.result})},ze.readAsDataURL(me)}},className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1021,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:997,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col gap-2",children:[e.jsxDEV("div",{className:"space-y-1.5",children:[e.jsxDEV("select",{value:Y.category,onChange:_=>G({...Y,category:_.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",required:!0,children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1048,columnNumber:25},void 0),h.filter(_=>_!=="").map(_=>e.jsxDEV("option",{value:_,children:_},_,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1050,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1042,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:Y.brand,onChange:_=>G({...Y,brand:_.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1054,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",value:Y.name,onChange:_=>G({...Y,name:_.target.value}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500",placeholder:"",required:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1062,columnNumber:23},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:Y.price,onChange:Q,className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-500 pr-8",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1072,columnNumber:25},void 0),e.jsxDEV("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1079,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1071,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1041,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1",children:["","","",""].map((_,me)=>{const _e=me===3?"":_;return e.jsxDEV("button",{type:"button",onClick:()=>{Y.grades.includes(_e)?G({...Y,grades:Y.grades.filter(ze=>ze!==_e)}):G({...Y,grades:[...Y.grades,_e]})},className:`flex-1 px-1 py-1 text-xs font-medium rounded transition-colors ${Y.grades.includes(_e)?_e===""?"bg-violet-500 text-white":_e===""?"bg-sky-500 text-white":_e===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_},_e,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1088,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1084,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex gap-1.5 mt-3",children:[e.jsxDEV("button",{type:"submit",className:"flex-1 px-3 py-1.5 text-xs bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:Z?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1115,columnNumber:23},void 0),Z&&e.jsxDEV("button",{type:"button",onClick:xe,className:"px-3 py-1.5 text-xs bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1122,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1114,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1040,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:995,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-3 pt-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1135,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:993,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:992,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-grade-filter bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 mr-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1142,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2 flex-1",children:[["","","",""].map(_=>e.jsxDEV("button",{onClick:()=>{le.includes(_)?de(le.filter(me=>me!==_)):de([...le,_])},className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${le.includes(_)?_===""?"bg-violet-500 text-white":_===""?"bg-sky-500 text-white":_===""?"bg-emerald-500 text-white":"bg-amber-400 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_},_,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1145,columnNumber:19},void 0)),le.length>0&&e.jsxDEV("button",{onClick:()=>de([]),className:"px-3 py-1.5 rounded text-xs font-medium bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1167,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1143,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1141,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1140,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-category bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900",children:["",r==="project"&&K&&e.jsxDEV("span",{className:"ml-1 text-gray-600",children:["(",(Mr=E.find(_=>_.id===K))==null?void 0:Mr.title,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1184,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1181,columnNumber:15},void 0),e.jsxDEV("button",{onClick:ds,className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:" ",children:e.jsxDEV($i,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1194,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1189,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1180,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:h.map(_=>{const me=H(_),_e=(r==="library"||r==="project"&&K)&&me>0;return e.jsxDEV("button",{onClick:()=>z(_),className:`px-2 py-1.5 rounded text-xs font-medium transition-colors ${k===_?"bg-gray-800 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[_,_e&&e.jsxDEV("span",{className:`ml-1 ${k===_?"text-gray-300":"text-gray-400"}`,children:["(",me,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1215,columnNumber:23},void 0)]},_,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1204,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1197,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1179,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:990,columnNumber:9},void 0),r==="library"?e.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[e.jsxDEV("div",{className:"mb-4 px-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!n&&e.jsxDEV("button",{onClick:()=>{i("library"),D(null)},className:`col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors text-xs md:text-sm flex items-center justify-center ${r==="library"?"bg-gray-800 text-white":"bg-gray-200 text-gray-700"}`,children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1236,columnNumber:17},void 0),e.jsxDEV("select",{value:K||"",onChange:_=>{_.target.value?(i("project"),D(Number(_.target.value))):n||(i("library"),D(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${n?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!n&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1259,columnNumber:35},void 0),E.map(_=>e.jsxDEV("option",{value:_.id,children:_.title},_.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1261,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1246,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1234,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1233,columnNumber:11},void 0),e.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"specbook-library w-full md:w-1/2 flex flex-col overflow-hidden pb-4 md:pr-3",children:e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:O?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1275,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1274,columnNumber:13},void 0):a.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1278,columnNumber:13},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:a.map(_=>e.jsxDEV("div",{draggable:!0,onDragStart:me=>{ge(!0),me.dataTransfer.setData("itemId",_.id.toString()),me.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{ge(!1),he(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col group relative",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100 relative",onMouseDown:me=>{he({x:me.clientX,y:me.clientY})},onClick:me=>{!X&&pe&&Math.sqrt(Math.pow(me.clientX-pe.x,2)+Math.pow(me.clientY-pe.y,2))<5&&Be(_),he(null)},children:_.image_url?e.jsxDEV("img",{src:_.image_url,alt:_.name,className:"w-full h-full object-contain pointer-events-none",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1318,columnNumber:23},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1325,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1298,columnNumber:19},void 0),e.jsxDEV("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",children:[e.jsxDEV("button",{onClick:me=>{me.stopPropagation(),$(_)},onPointerDown:me=>me.stopPropagation(),className:"p-1.5 bg-white text-gray-700 hover:bg-gray-100 rounded-md shadow-md transition-colors cursor-pointer",title:"",children:e.jsxDEV(Ft,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1340,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1331,columnNumber:21},void 0),e.jsxDEV("button",{onClick:me=>{me.stopPropagation(),ie(_.id)},onPointerDown:me=>me.stopPropagation(),className:"p-1.5 bg-white text-rose-600 hover:bg-rose-50 rounded-md shadow-md transition-colors cursor-pointer",title:"",children:e.jsxDEV(gs,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1351,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1342,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1330,columnNumber:19},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:_.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1357,columnNumber:25},void 0),_.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:_.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1361,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1356,columnNumber:23},void 0),_.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${br(_.grade)}`,children:Nr(_.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1365,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1355,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:_.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1372,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1371,columnNumber:23},void 0),_.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[_.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1375,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1370,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1354,columnNumber:19},void 0)]},_.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1284,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1282,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1272,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1271,columnNumber:13},void 0),e.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1386,columnNumber:13},void 0),e.jsxDEV("div",{className:"specbook-drop-zone hidden md:flex w-1/2 flex-col overflow-hidden pl-3 pb-4",children:[e.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:e.jsxDEV("select",{value:K||"",onChange:_=>{_.target.value&&(i("project"),D(Number(_.target.value)))},className:"h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1401,columnNumber:19},void 0),E.map(_=>e.jsxDEV("option",{value:_.id,children:_.title},_.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1403,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1391,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1390,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-300 transition-colors",onDragOver:_=>{_.preventDefault(),_.currentTarget.classList.add("bg-blue-50","border-blue-400")},onDragLeave:_=>{_.currentTarget.classList.remove("bg-blue-50","border-blue-400")},onDrop:_=>{_.preventDefault(),_.currentTarget.classList.remove("bg-blue-50","border-blue-400");const me=_.dataTransfer.getData("itemId");me&&(te(Number(me)),x(!0))},children:e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:[e.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1429,columnNumber:19},void 0),e.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1430,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1428,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1409,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1388,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1269,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1231,columnNumber:11},void 0):e.jsxDEV("div",{className:"specbook-main flex-1 flex flex-col overflow-hidden pr-4 pt-3",children:[e.jsxDEV("div",{className:"mb-4 px-4",children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-2 lg:gap-4",children:[!n&&e.jsxDEV("button",{onClick:()=>{i("library"),D(null)},className:"col-span-1 lg:col-span-1 h-9 rounded-lg font-medium transition-colors bg-gray-200 text-gray-700 text-xs md:text-sm flex items-center justify-center",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1443,columnNumber:19},void 0),e.jsxDEV("select",{value:K||"",onChange:_=>{_.target.value?(i("project"),D(Number(_.target.value))):n||(i("library"),D(null))},className:`specbook-header-project-select col-span-1 lg:col-span-1 ${n?"":"lg:col-start-4"} h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-xs md:text-sm px-1 md:px-2`,children:[!n&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1466,columnNumber:37},void 0),E.map(_=>e.jsxDEV("option",{value:_.id,children:_.title},_.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1468,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1453,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1441,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1440,columnNumber:13},void 0),e.jsxDEV("div",{className:"specbook-content flex-1 flex flex-col md:flex-row overflow-hidden gap-4",children:[!n&&e.jsxDEV("div",{className:"specbook-library hidden md:flex md:w-1/2 flex-col overflow-hidden pb-4 md:pr-3",children:e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",children:O?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1483,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1482,columnNumber:19},void 0):m.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1486,columnNumber:19},void 0):e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:m.filter(_=>k===""||_.category===k).map(_=>e.jsxDEV("div",{draggable:!0,onDragStart:me=>{ge(!0),me.dataTransfer.setData("itemId",_.id.toString()),me.dataTransfer.effectAllowed="copy"},onDragEnd:()=>{ge(!1),he(null)},className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 overflow-hidden cursor-grab active:cursor-grabbing flex flex-col",children:[e.jsxDEV("div",{className:"w-full aspect-square bg-gray-100",onMouseDown:me=>{he({x:me.clientX,y:me.clientY})},onClick:me=>{!X&&pe&&Math.sqrt(Math.pow(me.clientX-pe.x,2)+Math.pow(me.clientY-pe.y,2))<5&&Be(_),he(null)},children:_.image_url?e.jsxDEV("img",{src:_.image_url,alt:_.name,className:"w-full h-full object-contain pointer-events-none",draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1528,columnNumber:29},void 0):e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs pointer-events-none",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1535,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1508,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-2 pt-1.5 flex flex-col flex-1",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[e.jsxDEV("div",{className:"flex items-center gap-1.5",children:[e.jsxDEV("span",{className:"inline-block px-1.5 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:_.category},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1543,columnNumber:31},void 0),_.brand&&e.jsxDEV("span",{className:"text-xs text-gray-500",children:_.brand},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1547,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1542,columnNumber:29},void 0),_.grade&&e.jsxDEV("span",{className:`hidden md:inline-block px-1.5 py-0.5 text-xs rounded ${br(_.grade)}`,children:Nr(_.grade)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1551,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1541,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex items-baseline justify-between gap-1 mt-auto",children:[e.jsxDEV("div",{className:"flex items-baseline gap-1 min-w-0",children:e.jsxDEV("h3",{className:"font-semibold text-xs text-gray-900 truncate",children:_.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1558,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1557,columnNumber:29},void 0),_.price&&e.jsxDEV("span",{className:"hidden md:inline text-xs text-gray-900 font-medium flex-shrink-0",children:[_.price,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1561,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1556,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1540,columnNumber:25},void 0)]},_.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1494,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1490,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1480,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1479,columnNumber:17},void 0),!n&&e.jsxDEV("div",{className:"hidden md:block w-px bg-gray-300 self-stretch"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1574,columnNumber:15},void 0),e.jsxDEV("div",{className:`specbook-project w-full ${n?"":"md:w-1/2"} flex flex-col overflow-hidden ${n?"":"md:pl-3"} pb-4`,children:[e.jsxDEV("div",{className:"specbook-drop-project-select hidden mb-2",children:e.jsxDEV("select",{value:K||"",onChange:_=>{_.target.value?(i("project"),D(Number(_.target.value))):n||(i("library"),D(null))},className:"w-full h-9 border border-gray-300 rounded-lg focus:outline-none bg-white text-sm px-3",children:[!n&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1593,columnNumber:37},void 0),E.map(_=>e.jsxDEV("option",{value:_.id,children:_.title},_.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1595,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1580,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1579,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4",onDragOver:_=>{_.preventDefault(),_.dataTransfer.dropEffect="copy"},onDrop:async _=>{_.preventDefault();const me=_.dataTransfer.getData("itemId");if(me&&K)try{const _e=m.find(ze=>ze.id===Number(me));if(_e){const{id:ze,created_at:ls,updated_at:ps,...Cs}=_e;await ve.post("/specbook/base64",{...Cs,isLibrary:!1,projectId:K}),F.success("  "),g(),ne()}}catch(_e){console.error("  :",_e),F.error("  ")}},children:O?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1634,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1633,columnNumber:19},void 0):a.length===0?e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:[e.jsxDEV("span",{className:"specbook-drop-text-landscape",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1638,columnNumber:21},void 0),e.jsxDEV("span",{className:"specbook-drop-text-portrait",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1639,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1637,columnNumber:19},void 0):e.jsxDEV(Pi,{sensors:es,collisionDetection:Ei,onDragEnd:Qe,children:e.jsxDEV(Ii,{items:a.filter(_=>k===""||_.category===k).map(_=>_.id),strategy:Mi,children:e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:a.filter(_=>k===""||_.category===k).map(_=>e.jsxDEV(wu,{item:_,onEdit:$,onDelete:ie,onImageClick:Be},_.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1657,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1653,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1647,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1642,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1601,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1577,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1476,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1438,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:988,columnNumber:7},void 0),ue&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1681,columnNumber:15},void 0),e.jsxDEV("button",{onClick:ts,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsxDEV(ns,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1686,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1682,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1680,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"mb-4",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("input",{type:"text",value:je,onChange:_=>Me(_.target.value),onKeyPress:_=>{_.key==="Enter"&&cs()},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1694,columnNumber:19},void 0),e.jsxDEV("button",{onClick:cs,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-1",children:[e.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1710,columnNumber:21},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1706,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1693,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1692,columnNumber:15},void 0),e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (  )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1718,columnNumber:17},void 0),e.jsxDEV("div",{className:"max-h-120 overflow-y-auto border border-gray-200 rounded-lg",children:e.jsxDEV(Pi,{sensors:es,collisionDetection:Ei,onDragEnd:ft,children:e.jsxDEV(Ii,{items:Ve,strategy:Mi,children:Ve.map(_=>e.jsxDEV(ju,{category:_,onRemove:Ls,onEdit:Os},_,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1732,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1727,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1722,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1721,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1717,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("button",{onClick:ts,className:"px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1746,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1745,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1690,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1679,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1678,columnNumber:9},void 0),re&&we&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-gray-200",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:we.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1765,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"    Ctrl+V /PDF   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1766,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1764,columnNumber:15},void 0),e.jsxDEV("button",{onClick:qe,className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsxDEV(ns,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1774,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1770,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1763,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",onDragOver:_=>{_.preventDefault(),I(!0)},onDragLeave:_=>{_.preventDefault(),I(!1)},onDrop:Te,children:[e.jsxDEV("input",{ref:Fe,type:"file",accept:"image/*,application/pdf",multiple:!0,onChange:Ke,className:"hidden"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1792,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[we.image_url&&e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-blue-500 cursor-pointer hover:border-blue-600 transition-colors",onClick:()=>Se(we.image_url),children:e.jsxDEV("img",{src:we.image_url,alt:" ",className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1810,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1806,columnNumber:21},void 0),e.jsxDEV("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1816,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1805,columnNumber:19},void 0),Ae.map((_,me)=>{const _e=_.startsWith("data:application/pdf");return e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200 hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>!_e&&Se(_),children:_e?e.jsxDEV("div",{className:"w-full h-full flex flex-col items-center justify-center text-red-600",children:[e.jsxDEV("svg",{className:"h-16 w-16 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsxDEV("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1834,columnNumber:31},void 0),e.jsxDEV("path",{d:"M14 2v6h6M10 12h4M10 16h4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1835,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1833,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-xs font-medium",children:"PDF"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1837,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1832,columnNumber:27},void 0):e.jsxDEV("img",{src:_,alt:`  ${me+1}`,className:"w-full h-full object-contain"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1840,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1827,columnNumber:23},void 0),e.jsxDEV("button",{onClick:()=>ss(me),className:"absolute top-2 right-2 p-1.5 bg-gray-700 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-800",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1851,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1847,columnNumber:23},void 0)]},me,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1826,columnNumber:21},void 0)}),e.jsxDEV("div",{onClick:()=>{var _;return(_=Fe.current)==null?void 0:_.click()},className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 hover:bg-gray-50 transition-colors",children:e.jsxDEV(Ks,{className:"h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1862,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1858,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1802,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1779,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-center p-4 border-t border-gray-200 bg-gray-50",children:e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-600",children:[" ",(we.image_url?1:0)+Ae.length," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1871,columnNumber:17},void 0),M&&e.jsxDEV("p",{className:"text-sm text-blue-600 flex items-center gap-2",children:[e.jsxDEV("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1877,columnNumber:23},void 0),e.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1878,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1876,columnNumber:21},void 0)," ..."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1875,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1870,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1869,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1761,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1760,columnNumber:9},void 0),Le&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[60] overflow-hidden",onClick:_=>{_.target===_.currentTarget&&(Se(null),W(1),w({x:0,y:0}),R(null),B(null),p(!1))},onWheel:_=>{_.preventDefault();const me=_.deltaY>0?-.1:.1;W(_e=>Math.max(.5,Math.min(5,_e+me)))},children:[e.jsxDEV("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsxDEV("button",{onClick:()=>{Se(null),W(1),w({x:0,y:0}),R(null),B(null),p(!1)},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",children:e.jsxDEV(ns,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1922,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1911,columnNumber:13},void 0),e.jsxDEV("button",{onClick:_=>{_.stopPropagation(),W(me=>Math.min(5,me+.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (+)",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1933,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1932,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1924,columnNumber:13},void 0),e.jsxDEV("button",{onClick:_=>{_.stopPropagation(),W(me=>Math.max(.5,me-.5))},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:" (-)",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1945,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1944,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1936,columnNumber:13},void 0),e.jsxDEV("button",{onClick:_=>{_.stopPropagation(),W(1),w({x:0,y:0})},className:"p-2 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-full transition-colors",title:"",children:e.jsxDEV("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1958,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1957,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1948,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1910,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute top-4 left-4 bg-white bg-opacity-10 text-white px-3 py-2 rounded-lg text-sm",children:[Math.round(Ce*100),"%"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1964,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onMouseDown:_=>{Ce>1&&(ae(!0),Ie({x:_.clientX-ce.x,y:_.clientY-ce.y}))},onMouseMove:_=>{T&&Ce>1&&w({x:_.clientX-ye.x,y:_.clientY-ye.y})},onMouseUp:()=>ae(!1),onMouseLeave:()=>ae(!1),onTouchStart:_=>{if(_.touches.length===2){_.preventDefault(),p(!0);const me=is(_.touches[0],_.touches[1]),_e=us(_.touches[0],_.touches[1]);R(me),B(_e)}else if(_.touches.length===1&&Ce>1&&!v){const me=_.touches[0];Ie({x:me.clientX-ce.x,y:me.clientY-ce.y})}},onTouchMove:_=>{if(_.touches.length===2){_.preventDefault(),p(!0);const me=is(_.touches[0],_.touches[1]),_e=us(_.touches[0],_.touches[1]);if(Ue&&f){const ze=me/Ue,ls=Math.max(.5,Math.min(5,Ce*ze)),ps=_e.x-f.x,Cs=_e.y-f.y,Gs=ls/Ce,Tn=ce.x*Gs+ps,Ga=ce.y*Gs+Cs;W(ls),w({x:Tn,y:Ga})}R(me),B(_e)}else if(_.touches.length===1&&Ce>1&&!v){_.preventDefault();const me=_.touches[0];w({x:me.clientX-ye.x,y:me.clientY-ye.y})}},onTouchEnd:_=>{if(_.touches.length===0){const me=Date.now(),_e=_.changedTouches[0],ze={x:_e.clientX,y:_e.clientY};if(me-S<300&&Pe&&Math.abs(ze.x-Pe.x)<30&&Math.abs(ze.y-Pe.y)<30&&!v){if(Ce===1){const Cs=_.currentTarget.getBoundingClientRect(),Gs=ze.x-Cs.left-Cs.width/2,Tn=ze.y-Cs.top-Cs.height/2;W(2.5),w({x:-Gs*1.5,y:-Tn*1.5})}else W(1),w({x:0,y:0});d(0),$e(null)}else d(me),$e(ze);R(null),B(null),p(!1)}else if(_.touches.length===1&&v){R(null),B(null),p(!1);const me=_.touches[0];Ie({x:me.clientX-ce.x,y:me.clientY-ce.y})}},onDoubleClick:_=>{_.stopPropagation();const me=_.currentTarget.getBoundingClientRect(),_e=_.clientX-me.left-me.width/2,ze=_.clientY-me.top-me.height/2;Ce===1?(W(2.5),w({x:-_e*1.5,y:-ze*1.5})):(W(1),w({x:0,y:0}))},children:e.jsxDEV("img",{src:Le,alt:" ",style:{transform:`scale(${Ce}) translate(${ce.x/Ce}px, ${ce.y/Ce}px)`,transformOrigin:"center center",transition:T||Ue!==null?"none":"transform 0.25s cubic-bezier(0.2, 0, 0, 1)",maxWidth:"100%",maxHeight:"100%",objectFit:"contain",cursor:Ce>1?T?"grabbing":"grab":"pointer",userSelect:"none",touchAction:"none"},draggable:!1},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2107,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1969,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white bg-opacity-10 text-white px-4 py-2 rounded-lg text-xs text-center",children:"     / |   |  2 /"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2126,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:1891,columnNumber:9},void 0),q&&V&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2136,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2137,columnNumber:13},void 0),e.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-2 mb-6",children:E.map(_=>e.jsxDEV("button",{onClick:async()=>{try{const me=m.find(_e=>_e.id===V);if(me){const{id:_e,created_at:ze,updated_at:ls,...ps}=me;await ve.post("/specbook/base64",{...ps,isLibrary:!1,projectId:_.id}),F.success(`"${_.title}"  `),ne()}}catch(me){console.error("  :",me),F.error("  ")}finally{x(!1),te(null)}},className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:_.title},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2167,columnNumber:19},void 0)},_.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2142,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2140,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>{x(!1),te(null)},className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2171,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2135,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:2134,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Specbook.tsx",lineNumber:967,columnNumber:5},void 0)},_u=()=>{var oe,Ve,Ee,je,Me,re,be,we,Ne,Ae,He,Le,Se,P,I,M,fe,Ce,W,ce,w,T,ae,ye,Ie,Ue,R,f,B,v,p,S;const{user:s}=js();if(!s||s.role!=="admin"&&s.role!=="manager")return e.jsxDEV(Ln,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:73,columnNumber:12},void 0);const[t,n]=l.useState({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],expansionWork:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[]}),[r,i]=l.useState(null),[a,o]=l.useState(!1),[m,N]=l.useState([]),[y,b]=l.useState("form"),[h,C]=l.useState(null),[k,z]=l.useState({floor:{},wall:{},furniture:{},countertop:{},switch:{},lighting:{},indirectLighting:{},molding:{},bathroom:{ceiling:{},faucet:{},tile:{},grout:{}},expansion:{}});l.useEffect(()=>{E(),J()},[]),l.useEffect(()=>{if(!t.areaSize||t.areaSize<=0||t.grade.length===0){i(null);return}const d=setTimeout(()=>{Y()},500);return()=>clearTimeout(d)},[t]),l.useEffect(()=>{if(!k.floor||Object.keys(k.floor).length===0)return;const d=setTimeout(()=>{K()},500);return()=>clearTimeout(d)},[k]);const E=async()=>{try{const d=await ve.get("/estimate-preview/list");N(d.data)}catch(d){console.error("   :",d)}},J=async()=>{try{const d=await ve.get("/estimate-preview/settings/prices");d.data&&d.data.settings&&Object.keys(d.data.settings).length>0&&z(d.data.settings)}catch(d){console.error("   :",d)}},K=async()=>{try{await ve.post("/estimate-preview/settings/prices",{settings:k})}catch(d){console.error("   :",d)}},D=(d,q,x,V)=>{z(te=>{const X={...te};return X[d]||(X[d]={}),X[d][q]||(X[d][q]={min:"",max:""}),X[d][q][x]=V,X})},O=(d,q,x,V)=>{z(te=>{const X={...te};return X.bathroom[d]||(X.bathroom[d]={}),X.bathroom[d][q]||(X.bathroom[d][q]={min:"",max:""}),X.bathroom[d][q][x]=V,X})},ee=d=>{const{name:q,value:x,type:V}=d.target;if(V==="checkbox"){const te=d.target.checked;n(X=>({...X,[q]:te}))}else n(q==="areaSize"||q==="bathroomCount"||q==="airconCount"||q==="roomExpansionCount"?te=>({...te,[q]:Number(x)||0}):te=>({...te,[q]:x}))},Z=(d,q)=>{const x=t[d];if(Array.isArray(x)){const V=x.includes(q)?x.filter(te=>te!==q):[...x,q];n(te=>({...te,[d]:V}))}},U=async()=>{if(!t.projectName){F.error(" ");return}if(!t.areaSize||t.areaSize<=0){F.error("  ");return}if(t.grade.length===0){F.error(" ");return}o(!0);try{const d={...t,residenceType:JSON.stringify(t.residenceType),grade:JSON.stringify(t.grade),bathroomCount:JSON.stringify(t.bathroomCount),ceilingHeight:JSON.stringify(t.ceilingHeight),expansionWork:JSON.stringify(t.expansionWork),floorMaterial:JSON.stringify(t.floorMaterial),wallMaterial:JSON.stringify(t.wallMaterial),ceilingMaterial:JSON.stringify(t.ceilingMaterial),furnitureWork:JSON.stringify(t.furnitureWork),furnitureHardwareGrade:JSON.stringify(t.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(t.kitchenCountertop),switchPublic:JSON.stringify(t.switchPublic),switchRoom:JSON.stringify(t.switchRoom),lightingType:JSON.stringify(t.lightingType),indirectLightingPublic:JSON.stringify(t.indirectLightingPublic),indirectLightingRoom:JSON.stringify(t.indirectLightingRoom),bathroomCeiling:JSON.stringify(t.bathroomCeiling),bathroomTileGrade:JSON.stringify(t.bathroomTileGrade),bathroomFaucet:JSON.stringify(t.bathroomFaucet),bathroomTile:JSON.stringify(t.bathroomTile),bathroomGrout:JSON.stringify(t.bathroomGrout),moldingPublic:JSON.stringify(t.moldingPublic),moldingRoom:JSON.stringify(t.moldingRoom)},q=await ve.post("/estimate-preview/create",d);i(q.data),F.success(" "),E()}catch(d){console.error("  :",d),F.error("  ")}finally{o(!1)}},Y=async()=>{o(!0);try{const d={...t,projectName:t.projectName||"",clientName:t.clientName||"",residenceType:JSON.stringify(t.residenceType),grade:JSON.stringify(t.grade),bathroomCount:JSON.stringify(t.bathroomCount),ceilingHeight:JSON.stringify(t.ceilingHeight),expansionWork:JSON.stringify(t.expansionWork),floorMaterial:JSON.stringify(t.floorMaterial),wallMaterial:JSON.stringify(t.wallMaterial),ceilingMaterial:JSON.stringify(t.ceilingMaterial),furnitureWork:JSON.stringify(t.furnitureWork),furnitureHardwareGrade:JSON.stringify(t.furnitureHardwareGrade),kitchenCountertop:JSON.stringify(t.kitchenCountertop),switchPublic:JSON.stringify(t.switchPublic),switchRoom:JSON.stringify(t.switchRoom),lightingType:JSON.stringify(t.lightingType),indirectLightingPublic:JSON.stringify(t.indirectLightingPublic),indirectLightingRoom:JSON.stringify(t.indirectLightingRoom),bathroomCeiling:JSON.stringify(t.bathroomCeiling),bathroomTileGrade:JSON.stringify(t.bathroomTileGrade),bathroomFaucet:JSON.stringify(t.bathroomFaucet),bathroomTile:JSON.stringify(t.bathroomTile),bathroomGrout:JSON.stringify(t.bathroomGrout),moldingPublic:JSON.stringify(t.moldingPublic),moldingRoom:JSON.stringify(t.moldingRoom)},q=await ve.post("/estimate-preview/calculate",d);i(q.data)}catch(d){console.error("   :",d),i(null)}finally{o(!1)}},G=async d=>{try{const x=(await ve.get(`/estimate-preview/${d}`)).data;n({projectName:x.project_name,clientName:x.client_name,areaSize:x.area_size,residenceType:x.residence_type?JSON.parse(x.residence_type):[],grade:x.grade,finishType:x.finish_type||"",bathroomCount:x.bathroom_count?JSON.parse(x.bathroom_count):[],ceilingHeight:x.ceiling_height?JSON.parse(x.ceiling_height):[],includeSash:x.include_sash===1,includeGrooving:x.include_grooving===1,includeBangtong:x.include_bangtong===1,includeAircon:x.include_aircon===1,airconCount:x.aircon_count||1,airconType:x.aircon_type?JSON.parse(x.aircon_type):[],floorMaterial:x.floor_material?JSON.parse(x.floor_material):[],wallMaterial:x.wall_material?JSON.parse(x.wall_material):[],ceilingMaterial:x.ceiling_material?JSON.parse(x.ceiling_material):[],furnitureWork:x.furniture_work?JSON.parse(x.furniture_work):[],furnitureHardwareGrade:x.furniture_hardware_grade?JSON.parse(x.furniture_hardware_grade):[],kitchenCountertop:x.kitchen_countertop?JSON.parse(x.kitchen_countertop):[],switchPublic:x.switch_public?JSON.parse(x.switch_public):[],switchRoom:x.switch_room?JSON.parse(x.switch_room):[],lightingType:x.lighting_type?JSON.parse(x.lighting_type):[],indirectLightingPublic:x.indirect_lighting_public?JSON.parse(x.indirect_lighting_public):[],indirectLightingRoom:x.indirect_lighting_room?JSON.parse(x.indirect_lighting_room):[],bathroomCeiling:x.bathroom_ceiling?JSON.parse(x.bathroom_ceiling):[],bathroomTileGrade:x.bathroom_tile_grade?JSON.parse(x.bathroom_tile_grade):[],bathroomFaucet:x.bathroom_faucet?JSON.parse(x.bathroom_faucet):[],bathroomTile:x.bathroom_tile?JSON.parse(x.bathroom_tile):[],bathroomGrout:x.bathroom_grout?JSON.parse(x.bathroom_grout):[],moldingPublic:x.molding_public?JSON.parse(x.molding_public):[],moldingRoom:x.molding_room?JSON.parse(x.molding_room):[]}),i({baseConstructionCost:x.base_construction_cost,fixtureCost:x.fixture_cost,sashCost:x.sash_cost,heatingCost:x.heating_cost,airconCost:x.aircon_cost,totalMinCost:x.total_min_cost,totalMaxCost:x.total_max_cost,detailBreakdown:x.detail_breakdown}),C(x),b("form"),F.success(" ")}catch(q){console.error("  :",q),F.error("  ")}},le=async d=>{if(window.confirm("  ?"))try{await ve.delete(`/estimate-preview/${d}`),F.success(" "),E()}catch(q){console.error("  :",q),F.error("  ")}},de=d=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0}).format(d),ke=()=>{n({projectName:"",clientName:"",areaSize:0,residenceType:[],grade:[],finishType:"",bathroomCount:[],ceilingHeight:[],includeSash:!1,includeGrooving:!1,includeBangtong:!1,includeAircon:!1,airconCount:1,airconType:[],livingRoomExpansion:!1,roomExpansion:!1,roomExpansionCount:0,kitchenExpansion:!1,floorMaterial:[],wallMaterial:[],ceilingMaterial:[],furnitureWork:[],furnitureHardwareGrade:[],kitchenCountertop:[],switchPublic:[],switchRoom:[],lightingType:[],indirectLightingPublic:[],indirectLightingRoom:[],bathroomCeiling:[],bathroomTileGrade:[],bathroomFaucet:[],bathroomTile:[],bathroomGrout:[],moldingPublic:[],moldingRoom:[]}),i(null),C(null)},se=()=>{F.info("PDF    ")},ue={total:m.length,thisMonth:m.filter(d=>{const q=new Date(d.created_at),x=new Date;return q.getMonth()===x.getMonth()&&q.getFullYear()===x.getFullYear()}).length};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"border-b border-gray-200 flex items-center justify-between",children:[e.jsxDEV("nav",{className:"flex space-x-4 md:space-x-8",children:[{id:"form",label:" "},{id:"history",label:" ",count:ue.total,icon:Wi},{id:"settings",label:" ",icon:$i}].map(d=>e.jsxDEV("button",{onClick:()=>b(d.id),className:ws("py-3 md:py-4 px-1 border-b-2 font-medium text-xs md:text-sm transition-colors whitespace-nowrap flex items-center gap-2",y===d.id?"border-gray-700 text-gray-700":"border-transparent text-gray-400 hover:text-gray-700 hover:border-gray-300"),children:[d.icon&&e.jsxDEV(d.icon,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:514,columnNumber:28},void 0),d.label,d.count!==void 0&&d.count>0&&e.jsxDEV("span",{className:ws("ml-1 py-0.5 px-1.5 rounded-full text-[10px] md:text-xs font-semibold",y===d.id?"bg-gray-700 text-white":"bg-gray-200 text-gray-600"),children:d.count},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:517,columnNumber:17},void 0)]},d.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:504,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:498,columnNumber:9},void 0),e.jsxDEV("button",{onClick:ke,className:"px-3 md:px-4 py-2 bg-gray-700 text-white text-xs md:text-sm rounded hover:bg-gray-800 transition-colors flex items-center gap-2",children:[e.jsxDEV(Ks,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:531,columnNumber:11},void 0),e.jsxDEV("span",{className:"hidden md:inline",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:532,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:527,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:497,columnNumber:7},void 0),y==="form"&&e.jsxDEV("div",{className:"estimate-container grid grid-cols-1 lg:grid-cols-1 xl:grid-cols-2 gap-4 md:gap-6",children:[e.jsxDEV("div",{className:"estimate-form bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800 mb-4",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:540,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg md:col-span-2",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:547,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:554,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:553,columnNumber:23},void 0),e.jsxDEV("input",{type:"text",name:"projectName",value:t.projectName,onChange:ee,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",placeholder:":  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:556,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:552,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:567,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:566,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",name:"areaSize",value:t.areaSize||"",onChange:ee,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",placeholder:": 25",min:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:569,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:565,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:551,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:582,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex md:flex-wrap gap-2",children:["","","","",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.residenceType.includes(d),onChange:()=>Z("residenceType",d),className:"mr-1 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:588,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:594,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:587,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:585,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:581,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:[" ",e.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:601,columnNumber:28},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:600,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["","","",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.grade.includes(d),onChange:()=>Z("grade",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:606,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:612,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:605,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:603,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:599,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:580,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:550,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:546,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:623,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:628,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-4",children:["","","",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.floorMaterial.includes(d),onChange:()=>Z("floorMaterial",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:635,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:641,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:634,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:632,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-4",children:["600 ","800-900 ","1200 "].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.floorMaterial.includes(d),onChange:()=>Z("floorMaterial",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:648,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:654,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:647,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:645,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:631,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:627,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" / "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:662,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["","()","()","()","","","",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.wallMaterial.includes(d),onChange:()=>Z("wallMaterial",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:678,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:684,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:677,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:666,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-1",children:e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.wallMaterial.includes("()+()"),onChange:()=>Z("wallMaterial","()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:690,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"()+()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:696,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:689,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:688,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:665,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:661,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:626,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:622,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:707,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:713,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex gap-2 md:gap-3",children:["0","1","2","3","4"].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomCount.includes(d),onChange:()=>Z("bathroomCount",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:719,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:725,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:718,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:716,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:712,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:731,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex gap-2 md:gap-3",children:["2400","2400~2600","2600"].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.ceilingHeight.includes(d),onChange:()=>Z("ceilingHeight",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:737,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:743,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:736,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:734,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:730,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:711,columnNumber:19},void 0),e.jsxDEV("div",{className:"pt-2",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:751,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:flex gap-2 md:gap-4 md:flex-wrap",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",name:"livingRoomExpansion",checked:t.livingRoomExpansion,onChange:ee,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:756,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:763,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:755,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",name:"kitchenExpansion",checked:t.kitchenExpansion,onChange:ee,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:766,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:773,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:765,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",name:"roomExpansion",checked:t.roomExpansion,onChange:ee,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:777,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:784,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:776,columnNumber:25},void 0),t.roomExpansion&&e.jsxDEV("select",{name:"roomExpansionCount",value:t.roomExpansionCount,onChange:ee,className:"ml-2 px-2 py-1 text-xs md:text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[e.jsxDEV("option",{value:0,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:793,columnNumber:29},void 0),e.jsxDEV("option",{value:1,children:"1"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:794,columnNumber:29},void 0),e.jsxDEV("option",{value:2,children:"2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:795,columnNumber:29},void 0),e.jsxDEV("option",{value:3,children:"3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:796,columnNumber:29},void 0),e.jsxDEV("option",{value:4,children:"4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:797,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:787,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:775,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:750,columnNumber:19},void 0),e.jsxDEV("div",{className:"pt-2",children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:805,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",name:"includeSash",checked:t.includeSash,onChange:ee,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:810,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:817,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:809,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",name:"includeGrooving",checked:t.includeGrooving,onChange:ee,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:820,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"(+)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:827,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:819,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",name:"includeBangtong",checked:t.includeBangtong,onChange:ee,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:830,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"(++)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:837,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:829,columnNumber:23},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center flex-wrap gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",name:"includeAircon",checked:t.includeAircon,onChange:ee,className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:842,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:849,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:841,columnNumber:27},void 0),t.includeAircon&&e.jsxDEV("select",{name:"airconCount",value:t.airconCount,onChange:ee,className:"px-2 py-1 text-xs md:text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-gray-400",children:[1,2,3,4,5,6,7,8,9,10].map(d=>e.jsxDEV("option",{value:d,children:[d,""]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:859,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:852,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:840,columnNumber:25},void 0),t.includeAircon&&e.jsxDEV("div",{className:"ml-0 md:ml-6 mt-2 flex gap-2 md:gap-3",children:["2 in 1"," "].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.airconType.includes(d),onChange:()=>Z("airconType",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:868,columnNumber:33},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:874,columnNumber:33},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:867,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:865,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:839,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:808,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:804,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:710,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:706,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:887,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:892,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.furnitureWork.includes(""),onChange:()=>Z("furnitureWork",""),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:897,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:903,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:896,columnNumber:23},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.furnitureWork.includes(""),onChange:()=>Z("furnitureWork",""),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:906,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:912,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:905,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:895,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:891,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:917,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.furnitureHardwareGrade.includes(" BLUM()"),onChange:()=>Z("furnitureHardwareGrade"," BLUM()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:923,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:" BLUM()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:929,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:922,columnNumber:25},void 0),e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.furnitureHardwareGrade.includes("()+()"),onChange:()=>Z("furnitureHardwareGrade","()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:932,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"()+()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:938,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:931,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:921,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-1",children:e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.furnitureHardwareGrade.includes(" BLUM()+()"),onChange:()=>Z("furnitureHardwareGrade"," BLUM()+()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:943,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:" BLUM()+()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:949,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:942,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:941,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:920,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:916,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:955,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["","","","",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.kitchenCountertop.includes(d),onChange:()=>Z("kitchenCountertop",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:961,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:967,columnNumber:27},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:960,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:958,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:954,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:890,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:886,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:"/"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:977,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:982,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["()","()"," "," "].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.switchPublic.includes(d),onChange:()=>Z("switchPublic",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:988,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 whitespace-nowrap",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:994,columnNumber:27},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:987,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:985,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:981,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1e3,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["()","()"," "," "].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.switchRoom.includes(d),onChange:()=>Z("switchRoom",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1006,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 whitespace-nowrap",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1012,columnNumber:27},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1005,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1003,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:999,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1019,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.lightingType.includes(d),onChange:()=>Z("lightingType",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1026,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1032,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1025,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1023,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["()","()"].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.lightingType.includes(d),onChange:()=>Z("lightingType",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1039,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1045,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1038,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1036,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.lightingType.includes("()"),onChange:()=>Z("lightingType","()"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1051,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1057,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1050,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1049,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1022,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1018,columnNumber:19},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1065,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex gap-3",children:["LED","T3 "].map(d=>e.jsxDEV("label",{className:"flex items-center text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.indirectLightingPublic.includes(d),onChange:()=>Z("indirectLightingPublic",d),className:"mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1071,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1077,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1070,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1068,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1064,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1083,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex gap-3",children:["LED","T3 "].map(d=>e.jsxDEV("label",{className:"flex items-center text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.indirectLightingRoom.includes(d),onChange:()=>Z("indirectLightingRoom",d),className:"mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1089,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1095,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1088,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1086,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1082,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1063,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:980,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:976,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1106,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1111,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 gap-2",children:["+","+","+","+"].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.moldingPublic.includes(d),onChange:()=>Z("moldingPublic",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1117,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1123,columnNumber:27},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1116,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1114,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1110,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1129,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 gap-2",children:["+","+","+","+"].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.moldingRoom.includes(d),onChange:()=>Z("moldingRoom",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1135,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1141,columnNumber:27},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1134,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1132,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1128,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1109,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1105,columnNumber:15},void 0),e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-bold text-gray-800 mb-2 pb-1 border-b border-gray-200",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1151,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1156,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["SMC","",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomCeiling.includes(d),onChange:()=>Z("bathroomCeiling",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1162,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1168,columnNumber:27},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1161,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1159,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1155,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1175,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomFaucet.includes(d),onChange:()=>Z("bathroomFaucet",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1181,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1187,columnNumber:27},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1180,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1178,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1174,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1194,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 md:flex gap-2 md:gap-3",children:["()","()","()"].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomTileGrade.includes(d),onChange:()=>Z("bathroomTileGrade",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1200,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1206,columnNumber:27},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1199,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1197,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1193,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1213,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["600()","600()","750x1500",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomTile.includes(d),onChange:()=>Z("bathroomTile",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1225,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1231,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1224,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1217,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 gap-2",children:["300x600()+300()","600x1200 or 800()"].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomTile.includes(d),onChange:()=>Z("bathroomTile",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1241,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1247,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1240,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1235,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1216,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1212,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1255,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"grid grid-cols-1",children:e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomGrout.includes("( )"),onChange:()=>Z("bathroomGrout","( )"),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1261,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:"( )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1267,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1260,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1259,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["()",""].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm whitespace-nowrap",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomGrout.includes(d),onChange:()=>Z("bathroomGrout",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1273,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1279,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1272,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1270,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:["FG8(  )","FG4( )"].map(d=>e.jsxDEV("label",{className:"flex items-center text-xs md:text-sm",children:[e.jsxDEV("input",{type:"checkbox",checked:t.bathroomGrout.includes(d),onChange:()=>Z("bathroomGrout",d),className:"mr-1.5 md:mr-2 rounded border-gray-300 text-gray-600 focus:ring-gray-400 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1286,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-gray-700 break-keep",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1292,columnNumber:29},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1285,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1283,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1258,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1254,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1154,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1150,columnNumber:15},void 0),e.jsxDEV("button",{onClick:U,disabled:a,className:"md:col-span-2 w-full py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed text-sm md:text-base transition-colors",children:a?" ...":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1302,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:544,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:539,columnNumber:11},void 0),e.jsxDEV("div",{className:"estimate-result bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1315,columnNumber:15},void 0),r&&e.jsxDEV("button",{onClick:se,className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 flex items-center gap-1 text-xs md:text-sm transition-colors",children:[e.jsxDEV(No,{className:"h-3 w-3 md:h-4 md:w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1321,columnNumber:19},void 0),"PDF"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1317,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1314,columnNumber:13},void 0),r?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-xs md:text-sm text-gray-600 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1332,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[de(r.totalMinCost)," ~ ",de(r.totalMaxCost)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1333,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-2",children:"(15% )"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1336,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1331,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1330,columnNumber:17},void 0),e.jsxDEV("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-2 text-left text-xs md:text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1345,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-2 text-right text-xs md:text-sm font-medium text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1346,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1344,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1343,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:[e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1351,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.baseConstructionCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1352,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1350,columnNumber:23},void 0),e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:[" (",t.grade,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1357,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.fixtureCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1358,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1356,columnNumber:23},void 0),((Ve=(oe=r.detailBreakdown)==null?void 0:oe.itemDetails)==null?void 0:Ve.floor)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1364,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.floor)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1365,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1363,columnNumber:25},void 0),((je=(Ee=r.detailBreakdown)==null?void 0:Ee.itemDetails)==null?void 0:je.wall)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1372,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.wall)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1373,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1371,columnNumber:25},void 0),((re=(Me=r.detailBreakdown)==null?void 0:Me.itemDetails)==null?void 0:re.ceiling)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1380,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.ceiling)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1381,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1379,columnNumber:25},void 0),((we=(be=r.detailBreakdown)==null?void 0:be.itemDetails)==null?void 0:we.furniture)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1388,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.furniture)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1389,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1387,columnNumber:25},void 0),((Ae=(Ne=r.detailBreakdown)==null?void 0:Ne.itemDetails)==null?void 0:Ae.countertop)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1396,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.countertop)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1397,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1395,columnNumber:25},void 0),((Le=(He=r.detailBreakdown)==null?void 0:He.itemDetails)==null?void 0:Le.switchPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1404,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.switchPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1405,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1403,columnNumber:25},void 0),((P=(Se=r.detailBreakdown)==null?void 0:Se.itemDetails)==null?void 0:P.switchRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1412,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.switchRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1413,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1411,columnNumber:25},void 0),((M=(I=r.detailBreakdown)==null?void 0:I.itemDetails)==null?void 0:M.lighting)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1420,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.lighting)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1421,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1419,columnNumber:25},void 0),((Ce=(fe=r.detailBreakdown)==null?void 0:fe.itemDetails)==null?void 0:Ce.indirectPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1428,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.indirectPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1429,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1427,columnNumber:25},void 0),((ce=(W=r.detailBreakdown)==null?void 0:W.itemDetails)==null?void 0:ce.indirectRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1436,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.indirectRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1437,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1435,columnNumber:25},void 0),((T=(w=r.detailBreakdown)==null?void 0:w.itemDetails)==null?void 0:T.moldingPublic)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1444,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.moldingPublic)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1445,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1443,columnNumber:25},void 0),((ye=(ae=r.detailBreakdown)==null?void 0:ae.itemDetails)==null?void 0:ye.moldingRoom)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1452,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.moldingRoom)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1453,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1451,columnNumber:25},void 0),((Ue=(Ie=r.detailBreakdown)==null?void 0:Ie.itemDetails)==null?void 0:Ue.bathroomCeiling)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1460,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.bathroomCeiling)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1461,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1459,columnNumber:25},void 0),((f=(R=r.detailBreakdown)==null?void 0:R.itemDetails)==null?void 0:f.bathroomFaucet)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1468,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.bathroomFaucet)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1469,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1467,columnNumber:25},void 0),((v=(B=r.detailBreakdown)==null?void 0:B.itemDetails)==null?void 0:v.bathroomTile)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1476,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.bathroomTile)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1477,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1475,columnNumber:25},void 0),((S=(p=r.detailBreakdown)==null?void 0:p.itemDetails)==null?void 0:S.bathroomGrout)>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1484,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.detailBreakdown.itemDetails.bathroomGrout)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1485,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1483,columnNumber:25},void 0),r.sashCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1492,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.sashCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1493,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1491,columnNumber:25},void 0),r.heatingCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1500,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.heatingCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1501,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1499,columnNumber:25},void 0),r.airconCost>0&&e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1508,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm text-gray-900 text-right font-medium",children:de(r.airconCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1509,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1507,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1349,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm font-semibold text-gray-900",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1517,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-2 text-xs md:text-sm font-bold text-gray-900 text-right",children:de(r.baseConstructionCost+r.fixtureCost+(r.settingsBasedCost||0)+r.sashCost+r.heatingCost+r.airconCost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1518,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1516,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1515,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1342,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1341,columnNumber:17},void 0),e.jsxDEV("div",{className:"text-xs md:text-sm text-gray-500 text-center mt-4",children:"*        ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1533,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1328,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-center py-12 text-gray-400",children:[e.jsxDEV(bo,{className:"h-10 w-10 md:h-12 md:w-12 mx-auto mb-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1539,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm md:text-base",children:"     "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1540,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1538,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1313,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:537,columnNumber:9},void 0),y==="history"&&e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxDEV("div",{className:"p-4 md:p-6 border-b border-gray-200",children:e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800",children:["  (",ue.total,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1550,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1549,columnNumber:11},void 0),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxDEV("thead",{className:"bg-gray-50",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1556,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1557,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1558,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1559,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1560,columnNumber:19},void 0),e.jsxDEV("th",{className:"px-4 md:px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1561,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1555,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1554,columnNumber:15},void 0),e.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(d=>e.jsxDEV("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d.project_name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1567,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center",children:[d.area_size,""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1570,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-center",children:e.jsxDEV("span",{className:ws("inline-flex px-2 py-1 text-xs font-medium rounded border",d.grade===""&&"bg-gray-50 text-gray-700 border-gray-300",d.grade===""&&"bg-gray-100 text-gray-800 border-gray-400",d.grade===""&&"bg-gray-200 text-gray-900 border-gray-500",d.grade===""&&"bg-gray-800 text-white border-gray-800"),children:d.grade},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1574,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1573,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:de(d.total_min_cost)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1586,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500",children:["~ ",de(d.total_max_cost)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1587,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1585,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1584,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(d.created_at).toLocaleDateString("ko-KR")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1590,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-sm text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV("button",{onClick:()=>G(d.id),className:"text-gray-600 hover:text-gray-900 transition-colors",title:"",children:e.jsxDEV(xo,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1600,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1595,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>le(d.id),className:"text-gray-400 hover:text-red-600 transition-colors",title:"",children:e.jsxDEV(gs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1607,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1602,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1594,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1593,columnNumber:21},void 0)]},d.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1566,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1564,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1553,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1552,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1548,columnNumber:9},void 0),y==="settings"&&e.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-4 md:p-6",children:[e.jsxDEV("h2",{className:"text-base md:text-lg font-semibold text-gray-800 mb-6",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1621,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6",children:e.jsxDEV("p",{className:"text-sm text-gray-700",children:[e.jsxDEV("strong",{children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1628,columnNumber:17},void 0),"   ~   .        ."]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1627,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1626,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1636,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","","","600 ","800-900 ","1200 "].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1640,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.floor[d])==null?void 0:q.min)||"",onChange:V=>D("floor",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1642,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1649,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.floor[d])==null?void 0:x.max)||"",onChange:V=>D("floor",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1641,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1639,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1637,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1635,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1665,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","()","()","()","","","","","()+()"].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1669,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.wall[d])==null?void 0:q.min)||"",onChange:V=>D("wall",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1671,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1678,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.wall[d])==null?void 0:x.max)||"",onChange:V=>D("wall",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1679,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1670,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1668,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1666,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1664,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1694,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[["",""].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:["(",d,")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1698,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.furniture[`(${d})`])==null?void 0:q.min)||"",onChange:V=>D("furniture",`(${d})`,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1700,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1707,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.furniture[`(${d})`])==null?void 0:x.max)||"",onChange:V=>D("furniture",`(${d})`,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1708,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1699,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1697,columnNumber:21},void 0)}),[" BLUM()","()+()"," BLUM()+()"].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1720,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.furniture[d])==null?void 0:q.min)||"",onChange:V=>D("furniture",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1722,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1729,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.furniture[d])==null?void 0:x.max)||"",onChange:V=>D("furniture",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1730,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1721,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1719,columnNumber:21},void 0)})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1695,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1693,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1745,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","","",""].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1749,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.countertop[d])==null?void 0:q.min)||"",onChange:V=>D("countertop",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1751,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1758,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.countertop[d])==null?void 0:x.max)||"",onChange:V=>D("countertop",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1759,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1750,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1748,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1746,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1744,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"/ ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1774,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["()","()"," "," "].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1778,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.switch[d])==null?void 0:q.min)||"",onChange:V=>D("switch",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1780,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1787,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.switch[d])==null?void 0:x.max)||"",onChange:V=>D("switch",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1788,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1779,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1777,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1775,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1773,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1633,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 border-b pb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1806,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["","","()","()","()"].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1810,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.lighting[d])==null?void 0:q.min)||"",onChange:V=>D("lighting",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1812,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1819,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.lighting[d])==null?void 0:x.max)||"",onChange:V=>D("lighting",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1820,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1811,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1809,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1807,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1805,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1835,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["LED","T3 "].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1839,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.indirectLighting[d])==null?void 0:q.min)||"",onChange:V=>D("indirectLighting",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1841,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1848,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.indirectLighting[d])==null?void 0:x.max)||"",onChange:V=>D("indirectLighting",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1849,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1840,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1838,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1836,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1834,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:" ()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1864,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:["+","+","+","+"].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1868,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.molding[d])==null?void 0:q.min)||"",onChange:V=>D("molding",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1870,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1877,columnNumber:25},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.molding[d])==null?void 0:x.max)||"",onChange:V=>D("molding",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1878,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1869,columnNumber:23},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1867,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1865,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1863,columnNumber:15},void 0),e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1891,columnNumber:15},void 0)," ",e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1892,columnNumber:15},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1803,columnNumber:13},void 0),e.jsxDEV("div",{className:"border-b pb-6",children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1897,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1900,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["SMC","",""].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1904,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.bathroom.ceiling[d])==null?void 0:q.min)||"",onChange:V=>O("ceiling",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1906,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1913,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.bathroom.ceiling[d])==null?void 0:x.max)||"",onChange:V=>O("ceiling",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1914,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1905,columnNumber:25},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1903,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1901,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1899,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1927,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["",""].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1931,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.bathroom.faucet[d])==null?void 0:q.min)||"",onChange:V=>O("faucet",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1933,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1940,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.bathroom.faucet[d])==null?void 0:x.max)||"",onChange:V=>O("faucet",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1941,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1932,columnNumber:25},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1930,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1928,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1926,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1954,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["()","()","()"].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1958,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.bathroom.tile[d])==null?void 0:q.min)||"",onChange:V=>O("tile",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1960,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1967,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.bathroom.tile[d])==null?void 0:x.max)||"",onChange:V=>O("tile",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1968,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1959,columnNumber:25},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1957,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1955,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1953,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1981,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["600()","600()","750x1500","","300x600()+300()","600x1200 or 800()"].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1985,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.bathroom.tile[d])==null?void 0:q.min)||"",onChange:V=>O("tile",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1987,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1994,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.bathroom.tile[d])==null?void 0:x.max)||"",onChange:V=>O("tile",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1995,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1986,columnNumber:25},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1984,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1982,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1980,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-semibold text-gray-600 mb-3",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2008,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-3",children:["( )","()",""].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2012,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.bathroom.grout[d])==null?void 0:q.min)||"",onChange:V=>O("grout",d,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2014,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2021,columnNumber:27},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.bathroom.grout[d])==null?void 0:x.max)||"",onChange:V=>O("grout",d,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2022,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2013,columnNumber:25},void 0)]},d,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2011,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2009,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2007,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1898,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1896,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-md font-semibold text-gray-700 mb-4",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2039,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-x-6 gap-y-3",children:[{label:"  ()",key:"livingRoom"},{label:"  ()",key:"kitchen"},{label:"  ()",key:"room"},{label:"  ()",key:"sash"},{label:"  ()",key:"grooving"},{label:"  ()",key:"bangtong"},{label:" (2 in 1) - 1",key:"aircon2in1"},{label:" () - 1",key:"airconSystem"}].map(d=>{var q,x;return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:d.label},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2052,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"number",placeholder:"",value:((q=k.expansion[d.key])==null?void 0:q.min)||"",onChange:V=>D("expansion",d.key,"min",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2054,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-gray-500 text-sm",children:"~"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2061,columnNumber:23},void 0),e.jsxDEV("input",{type:"number",placeholder:"",value:((x=k.expansion[d.key])==null?void 0:x.max)||"",onChange:V=>D("expansion",d.key,"max",V.target.value),className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2062,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2053,columnNumber:21},void 0)]},d.key,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2051,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2040,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:2038,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1625,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:1620,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/EstimatePreview.tsx",lineNumber:495,columnNumber:5},void 0)},Hu="HVLabImageDB",Bu=1,dt="paymentRecordImages";let dn=null;const Rr=()=>new Promise((s,t)=>{if(dn){s(dn);return}const n=indexedDB.open(Hu,Bu);n.onerror=()=>{console.error("IndexedDB  :",n.error),t(n.error)},n.onsuccess=()=>{dn=n.result,s(dn)},n.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(dt)||i.createObjectStore(dt,{keyPath:"id"})}}),Ja=async()=>{try{const s=await Rr();return new Promise((t,n)=>{const a=s.transaction(dt,"readonly").objectStore(dt).getAll();a.onsuccess=()=>{const o={};a.result.forEach(m=>{o[m.id]=m.images}),t(o)},a.onerror=()=>{console.error("  :",a.error),n(a.error)}})}catch(s){console.error("IndexedDB , localStorage :",s);const t=localStorage.getItem("paymentRecordImages");return t?JSON.parse(t):{}}},Qa=async(s,t)=>{try{const n=await Rr();return new Promise((r,i)=>{const m=n.transaction(dt,"readwrite").objectStore(dt).put({id:s,images:t});m.onsuccess=()=>r(),m.onerror=()=>{console.error("  :",m.error),i(m.error)}})}catch(n){throw console.error("IndexedDB  :",n),n}},Uu=async s=>{try{const t=await Rr();return new Promise((n,r)=>{const i=t.transaction(dt,"readwrite"),a=i.objectStore(dt);a.clear(),Object.entries(s).forEach(([o,m])=>{a.put({id:o,images:m})}),i.oncomplete=()=>n(),i.onerror=()=>{console.error("  :",i.error),r(i.error)}})}catch(t){throw console.error("IndexedDB   :",t),t}},Xa=async()=>{try{const s=localStorage.getItem("paymentRecordImages");if(s){const t=JSON.parse(s);Object.keys(t).length>0&&(await Uu(t),localStorage.removeItem("paymentRecordImages"),console.log("localStorage IndexedDB  "))}}catch(s){console.error(" :",s)}},cn=["","","/","","","","","","","","","","","","",""],Su=()=>{const{payments:s,executionRecords:t,loadPaymentsFromAPI:n,loadExecutionRecordsFromAPI:r,addExecutionRecordToAPI:i,deleteExecutionRecordFromAPI:a,updateExecutionRecordInAPI:o,updatePaymentInAPI:m,deletePaymentFromAPI:N}=Ws(),{user:y}=js(),b=Rs();if(!y)return e.jsxDEV(Ln,{to:"/login",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:113,columnNumber:12},void 0);const[h,C]=l.useState(""),[k,z]=l.useState(null),[E,J]=l.useState(!1),[K,D]=l.useState(!1),[O,ee]=l.useState(!1),[Z,U]=l.useState(!1),[Y,G]=l.useState(!1),[le,de]=l.useState(""),[ke,se]=l.useState("form"),[ue,oe]=l.useState(!1),[Ve,Ee]=l.useState(!1),je=l.useRef(null),[Me,re]=l.useState(!1),[be,we]=l.useState(null),[Ne,Ae]=l.useState({process:"",itemName:"",materialCost:"",laborCost:"",date:""}),[He,Le]=l.useState(null),[Se,P]=l.useState([]),[I,M]=l.useState({}),[fe,Ce]=l.useState(!1),[W,ce]=l.useState(()=>{const L=localStorage.getItem("hiddenPaymentIds");return L?JSON.parse(L):[]}),w=()=>{const L=localStorage.getItem("lastSelectedProject"),ne=b.filter(g=>g.status!=="completed");return L&&ne.some(g=>g.name===L)?L:ne.length>0?ne[0].name:""},[T,ae]=l.useState({project:"",date:De(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}),[ye,Ie]=l.useState(()=>{const L=localStorage.getItem("executionMemos");return L?JSON.parse(L):{}}),[Ue,R]=l.useState(null),[f,B]=l.useState(""),[v,p]=l.useState("");l.useEffect(()=>{n().catch(ne=>{console.error("Failed to load payments:",ne)}),r().catch(ne=>{console.error("Failed to load execution records:",ne)});const L=()=>{oe(window.innerWidth<768)};if(L(),window.addEventListener("resize",L),b.length>0&&!T.project){const ne=w();ne&&(ae(g=>({...g,project:ne})),localStorage.setItem("lastSelectedProject",ne))}return()=>window.removeEventListener("resize",L)},[n,r,b]),l.useEffect(()=>{(async()=>{try{await Xa();const ne=await Ja();M(ne),Ce(!0)}catch(ne){console.error("  :",ne),Ce(!0)}})()},[]);const S=l.useRef({});l.useEffect(()=>{fe&&(Object.entries(I).forEach(([L,ne])=>{JSON.stringify(S.current[L])!==JSON.stringify(ne)&&Qa(L,ne).catch(g=>{console.error("  :",g),F.error("  ")})}),S.current={...I})},[I,fe]),l.useEffect(()=>{localStorage.setItem("hiddenPaymentIds",JSON.stringify(W))},[W]),l.useEffect(()=>{localStorage.setItem("executionMemos",JSON.stringify(ye))},[ye]),l.useEffect(()=>{if(T.itemName&&T.itemName.trim().length>=1){const L=T.itemName.trim().toLowerCase(),ne=[...t].sort((H,c)=>new Date(c.date).getTime()-new Date(H.date).getTime()).map(H=>H.itemName).filter(H=>H&&H.toLowerCase().includes(L)),g=Array.from(new Set(ne));P(g.slice(0,10))}else P([])},[T.itemName,t]);const d=l.useCallback(L=>{var H;if(!k){F.error("  ");return}const ne=(H=L.clipboardData)==null?void 0:H.items;if(!ne)return;const g=[];for(let c=0;c<ne.length;c++)if(ne[c].type.indexOf("image")!==-1){L.preventDefault();const A=ne[c].getAsFile();A&&g.push(A)}g.length!==0&&Promise.all(g.map(c=>new Promise((A,j)=>{const Q=new FileReader;Q.onload=u=>{var ie;const $=(ie=u.target)==null?void 0:ie.result;A($)},Q.onerror=j,Q.readAsDataURL(c)}))).then(async c=>{const A=t.find(j=>j.id===k);if(A){const j=[...A.images||[],...c];try{await o(k,{images:j})}catch(Q){console.error("  :",Q)}}else M(j=>({...j,[k]:[...j[k]||[],...c]}));F.success(`${c.length}  `)}).catch(c=>{console.error("   :",c),F.error("    ")})},[k,t,o]);l.useEffect(()=>(document.addEventListener("paste",d),()=>document.removeEventListener("paste",d)),[d]);const q=b.map(L=>L.name);console.log("[ExecutionHistory] payments :",s.length,""),console.log("[ExecutionHistory]   payments:",s.filter(L=>L.images&&L.images.length>0).map(L=>{var ne;return{id:L.id,imagesCount:(ne=L.images)==null?void 0:ne.length}}));const x=s.filter(L=>{const ne=L.status==="approved"||L.status==="completed",g=!t.some(A=>A.paymentId===L.id),H=!W.includes(L.id),c=(y==null?void 0:y.name)!==""||q.includes(L.project);return ne&&g&&H&&c}).map(L=>{const ne=L.materialAmount||0,g=L.laborAmount||0,H=L.amount||0;let c=ne,A=g,j=0;return ne===0&&g===0&&H>0?L.includesVAT?(c=Math.round(H/1.1),j=H-c):(c=H,j=0):L.includesVAT?(ne>0&&(c=Math.round(ne/1.1)),g>0&&(A=Math.round(g/1.1)),j=H-(c+A)):j=0,{id:L.id,type:"payment",project:L.project,author:L.requestedBy||"-",date:L.requestDate,process:L.process||"-",itemName:L.itemName||L.purpose||"-",materialCost:c,laborCost:A,vatAmount:j,totalAmount:H,images:L.images||I[L.id]||[],notes:L.notes,quickText:L.quickText||""}}),V=x.filter(L=>L.images&&L.images.length>0);V.length>0&&console.log("[ExecutionHistory]   paymentRecords:",V.map(L=>({id:L.id,imagesCount:L.images.length})));const te=t.filter(L=>(y==null?void 0:y.name)!==""||q.includes(L.project)).map(L=>({...L,type:"manual"})),X=[...x,...te].sort((L,ne)=>new Date(ne.date).getTime()-new Date(L.date).getTime()),ge=X.filter(L=>{var H,c;const ne=T.project===""||L.project===T.project,g=h===""||((H=L.itemName)==null?void 0:H.toLowerCase().includes(h.toLowerCase()))||((c=L.process)==null?void 0:c.toLowerCase().includes(h.toLowerCase()));return ne&&g}),pe=ge.reduce((L,ne)=>(L.material+=ne.materialCost||0,L.labor+=ne.laborCost||0,L.vat+=ne.vatAmount||0,L.total+=ne.totalAmount||0,L),{material:0,labor:0,vat:0,total:0}),he=()=>{const L=T.quickText;if(!L.trim()){F.error("  ");return}const ne=L.match(/[\d,]+/g),g=ne?ne.map(u=>parseInt(u.replace(/,/g,""),10)).filter(u=>u>0):[];let H="";for(const u of cn)if(L.includes(u)){H=u;break}const c=L.split(`
`).filter(u=>u.trim());let A="";if(c.length>0)for(const u of c){const $=u.trim();if($&&!/^[\d,\s]+$/.test($)){A=$.substring(0,50);break}}let j="",Q="";if(g.length>0){const u=[...g].sort(($,ie)=>ie-$);j=String(u[0]),u.length>1&&(Q=String(u[1]))}ae(u=>({...u,process:H||u.process,itemName:A||u.itemName,materialCost:j||u.materialCost,laborCost:Q||u.laborCost,images:[...u.images,...u.quickImages],quickText:"",quickImages:[]})),F.success("  ")},Pe=async()=>{if(!T.project){F.error(" ");return}const L=new Date;let ne=Number(T.materialCost)||0,g=Number(T.laborCost)||0,H=0,c=0;if(K){const j=ne+g,Q=Math.round(j/1.1);if(H=j-Q,j>0){const u=ne/j,$=g/j;ne=Math.round(Q*u),g=Math.round(Q*$)}c=j}else H=0,c=ne+g;const A={id:`exec_${Date.now()}`,project:T.project,author:(y==null?void 0:y.name)||"  ",date:new Date(T.date),process:T.process,itemName:T.itemName,materialCost:ne,laborCost:g,vatAmount:H,totalAmount:c,images:T.images,notes:"",createdAt:L,updatedAt:L};try{const j=await i(A);F.success(" "),ae(Q=>({project:Q.project,date:De(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]})),D(!1),ee(!1),ue&&(z(j.id),se("list"))}catch(j){console.error("  :",j),F.error("  ")}},$e=(L,ne)=>{ne.stopPropagation(),Le(null),we(L),ae(g=>({...g,project:L.project||g.project,date:De(new Date(L.date),"yyyy-MM-dd"),process:L.process||"",itemName:L.itemName,materialCost:L.materialCost||0,laborCost:L.laborCost||0,images:L.images||[],quickText:"",quickImages:[]})),z(L.id),ue&&se("form")},Re=()=>{we(null),ae(L=>({...L,date:De(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))},Fe=async()=>{if(be)try{const L=Number(T.materialCost)||0,ne=Number(T.laborCost)||0,g=L+ne;if(be.type==="payment"){const H=s.find(c=>c.id===be.id);if(!H)throw new Error("   ");await m(be.id,{...H,process:T.process,itemName:T.itemName,materialAmount:L,laborAmount:ne,amount:g,requestDate:T.date}),await n()}else await o(be.id,{project:T.project||be.project,author:be.author,process:T.process,itemName:T.itemName,materialCost:L,laborCost:ne,totalAmount:g,date:new Date(T.date),notes:be.notes,paymentId:be.paymentId}),await r();F.success(""),we(null),ae(H=>({...H,date:De(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",images:[],quickText:"",quickImages:[]}))}catch(L){console.error(" :",L),F.error(" ")}},Ye=async(L,ne)=>{ne.stopPropagation(),Le(null);const g=X.find(H=>H.id===L);if(confirm(" ?"))try{(g==null?void 0:g.type)==="payment"?(await N(L),F.success(" ")):(await a(L),F.success(" ")),k===L&&z(null)}catch(H){console.error(" :",H),F.error(" ")}},Je=()=>{const L={};return ge.forEach(ne=>{const g=ne.process||"";L[g]||(L[g]={materialCost:0,laborCost:0,vatAmount:0,totalAmount:0}),L[g].materialCost+=ne.materialCost||0,L[g].laborCost+=ne.laborCost||0,L[g].vatAmount+=ne.vatAmount||0,L[g].totalAmount+=ne.totalAmount||0}),Object.entries(L).sort((ne,g)=>g[1].totalAmount-ne[1].totalAmount)},Ge=L=>{var ne;try{if(!k){F.error("  ");return}const g=Array.from(((ne=L.target)==null?void 0:ne.files)||[]);if(g.length===0)return;const H=g.filter(A=>A.type.startsWith("image/"));if(H.length===0){F.error("  ");return}H.filter(A=>A.size>10*1024*1024).length>0&&F.error("10MB       "),Promise.all(H.map(A=>new Promise((j,Q)=>{try{const u=new FileReader;u.onload=$=>{var xe;const ie=(xe=$.target)==null?void 0:xe.result;ie?j(ie):Q(new Error("  "))},u.onerror=()=>Q(new Error("FileReader ")),u.readAsDataURL(A)}catch(u){Q(u)}}))).then(async A=>{const j=t.find(Q=>Q.id===k);if(j){const Q=[...j.images||[],...A];try{await o(k,{images:Q})}catch(u){console.error("  :",u)}}else M(Q=>({...Q,[k]:[...Q[k]||[],...A]}));F.success(`${A.length}  `)}).catch(A=>{console.error("   :",A),F.error("    ")}),L.target.value=""}catch(g){console.error("    :",g),F.error("    ")}},es=async L=>{var g;if(!k)return;const ne=t.find(H=>H.id===k);if(ne){const H=((g=ne.images)==null?void 0:g.filter((c,A)=>A!==L))||[];try{await o(k,{images:H})}catch(c){console.error("  :",c)}}else M(H=>{var c;return{...H,[k]:((c=H[k])==null?void 0:c.filter((A,j)=>j!==L))||[]}})},is=L=>{de(L),G(!0)},us=L=>{L.preventDefault(),J(!0)},bs=L=>{L.preventDefault(),J(!1)},fs=L=>{if(L.preventDefault(),J(!1),!k){F.error("  ");return}const g=Array.from(L.dataTransfer.files).filter(H=>H.type.startsWith("image/"));g.length!==0&&Promise.all(g.map(H=>new Promise((c,A)=>{const j=new FileReader;j.onload=Q=>{var $;const u=($=Q.target)==null?void 0:$.result;c(u)},j.onerror=A,j.readAsDataURL(H)}))).then(async H=>{const c=t.find(A=>A.id===k);if(c){const A=[...c.images||[],...H];try{await o(k,{images:A})}catch(j){console.error("  :",j)}}else M(A=>({...A,[k]:[...A[k]||[],...H]}));F.success(`${H.length}  `)}).catch(H=>{console.error("   :",H),F.error("    ")})};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"md:hidden mb-4",children:e.jsxDEV("select",{value:T.project,onChange:L=>{ae({...T,project:L.target.value}),L.target.value&&localStorage.setItem("lastSelectedProject",L.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:b.filter(L=>L.status!=="completed").map(L=>e.jsxDEV("option",{value:L.name,children:L.name},L.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:950,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:939,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:938,columnNumber:7},void 0),e.jsxDEV("div",{className:"md:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>se("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ke==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:959,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>se("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ke==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:969,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>se("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${ke==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:979,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:958,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:957,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:956,columnNumber:7},void 0),e.jsxDEV("div",{className:"execution-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4",children:[e.jsxDEV("div",{className:`execution-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto ${ke!=="form"?"hidden md:block":""}`,children:e.jsxDEV("div",{className:"execution-form-inner space-y-4 w-full",children:[e.jsxDEV("div",{className:"exec-project hidden md:block",children:e.jsxDEV("select",{value:T.project,onChange:L=>{ae({...T,project:L.target.value}),L.target.value&&localStorage.setItem("lastSelectedProject",L.target.value)},className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:b.filter(L=>L.status!=="completed").map(L=>e.jsxDEV("option",{value:L.name,children:L.name},L.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1016,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1003,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1002,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-quick-input",children:[e.jsxDEV("textarea",{value:T.quickText,onChange:L=>ae({...T,quickText:L.target.value}),onPaste:L=>{var g;const ne=(g=L.clipboardData)==null?void 0:g.items;if(ne){for(let H=0;H<ne.length;H++)if(ne[H].type.indexOf("image")!==-1){L.preventDefault();const c=ne[H].getAsFile();if(c){const A=new FileReader;A.onload=j=>{var u;const Q=(u=j.target)==null?void 0:u.result;ae($=>({...$,quickImages:[...$.quickImages,Q]}))},A.readAsDataURL(c)}break}}},onDragOver:L=>{L.preventDefault(),L.stopPropagation()},onDrop:L=>{L.preventDefault(),L.stopPropagation(),Array.from(L.dataTransfer.files).filter(H=>H.type.startsWith("image/")).forEach(H=>{const c=new FileReader;c.onload=A=>{var Q;const j=(Q=A.target)==null?void 0:Q.result;ae(u=>({...u,quickImages:[...u.quickImages,j]}))},c.readAsDataURL(H)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:ue?"  ":"   (   Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1023,columnNumber:15},void 0),T.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:T.quickImages.map((L,ne)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:L,alt:` ${ne+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1078,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{ae(g=>({...g,quickImages:g.quickImages.filter((H,c)=>c!==ne)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1083,columnNumber:23},void 0)]},ne,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1077,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1075,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:L=>{Array.from(L.target.files||[]).forEach(g=>{const H=new FileReader;H.onload=c=>{var j;const A=(j=c.target)==null?void 0:j.result;ae(Q=>({...Q,quickImages:[...Q.quickImages,A]}))},H.readAsDataURL(g)}),L.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1102,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1123,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1101,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:he,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1127,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1100,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1022,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-date-process grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",T.date&&`(${De(new Date(T.date),"E",{locale:ms})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1141,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:T.date,onChange:L=>ae({...T,date:L.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1144,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1140,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1161,columnNumber:17},void 0),e.jsxDEV("button",{ref:je,type:"button",onClick:()=>Ee(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:T.process||e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1168,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1162,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1160,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1138,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-item-name relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1175,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:T.itemName,onChange:L=>ae({...T,itemName:L.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1176,columnNumber:15},void 0),Se.length>0&&e.jsxDEV("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Se.map((L,ne)=>e.jsxDEV("button",{type:"button",onClick:()=>{ae({...T,itemName:L}),P([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:L},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1195,columnNumber:23},void 0)},ne,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1186,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1184,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1174,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-amounts space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1205,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:T.materialCost,onChange:L=>ae({...T,materialCost:L.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1206,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1204,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1215,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:T.laborCost,onChange:L=>ae({...T,laborCost:L.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1216,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1214,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:"includeVat",checked:K,onChange:L=>{L.target.checked&&ee(!1),D(L.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1227,columnNumber:19},void 0),e.jsxDEV("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"  (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1239,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1226,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:"includeTaxDeduction",checked:O,onChange:L=>{L.target.checked&&D(!1),ee(L.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1244,columnNumber:19},void 0),e.jsxDEV("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1256,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1243,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1225,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1203,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-total-submit",children:[e.jsxDEV("div",{className:"exec-total pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1268,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(K||O)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",K&&" ",O&&"3.3% ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1271,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const L=(Number(T.materialCost)||0)+(Number(T.laborCost)||0);return(O?Math.round(L*.967):L).toLocaleString()})(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1275,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1269,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1267,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1266,columnNumber:15},void 0),be&&e.jsxDEV("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 mb-3",children:e.jsxDEV("p",{className:"text-sm text-blue-700 font-medium",children:[" : ",be.itemName]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1289,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1288,columnNumber:17},void 0),e.jsxDEV("div",{className:"exec-submit my-6",style:{marginTop:"20px"},children:be?e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:Re,className:"flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1297,columnNumber:21},void 0),e.jsxDEV("button",{onClick:Fe,className:"flex-1 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1303,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1296,columnNumber:19},void 0):e.jsxDEV("button",{onClick:Pe,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1311,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1294,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1265,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-summary hidden md:block bg-gray-50 rounded-lg p-3 md:p-4 space-y-2 md:mt-8 lg:mt-[114.67px]",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1324,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[pe.material.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1325,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1323,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1328,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[pe.labor.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1329,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1327,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm text-gray-600",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1332,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900",children:[pe.vat.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1333,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1331,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",style:{marginTop:"10px"},children:[e.jsxDEV("span",{className:"text-sm font-bold text-gray-900",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1336,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-base font-bold text-gray-900",children:[pe.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1337,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1335,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1322,columnNumber:13},void 0),e.jsxDEV("div",{className:"exec-search hidden ipad-xl:block mt-4 space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"...",value:h,onChange:L=>C(L.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1344,columnNumber:17},void 0),e.jsxDEV(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1351,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1343,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>U(!0),className:"w-full px-3 py-2 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1353,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1342,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1e3,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:997,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border overflow-hidden flex flex-col ${ke!=="list"?"hidden md:flex":""}`,children:[ke==="list"&&e.jsxDEV("div",{className:"md:hidden border-b bg-gray-50 p-2 space-y-2",children:[e.jsxDEV("div",{className:"bg-white rounded-lg px-3 py-2 border text-xs",children:[e.jsxDEV("div",{className:"flex justify-between gap-2",children:[e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:pe.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1373,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1373,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:pe.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1374,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1374,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-gray-500",children:[" ",e.jsxDEV("span",{className:"font-medium text-gray-900",children:pe.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1375,columnNumber:55},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1375,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1372,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 pt-1 border-t border-gray-100",children:[e.jsxDEV("span",{className:"font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1378,columnNumber:19},void 0),e.jsxDEV("span",{className:"font-bold text-gray-900",children:[pe.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1379,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1377,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1371,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>U(!0),className:"w-full py-1.5 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1384,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1369,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto",children:ge.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-50 sticky top-0 exec-table-header",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700 border-b",children:[e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-author",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1401,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-date",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1402,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-process",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1403,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium exec-th-item",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1404,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-material",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1405,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-labor",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1406,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-vat",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1407,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-3 py-3 font-medium text-right exec-th-total",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1408,columnNumber:21},void 0),e.jsxDEV("th",{className:"px-2 py-3 font-medium text-center w-20",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1409,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1400,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1399,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:ge.map(L=>e.jsxDEV("tr",{className:`hover:bg-gray-50 cursor-pointer text-sm ${k===L.id?"bg-blue-50":""}`,onClick:()=>z(L.id),children:[e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 whitespace-nowrap exec-author-col",children:L.author||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1419,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-date-col",children:[e.jsxDEV("span",{className:"exec-date-full",children:De(new Date(L.date),"yyyy-MM-dd (EEE)",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1423,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-date-short whitespace-nowrap",children:De(new Date(L.date),"MM-dd (EEE)",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1424,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1422,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-gray-600 exec-process-col",children:L.process||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1426,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 font-medium exec-item-col",children:L.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1429,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-material-col",children:(L.materialCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1432,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-labor-col",children:(L.laborCost||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1435,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right exec-vat-col",children:(L.vatAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1438,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-3 py-3 text-right font-semibold exec-total-col",children:[e.jsxDEV("span",{className:"exec-total-full",children:[(L.totalAmount||0).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1442,columnNumber:25},void 0),e.jsxDEV("span",{className:"exec-total-short",children:(L.totalAmount||0).toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1443,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1441,columnNumber:23},void 0),e.jsxDEV("td",{className:"px-2 py-3 text-center",children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV("button",{onClick:ne=>$e(L,ne),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"",children:e.jsxDEV(Tt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1452,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1447,columnNumber:27},void 0),e.jsxDEV("button",{onClick:ne=>Ye(L.id,ne),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",title:"",children:e.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1459,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1454,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1446,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1445,columnNumber:23},void 0)]},L.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1414,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1412,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1398,columnNumber:17},void 0),e.jsxDEV("div",{className:"md:hidden space-y-1.5 p-2",children:ge.map(L=>e.jsxDEV("div",{className:`border rounded-lg px-3 py-2 relative ${k===L.id?"bg-blue-50 border-blue-300":"bg-white"}`,onClick:()=>{z(L.id),se("image")},children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm truncate flex-1 mr-2",children:L.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1483,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("p",{className:"text-sm font-bold text-gray-900 shrink-0",children:[(L.totalAmount||0).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1485,columnNumber:25},void 0),e.jsxDEV("button",{onClick:ne=>{ne.stopPropagation(),Le(He===L.id?null:L.id)},className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsxDEV(yo,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1495,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1488,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1484,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1482,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mt-1 text-xs text-gray-500",children:[e.jsxDEV("span",{children:[L.process||"-","  ",L.author||"-","  ",De(new Date(L.date),"MM.dd",{locale:ms})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1501,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-[10px] text-gray-400",children:[" ",(L.materialCost||0).toLocaleString(),"   ",(L.laborCost||0).toLocaleString(),"   ",(L.vatAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1502,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1500,columnNumber:21},void 0),He===L.id&&e.jsxDEV("div",{className:"absolute right-2 top-8 bg-white border rounded-lg shadow-lg z-10 py-1",children:[e.jsxDEV("button",{onClick:ne=>$e(L,ne),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[e.jsxDEV(Tt,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1513,columnNumber:27},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1509,columnNumber:25},void 0),e.jsxDEV("button",{onClick:ne=>Ye(L.id,ne),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1520,columnNumber:27},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1516,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1508,columnNumber:23},void 0)]},L.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1471,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1469,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1396,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1530,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1394,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block ipad-xl:hidden border-t bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex flex-row items-center gap-3",children:[e.jsxDEV("div",{className:"flex-1 max-w-sm",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"...",value:h,onChange:L=>C(L.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm md:text-sm lg:text-base"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1542,columnNumber:19},void 0),e.jsxDEV(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1549,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1541,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1540,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[k&&e.jsxDEV("button",{onClick:async()=>{const L=t.find(g=>g.id===k),ne=X.find(g=>g.id===k);if(L){if(confirm("  ?"))try{await a(k),z(null),F.success(" ")}catch(g){console.error("  :",g),F.error("  ")}}else(ne==null?void 0:ne.type)==="payment"?confirm(`   ?
(   )`)&&(ce(g=>[...g,k]),z(null),F.success("  ")):F.error("   ")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:e.jsxDEV(gs,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1590,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1556,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>U(!0),className:"px-3 py-2 text-sm md:px-3 lg:px-4 lg:text-base border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium whitespace-nowrap",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1595,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1554,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1538,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1537,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1364,columnNumber:9},void 0),e.jsxDEV("div",{className:`execution-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border flex flex-col overflow-hidden ${ke!=="image"?"hidden md:flex":""}`,onDragOver:us,onDragLeave:bs,onDrop:fs,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:Ge,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1616,columnNumber:11},void 0),ue&&k&&ke==="image"&&(()=>{const L=X.find(ne=>ne.id===k);return L?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:L.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1633,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[L.process||"-","  ",De(new Date(L.date),"yyyy.MM.dd",{locale:ms})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1634,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1632,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["",(L.totalAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1638,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1631,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1630,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:L=>{var g;const ne=L.target;!ne.closest("img")&&!ne.closest("button")&&k&&(()=>{const c=t.find(j=>j.id===k),A=X.find(j=>j.id===k);return(A==null?void 0:A.images)||(c==null?void 0:c.images)||I[k]||[]})().length>0&&((g=document.getElementById("image-file-input"))==null||g.click())},children:k?(()=>{var H;const L=t.find(c=>c.id===k),ne=X.find(c=>c.id===k),g=(ne==null?void 0:ne.images)||(L==null?void 0:L.images)||I[k]||[];return e.jsxDEV("div",{className:"h-full flex flex-col",children:[(ne==null?void 0:ne.type)==="payment"&&e.jsxDEV("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:" :"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1682,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm text-gray-700 mb-2",children:[" ",(H=ne.totalAmount)==null?void 0:H.toLocaleString(),"",ne.itemName&&` (${ne.itemName})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1683,columnNumber:23},void 0),Ue===k?e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1693,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:f===""?"":f.toLocaleString(),onChange:c=>{const A=c.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),j=A===""?"":parseInt(A,10);B(j);const Q=ne.totalAmount||0;p(j!==""?Math.max(0,Q-j):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1694,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1692,columnNumber:29},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-900 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1715,columnNumber:31},void 0),e.jsxDEV("input",{type:"text",inputMode:"numeric",value:v===""?"":v.toLocaleString(),onChange:c=>{const A=c.target.value.replace(/,/g,"").replace(/[^0-9]/g,""),j=A===""?"":parseInt(A,10);p(j);const Q=ne.totalAmount||0;B(j!==""?Math.max(0,Q-j):"")},placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-400 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1716,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1714,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1691,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{onClick:async()=>{const c=f===""?0:f,A=v===""?0:v;try{await ut.updatePaymentAmounts(ne.id,c,A),await n(),R(null),B(""),p(""),F.success(" .")}catch(j){console.error("  :",j),F.error("  .")}},className:"flex-1 px-3 py-2 text-sm font-medium text-white bg-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1738,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>{R(null),B(""),p("")},className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1769,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1737,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1690,columnNumber:25},void 0):e.jsxDEV("button",{onClick:()=>{const c=ne.totalAmount||0,A=ne.quickText||ne.itemName||"",j=A.includes("")||A.includes(""),Q=A.includes("")||A.includes("")||A.includes("");let u=.7,$=.3;j&&!Q?(u=1,$=0):!j&&Q&&(u=0,$=1),B(Math.round(c*u)),p(Math.round(c*$)),R(k)},className:"w-full px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1782,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1680,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1819,columnNumber:21},void 0),e.jsxDEV("textarea",{value:ye[k]!==void 0?ye[k]:(ne==null?void 0:ne.quickText)||(ne==null?void 0:ne.notes)||"",onChange:c=>{Ie(A=>({...A,[k]:c.target.value}))},placeholder:" ...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-500 focus:border-transparent resize-none",rows:12},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1820,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1818,columnNumber:19},void 0),g.length>0&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:g.map((c,A)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:c,alt:` ${A+1}`,className:"w-full aspect-square object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity border",onClick:j=>{j.stopPropagation(),is(c)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1841,columnNumber:27},void 0),e.jsxDEV("button",{onClick:j=>{j.stopPropagation(),es(A)},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ns,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1857,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1850,columnNumber:27},void 0),e.jsxDEV("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:[A+1,"/",g.length]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1859,columnNumber:27},void 0)]},A,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1840,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1838,columnNumber:21},void 0),e.jsxDEV("label",{htmlFor:"image-file-input",className:`block cursor-pointer ${g.length>0?"":"flex-1"}`,onClick:c=>c.stopPropagation(),children:e.jsxDEV("div",{className:`w-full border-2 border-dashed rounded-lg p-4 text-center transition-colors flex flex-col items-center justify-center ${E?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"} ${g.length>0?"min-h-[80px]":"min-h-[200px]"}`,children:[e.jsxDEV(tt,{className:`mx-auto text-gray-400 mb-1 ${g.length>0?"h-6 w-6":"h-10 w-10 mb-2"}`},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1878,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:g.length>0?" ":" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1879,columnNumber:23},void 0),g.length===0&&e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1883,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1873,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1868,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1677,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(Ys,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1893,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1894,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1892,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1891,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1649,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1607,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:994,columnNumber:7},void 0),Z&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-50",onClick:L=>{window.innerWidth>=768&&L.target===L.currentTarget&&U(!1)},children:e.jsxDEV("div",{className:"bg-white rounded-t-2xl md:rounded-lg w-full md:max-w-4xl max-h-[85vh] md:max-h-[80vh] overflow-hidden md:m-4",onClick:L=>L.stopPropagation(),children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 md:p-5 lg:p-6 border-b",children:[e.jsxDEV("h2",{className:"text-lg md:text-lg lg:text-xl font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1915,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>U(!1),className:"p-1.5 md:p-2 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ns,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1920,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1916,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1914,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 md:p-5 lg:p-6 overflow-y-auto max-h-[calc(85vh-120px)] md:max-h-[calc(80vh-120px)]",children:Je().length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("table",{className:"hidden md:table w-full",children:[e.jsxDEV("thead",{className:"bg-gray-100",children:e.jsxDEV("tr",{className:"text-left text-sm text-gray-700",children:[e.jsxDEV("th",{className:"px-4 py-3 font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1931,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1932,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1933,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1934,columnNumber:25},void 0),e.jsxDEV("th",{className:"px-4 py-3 font-medium text-right",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1935,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1930,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1929,columnNumber:21},void 0),e.jsxDEV("tbody",{className:"divide-y divide-gray-200",children:Je().map(([L,ne])=>e.jsxDEV("tr",{className:"hover:bg-gray-50",children:[e.jsxDEV("td",{className:"px-4 py-3 font-medium text-gray-700",children:L},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1941,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:ne.materialCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1942,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:ne.laborCost.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1943,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right",children:ne.vatAmount.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1944,columnNumber:27},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-semibold",children:[ne.totalAmount.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1945,columnNumber:27},void 0)]},L,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1940,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1938,columnNumber:21},void 0),e.jsxDEV("tfoot",{className:"bg-gray-100 border-t-2 border-gray-300",children:e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-3 font-bold text-gray-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1951,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:pe.material.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1952,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:pe.labor.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1953,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold",children:pe.vat.toLocaleString()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1954,columnNumber:25},void 0),e.jsxDEV("td",{className:"px-4 py-3 text-right font-bold text-gray-900",children:[pe.total.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1955,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1950,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1949,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1928,columnNumber:19},void 0),e.jsxDEV("div",{className:"md:hidden space-y-3",children:[Je().map(([L,ne])=>e.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900",children:L},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1965,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-lg font-bold text-gray-900",children:["",ne.totalAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1966,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1964,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1972,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",ne.materialCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1973,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1971,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1976,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",ne.laborCost.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1977,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1975,columnNumber:27},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-500 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1980,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-medium",children:["",ne.vatAmount.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1981,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1979,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1970,columnNumber:25},void 0)]},L,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1963,columnNumber:23},void 0)),e.jsxDEV("div",{className:"bg-gray-900 text-white rounded-lg p-4 mt-4",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-3",children:[e.jsxDEV("h3",{className:"font-bold text-white",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1990,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-xl font-bold",children:["",pe.total.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1991,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1989,columnNumber:23},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1997,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",pe.material.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1998,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1996,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2001,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",pe.labor.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2002,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2e3,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-gray-300 text-xs",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2005,columnNumber:27},void 0),e.jsxDEV("p",{className:"font-semibold",children:["",pe.vat.toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2006,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2004,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1995,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1988,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1961,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1926,columnNumber:17},void 0):e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"  ."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2013,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1924,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1913,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:1904,columnNumber:9},void 0),Ve&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"md:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2029,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Ee(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ns,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2034,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2030,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2028,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:cn.map(L=>e.jsxDEV("button",{onClick:()=>{ae({...T,process:L}),Ee(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${T.process===L?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:L},L,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2042,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2040,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{ae({...T,process:""}),Ee(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2060,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2038,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2027,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2026,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden md:block fixed inset-0 z-40",onClick:()=>Ee(!1),children:e.jsxDEV("div",{onClick:L=>L.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:je.current?`${je.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:je.current?`${je.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2084,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Ee(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ns,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2089,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2085,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2083,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:cn.map(L=>e.jsxDEV("button",{onClick:()=>{ae({...T,process:L}),Ee(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${T.process===L?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:L},L,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2097,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2095,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{ae({...T,process:""}),Ee(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2115,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2093,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2075,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2074,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2024,columnNumber:9},void 0),Y&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>G(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:L=>{L.stopPropagation(),G(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ns,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2144,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2137,columnNumber:13},void 0),le?e.jsxDEV("img",{src:le,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:L=>L.stopPropagation(),onError:()=>{F.error("   "),G(!1)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2147,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-white text-center p-4",children:e.jsxDEV("p",{children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2159,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2158,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2136,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2132,columnNumber:9},void 0),Me&&be&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md",children:[e.jsxDEV("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2171,columnNumber:15},void 0),e.jsxDEV("button",{onClick:()=>{re(!1),we(null)},className:"text-gray-500 hover:text-gray-700",children:e.jsxDEV(ns,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2179,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2172,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2170,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2185,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:Ne.date,onChange:L=>Ae({...Ne,date:L.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2184,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2195,columnNumber:17},void 0),e.jsxDEV("select",{value:Ne.process,onChange:L=>Ae({...Ne,process:L.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2201,columnNumber:19},void 0),cn.map(L=>e.jsxDEV("option",{value:L,children:L},L,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2203,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2196,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2194,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2209,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:Ne.itemName,onChange:L=>Ae({...Ne,itemName:L.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2210,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2208,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2219,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ne.materialCost,onChange:L=>Ae({...Ne,materialCost:L.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2220,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2218,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2229,columnNumber:17},void 0),e.jsxDEV("input",{type:"number",value:Ne.laborCost,onChange:L=>Ae({...Ne,laborCost:L.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2230,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2228,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2182,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2 p-4 border-t",children:[e.jsxDEV("button",{onClick:()=>{re(!1),we(null)},className:"flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2239,columnNumber:15},void 0),e.jsxDEV("button",{onClick:Fe,className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2248,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2238,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2169,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:2168,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/ExecutionHistory.tsx",lineNumber:936,columnNumber:5},void 0)},Pu=({projectName:s,onClose:t,type:n="cash"})=>{const r=n==="cash",i=r?"":"",a=r?"      .":"      .",[o,m]=l.useState({receiptDate:De(new Date,"yyyy-MM-dd"),customerName:"",amount:"",purpose:" ",receivedBy:""}),N=()=>{window.print()},y=h=>{const C=Number(h.replace(/,/g,""));return isNaN(C)?"":C.toLocaleString()},b=h=>{if(h===0)return"";const C=["","","",""],k=["","","",""],z=["","","","","","","","","",""];let E="",J=0;for(;h>0;){const K=h%1e4;if(K>0){let D="",O=K,ee=0;for(;O>0;){const Z=O%10;Z>0&&(D=z[Z]+k[ee]+D),O=Math.floor(O/10),ee++}E=D+C[J]+E}h=Math.floor(h/1e4),J++}return E+""};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 print:relative print:bg-white",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto print:max-h-none print:mx-0 print:rounded-none",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b print:hidden",children:[e.jsxDEV("h2",{className:"text-lg font-bold text-gray-900",children:i},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:76,columnNumber:13},void 0),e.jsxDEV("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ns,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:81,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:75,columnNumber:11},void 0),e.jsxDEV("div",{className:"p-6 space-y-4 print:hidden",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:88,columnNumber:15},void 0),e.jsxDEV("input",{type:"date",value:o.receiptDate,onChange:h=>m({...o,receiptDate:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:89,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:87,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:98,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.customerName,onChange:h=>m({...o,customerName:h.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:99,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:97,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:109,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:y(o.amount),onChange:h=>{const C=h.target.value.replace(/,/g,"");/^\d*$/.test(C)&&m({...o,amount:C})},placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:110,columnNumber:15},void 0),o.amount&&e.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:b(Number(o.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:123,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:108,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:130,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.purpose,onChange:h=>m({...o,purpose:h.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:140,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:o.receivedBy,onChange:h=>m({...o,receivedBy:h.target.value}),placeholder:" ",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV("button",{onClick:N,disabled:!o.customerName||!o.amount||!o.receivedBy,className:"w-full py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsxDEV(Oi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:155,columnNumber:15},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:86,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden print:block p-12",children:e.jsxDEV("div",{className:"border-4 border-double border-gray-900 p-8",children:[e.jsxDEV("h1",{className:"text-center text-3xl font-bold mb-8",children:r?"    ":"    "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:163,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-6 text-lg",children:[e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:169,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1 receipt-date",children:De(new Date(o.receiptDate),"yyyy MM dd",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:170,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:168,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:174,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:o.customerName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:175,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:173,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:179,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:s},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:180,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:178,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:184,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1 font-bold receipt-amount",children:["",Number(o.amount).toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:185,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:183,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:"():"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:191,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:b(Number(o.amount))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:192,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:190,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-baseline border-b border-gray-300 pb-2",children:[e.jsxDEV("span",{className:"font-medium w-32",children:":"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:196,columnNumber:19},void 0),e.jsxDEV("span",{className:"flex-1",children:o.purpose},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:197,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:167,columnNumber:15},void 0),e.jsxDEV("div",{className:"mt-12 text-center",children:[e.jsxDEV("p",{className:"text-lg mb-8",children:a},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:202,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-lg receipt-date",children:De(new Date(o.receiptDate),"yyyy MM dd",{locale:ms})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:205,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-xl font-medium mt-8",children:[": ",o.receivedBy," ",e.jsxDEV("span",{className:"ml-4",children:"()"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:207,columnNumber:48},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:206,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:204,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:162,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:73,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:72,columnNumber:7},void 0),e.jsxDEV("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .print\\:block, .print\\:block * {
            visibility: visible;
          }
          .print\\:hidden {
            display: none !important;
          }
        }
      `},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:217,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/components/CashReceiptModal.tsx",lineNumber:71,columnNumber:5},void 0)},Zn=["","","/","","","","","","","","","","","","",""],Ru=()=>{const{payments:s,loadPaymentsFromAPI:t,addPaymentToAPI:n,deletePaymentFromAPI:r,updatePaymentInAPI:i}=Ws(),{user:a}=js(),o=Rs(),[m,N]=l.useState(""),[y,b]=l.useState(null),[h,C]=l.useState(null),[k,z]=l.useState(!1),[E,J]=l.useState(!1),[K,D]=l.useState(!1),[O,ee]=l.useState(!1),[Z,U]=l.useState(""),[Y,G]=l.useState("form"),[le,de]=l.useState(!1),[ke,se]=l.useState(!1),ue=l.useRef(null),[oe,Ve]=l.useState("pending"),[Ee,je]=l.useState("all"),[Me,re]=l.useState(!1),[be,we]=l.useState(null),[Ne,Ae]=l.useState(!1),[He,Le]=l.useState(""),[Se,P]=l.useState(!1),I=l.useRef(!1),[M,fe]=l.useState([]),[Ce,W]=l.useState([]),[ce,w]=l.useState(null),[T,ae]=l.useState([]),[ye,Ie]=l.useState([]),[Ue,R]=l.useState(!1),[f,B]=l.useState([]),[v,p]=l.useState({}),[S,d]=l.useState(!1),q=()=>{const g=localStorage.getItem("lastSelectedProject"),H=o.filter(c=>c.status!=="completed");return g&&H.some(c=>c.name===g)?g:H.length>0?H[0].name:""},[x,V]=l.useState({project:"",date:De(new Date,"yyyy-MM-dd"),process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]});l.useEffect(()=>{(async()=>{try{const H=await st.getAllContractors();fe(H.map(c=>({id:c._id||c.id,rank:c.rank,companyName:c.companyName,name:c.name,process:c.process,contact:c.contact,accountNumber:c.accountNumber,bankName:c.bankName,notes:c.notes,createdAt:new Date(c.createdAt),updatedAt:new Date(c.updatedAt)})))}catch(H){console.error("Failed to load contractors:",H)}})()},[]),l.useEffect(()=>{t().catch(H=>{console.error("Failed to load payments:",H)});const g=()=>{de(window.innerWidth<1024)};if(g(),window.addEventListener("resize",g),o.length>0&&!x.project){const H=q();H&&(V(c=>({...c,project:H})),localStorage.setItem("lastSelectedProject",H))}return()=>window.removeEventListener("resize",g)},[t,o]),l.useEffect(()=>{const g=setInterval(()=>{console.log("[ ]    ..."),t().catch(H=>{console.error("[ ] :",H)})},3e4);return()=>clearInterval(g)},[t]),l.useEffect(()=>{(async()=>{var A,j,Q,u;if(I.current)return;const H=new URLSearchParams(window.location.search),c=H.get("complete")||H.get("c");if(c){if(!a){console.log("[ ]   -  ");return}I.current=!0,console.log("[ ]  :",c),window.history.replaceState({},"","/payments"),G("list"),Ve("pending");try{await i(String(c),{status:"completed"}),F.success(" "),Ve("completed"),await t()}catch($){console.error("[ ]  :",$);let ie="  ";((A=$.response)==null?void 0:A.status)===401?ie=" .  ":((j=$.response)==null?void 0:j.status)===404?ie="     (ID: "+c+")":(u=(Q=$.response)==null?void 0:Q.data)!=null&&u.error?ie=$.response.data.error:$.message&&(ie+=": "+$.message),F.error(ie)}}})()},[t,i,a]),l.useEffect(()=>{if(x.process){const g=new Set(s.filter(j=>{var Q;return j.status==="completed"&&((Q=j.bankInfo)==null?void 0:Q.accountHolder)}).map(j=>j.bankInfo.accountHolder.trim().toLowerCase())),H=(j,Q)=>{const u=j.toLowerCase(),$=Q.toLowerCase();if(u.includes($)||$.includes(u))return!0;const ie=u.split("/").map(Be=>Be.trim()),xe=$.replace(/$/,"").trim();for(const Be of ie)if(Be===xe||xe.includes(Be)||Be.includes(xe))return!0;return!1},A=M.filter(j=>{if(!H(x.process,j.process))return!1;const u=j.accountNumber&&j.accountNumber.trim()!=="",$=j.name.trim().toLowerCase(),ie=g.has($);return u||ie}).sort((j,Q)=>{const u=j.accountNumber&&j.accountNumber.trim()!=="",$=Q.accountNumber&&Q.accountNumber.trim()!=="";return u&&!$?-1:!u&&$?1:0});W(A)}else W([])},[x.process,M,s]),l.useEffect(()=>{if(x.process){const g=(A,j)=>{if(!j)return!1;const Q=A.toLowerCase(),u=j.toLowerCase();if(Q.includes(u)||u.includes(Q))return!0;const $=Q.split("/").map(xe=>xe.trim()),ie=u.replace(/$/,"").trim();for(const xe of $)if(xe===ie||ie.includes(xe)||xe.includes(ie))return!0;return!1},H=s.filter(A=>{var j,Q,u;return A.status==="completed"&&A.process&&g(x.process,A.process)&&((j=A.bankInfo)==null?void 0:j.accountHolder)&&((Q=A.bankInfo)==null?void 0:Q.bankName)&&((u=A.bankInfo)==null?void 0:u.accountNumber)}),c=new Map;H.forEach(A=>{const j=`${A.bankInfo.accountHolder}_${A.bankInfo.bankName}_${A.bankInfo.accountNumber}`;c.has(j)||c.set(j,{accountHolder:A.bankInfo.accountHolder,bankName:A.bankInfo.bankName,accountNumber:A.bankInfo.accountNumber,itemName:A.itemName||"",amount:A.amount||0})}),B(Array.from(c.values()))}else B([])},[x.process,s]),l.useEffect(()=>{if(x.accountHolder&&x.accountHolder.trim().length>=1){const g=x.accountHolder.trim().toLowerCase(),H=new Map;let c=null;if(ce){const j=M.find(Q=>(Q.id||Q._id)===ce);j&&j.accountNumber&&j.bankName&&(c=`${mt(j.name).trim()}_${j.bankName}_${j.accountNumber}`)}s.filter(j=>{var Q,u,$;return j.status==="completed"&&((Q=j.bankInfo)==null?void 0:Q.accountHolder)&&((u=j.bankInfo)==null?void 0:u.bankName)&&(($=j.bankInfo)==null?void 0:$.accountNumber)}).forEach(j=>{const Q=j.bankInfo.accountHolder.trim(),u=Q.toLowerCase();if(u.includes(g)||g.includes(u)){const $=`${Q}_${j.bankInfo.bankName}_${j.bankInfo.accountNumber}`;$!==c&&!H.has($)&&H.set($,{accountHolder:Q,bankName:j.bankInfo.bankName,accountNumber:j.bankInfo.accountNumber})}}),M.forEach(j=>{if((j.id||j._id)!==ce&&j.accountNumber&&j.bankName){const Q=mt(j.name).trim(),u=Q.toLowerCase();if(u.includes(g)||g.includes(u)){const $=`${Q}_${j.bankName}_${j.accountNumber}`;H.has($)||H.set($,{accountHolder:Q,bankName:j.bankName,accountNumber:j.accountNumber})}}}),ae(Array.from(H.values()))}else ae([])},[x.accountHolder,s,M,ce]),l.useEffect(()=>{if(Ue&&x.itemName&&x.itemName.trim().length>=1){const g=x.itemName.trim().toLowerCase(),H=[...s].sort((A,j)=>new Date(j.date).getTime()-new Date(A.date).getTime()).map(A=>A.itemName).filter(A=>A&&A.toLowerCase().includes(g)),c=Array.from(new Set(H));Ie(c.slice(0,10))}else Ie([])},[x.itemName,s,Ue]);const te=g=>{const H=g.split(`
`).map(u=>u.trim()).filter(u=>u),c={amounts:{},bankInfo:{},vendor:null,itemName:void 0,includeVat:!1},A=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=u=>{if(!u||u.length<2||u.length>5||!/^[-]{2,5}$/.test(u))return!1;if(u.length>=2){const $=u.charAt(0),ie=u.substring(0,2);if(["","","","","","",""].includes(ie)||A.includes($))return!0}return u.length>=2&&u.length<=4},Q=H.some(u=>u.includes(" ")||u.includes(""));return H.forEach((u,$)=>{if(u.includes("")&&u.includes(":")){const ie=u.match(/\s*:\s*(.+)/);ie&&(c.itemName=ie[1].trim())}if(u.includes("")&&u.includes(":")){const ie=u.match(/\s*:\s*(.+)/);ie&&(c.bankInfo.accountHolder=ie[1].trim())}if(u.includes("")&&u.includes(":")){const ie=u.match(/\s*:\s*(.+)/);ie&&(c.bankInfo.bankName=ie[1].trim())}if(u.includes("")&&u.includes(":")){const ie=u.match(/\s*:\s*(.+)/);ie&&(c.bankInfo.accountNumber=ie[1].trim())}if(u.includes("")&&u.includes(":")){const ie=u.match(/\s*:\s*([\d,]+)?/);ie&&(c.amounts.total=parseInt(ie[1].replace(/,/g,"")))}}),Q||(H.forEach(u=>{const $=u.match(/\[([^\]]+)\]/);$&&!c.itemName&&(c.itemName=$[1].trim())}),H.forEach((u,$)=>{(u.includes("")||u.includes(" ")||u.includes("()"))&&(c.includeVat=!0);const ie=u.match(/(\d+)\s*\s*/);if(ie){const qe=parseInt(ie[1])*1e4;u.includes("")||u.includes("")?c.amounts.material=qe:u.includes("")||u.includes("")?c.amounts.labor=qe:c.amounts.total||(c.amounts.total=qe),u=u.replace(/(\d+)\s*\s*/g,"")}u.includes("/")&&u.split("/").forEach(Qe=>{const ds=Qe.trim();ds.startsWith("[")||ds.endsWith("]")||(/^[\d\-]+$/.test(ds)&&ds.replace(/\-/g,"").length>=10?c.bankInfo.accountNumber||(c.bankInfo.accountNumber=ds):j(ds)&&!c.bankInfo.accountHolder&&(c.bankInfo.accountHolder=ds))});const xe=[/\d{6}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{5,7}[\s\-]+\d{2}[\s\-]+\d{5,7}/,/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/,/\d{3}[\s\-]+\d{2}[\s\-]+\d{6}/,/\d{3}[\s\-]+\d{4}[\s\-]+\d{7}/,/\d{4}[\s\-]+\d{4}[\s\-]+\d{5}/,/\d{3,4}[\s\-]+\d{2,6}[\s\-]+\d{4,7}/,/\d{10,}/];let Be="",Ke=-1;for(const qe of xe){const Qe=u.match(qe);if(Qe&&!c.bankInfo.accountNumber){Be=Qe[0],Ke=Qe.index||-1,c.bankInfo.accountNumber=Qe[0].trim().replace(/\s+/g,"-");const ts=u.substring(Ke+Be.length).trim().split(/\s+/);for(const cs of ts)if(!(cs.startsWith("[")||cs.endsWith("]"))&&j(cs)){c.bankInfo.accountHolder=cs;break}if(!c.bankInfo.accountHolder&&$+1<H.length){const cs=H[$+1],Os=cs.split(/\s+/);for(const Ls of Os)if(!(Ls.startsWith("[")||Ls.endsWith("]"))&&j(Ls)){c.bankInfo.accountHolder=Ls;break}if(!c.bankInfo.accountHolder){const Ls=cs.match(/^([-]{2,5})/);if(Ls){const ft=Ls[1].trim();j(ft)&&(c.bankInfo.accountHolder=ft)}}}break}}const We=u.match(/[\d,]+/g);We&&We.forEach(qe=>{const Qe=parseInt(qe.replace(/,/g,"")),ds=qe.replace(/,/g,""),ts=Be&&Be.includes(ds);!c.bankInfo.accountNumber&&ds.length>=10&&ds.length<=20?(c.bankInfo.accountNumber=ds,Be=ds):Qe>=1e3&&!ie&&!ts&&(u.includes("")||u.includes("")?c.amounts.material=Qe:u.includes("")||u.includes("")?c.amounts.labor=Qe:c.amounts.total||(c.amounts.total=Qe))});const Te={:"KB",KB:"KB",:"",:"",:"",:"IBK",IBK:"IBK",:"NH",NH:"NH",:"",:"",:"",:"",K:"",:"KDB",KDB:"KDB",:"",:"",:"",:"",:"",:"",:"SC",SC:"SC",:"",:"",:"",:""};for(const[qe,Qe]of Object.entries(Te))if(u.includes(qe)){c.bankInfo.bankName=Qe;const ds=new RegExp(`${qe}\\s+([-]{2,5})`),ts=u.match(ds);ts&&(c.bankInfo.accountHolder=ts[1]);break}if(!c.bankInfo.bankName){const qe=u.match(/([-]+)(|)/);qe&&(c.bankInfo.bankName=qe[0])}const Xe=u.match(/\(([-]{2,5})\)/);if(Xe){const qe=Xe[1];j(qe)&&(c.bankInfo.accountHolder=qe)}if(!Xe&&!c.bankInfo.accountHolder){const qe=/[-]{2,5}/g,Qe=u.match(qe);if(Qe){const ds=u.match(/\d{10,}/)||u.match(/\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}[\s\-]+\d{3,4}/);Qe.forEach(ts=>{const cs=g.split(`
`)[$];cs&&cs.includes(`[${ts}]`)||!j(ts)||["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].includes(ts)||Xe&&ts===Xe[1]||(ds&&!Xe?c.bankInfo.accountHolder=ts:c.bankInfo.accountHolder||($>0&&(H[$-1].match(/\d{10,}/)||H[$-1].match(/|/))||$<H.length-1&&(H[$+1].match(/\d{10,}/)||H[$+1].match(/|/))||u.match(/|/))&&(c.bankInfo.accountHolder=ts))})}}const ss={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};for(const[qe,Qe]of Object.entries(ss))if(u.includes(qe)){c.vendor=Qe;break}if($===0&&!c.itemName){const qe=u.replace(/[\[\]{}()<>]/g,"").trim();qe&&!qe.includes(" ")&&(c.itemName=qe.substring(0,50))}})),c.itemName&&c.itemName.includes("")&&(c.vendor=""),c},X=()=>{const g=x.quickText;if(!g.trim())return;const H=te(g),c={project:x.project,date:x.date,quickText:x.quickText,quickImages:x.quickImages||[],process:"",itemName:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[]};w(null),J(!1),D(!1);let A=0;if(H.amounts.material&&(A+=H.amounts.material),H.amounts.labor&&(A+=H.amounts.labor),H.amounts.total&&!H.amounts.material&&!H.amounts.labor&&(A=H.amounts.total),A>0&&(c.amount=A),H.bankInfo.bankName&&(c.bankName=H.bankInfo.bankName),H.bankInfo.accountNumber){c.accountNumber=H.bankInfo.accountNumber;const Q=M.find(u=>{var xe,Be;const $=(xe=H.bankInfo.accountNumber)==null?void 0:xe.replace(/[-\s]/g,"");return((Be=u.accountNumber)==null?void 0:Be.replace(/[-\s]/g,""))===$});Q?(c.accountHolder=Q.name||H.bankInfo.accountHolder,c.bankName=Q.bankName||H.bankInfo.bankName,c.accountNumber=Q.accountNumber||H.bankInfo.accountNumber,w(Q.id||Q._id||null),Q.process&&(c.process=Q.process)):H.bankInfo.accountHolder&&(c.accountHolder=H.bankInfo.accountHolder)}else H.bankInfo.accountHolder&&(c.accountHolder=H.bankInfo.accountHolder);if(H.vendor&&(c.process=H.vendor),!c.process){const Q=g.toLowerCase();for(const u of Zn)if(Q.includes(u.toLowerCase())){c.process=u;break}}H.itemName&&(c.itemName=H.itemName),V(c),H.includeVat&&(J(!0),D(!1));let j=[];if(H.amounts.material||H.amounts.labor||H.amounts.total){const Q=[];H.amounts.material&&Q.push(`: ${H.amounts.material.toLocaleString()}`),H.amounts.labor&&Q.push(`: ${H.amounts.labor.toLocaleString()}`),H.amounts.total&&!H.amounts.material&&!H.amounts.labor&&Q.push(`: ${H.amounts.total.toLocaleString()}`),j.push(Q.join(", "))}if(H.bankInfo.bankName||H.bankInfo.accountHolder){const Q=[];H.bankInfo.bankName&&Q.push(H.bankInfo.bankName),H.bankInfo.accountHolder&&Q.push(H.bankInfo.accountHolder),H.bankInfo.accountNumber&&Q.push(H.bankInfo.accountNumber),Q.length>0&&j.push(`: ${Q.join(" ")}`)}H.vendor&&j.push(`: ${H.vendor}`),H.includeVat&&j.push("  "),j.length>0?F.success(`  !
${j.join(`
`)}`,{duration:4e3,style:{whiteSpace:"pre-line"}}):F.info("  ...    .")},ge=l.useCallback(()=>{if(!ce&&(!x.accountHolder||x.accountHolder.trim().length===0)){const g=new Map;s.filter(c=>{var A,j,Q;return c.status==="completed"&&((A=c.bankInfo)==null?void 0:A.accountHolder)&&((j=c.bankInfo)==null?void 0:j.bankName)&&((Q=c.bankInfo)==null?void 0:Q.accountNumber)}).forEach(c=>{const A=c.bankInfo.accountHolder.trim(),j=`${A}_${c.bankInfo.bankName}_${c.bankInfo.accountNumber}`;g.has(j)||g.set(j,{accountHolder:A,bankName:c.bankInfo.bankName,accountNumber:c.bankInfo.accountNumber})}),M.forEach(c=>{if(c.accountNumber&&c.bankName){const A=mt(c.name).trim(),j=`${A}_${c.bankName}_${c.accountNumber}`;g.has(j)||g.set(j,{accountHolder:A,bankName:c.bankName,accountNumber:c.accountNumber})}}),ae(Array.from(g.values()))}},[x.accountHolder,s,M,ce]);l.useEffect(()=>{(async()=>{try{await Xa();const H=await Ja();p(H),d(!0)}catch(H){console.error("  :",H),d(!0)}})()},[]);const pe=l.useRef({});l.useEffect(()=>{S&&(Object.entries(v).forEach(([g,H])=>{JSON.stringify(pe.current[g])!==JSON.stringify(H)&&Qa(g,H).catch(c=>{console.error("  :",c),F.error("  ")})}),pe.current={...v})},[v,S]);const he=l.useCallback(g=>{var A;const H=(A=g.clipboardData)==null?void 0:A.items;if(!H)return;let c=!1;for(let j=0;j<H.length;j++)if(H[j].type.indexOf("image")!==-1){c=!0;break}if(c){if(!y){const j=document.activeElement;(j==null?void 0:j.tagName)==="INPUT"||(j==null?void 0:j.tagName)==="TEXTAREA"||(j==null?void 0:j.classList.contains("form-input"))||F.error("  ");return}for(let j=0;j<H.length;j++)if(H[j].type.indexOf("image")!==-1){g.preventDefault();const Q=H[j].getAsFile();if(Q){const u=new FileReader;u.onload=$=>{var xe;const ie=(xe=$.target)==null?void 0:xe.result;p(Be=>({...Be,[y]:[...Be[y]||[],ie]})),F.success(" ")},u.readAsDataURL(Q)}}}},[y]);l.useEffect(()=>(document.addEventListener("paste",he),()=>document.removeEventListener("paste",he)),[he]);const $e=[...(a==null?void 0:a.name)===""?s.filter(g=>o.some(H=>H.name===g.project)):s].sort((g,H)=>new Date(H.requestDate).getTime()-new Date(g.requestDate).getTime()),Re=$e.filter(g=>{var j,Q,u;const H=m===""||((j=g.purpose)==null?void 0:j.toLowerCase().includes(m.toLowerCase()))||((Q=g.itemName)==null?void 0:Q.toLowerCase().includes(m.toLowerCase()))||((u=g.process)==null?void 0:u.toLowerCase().includes(m.toLowerCase())),c=g.status===oe,A=oe==="pending"||Ee==="all"||g.project===Ee;return H&&c&&A}),Fe=g=>{const H=g.id||g._id||null;if(ce===H){w(null);const Q=document.querySelector('input[placeholder=" "]');Q&&setTimeout(()=>{Q.focus()},100);return}w(H);const c=mt(g.name);let A=g.bankName||"",j=g.accountNumber||"";if(j&&!A){const Q=j.trim().split(/\s+/);if(Q.length>=2){const u=Q[0];(u.includes("")||u.includes("")||u.includes("")||u.includes("")||u.includes(""))&&(A=u,j=Q.slice(1).join(""))}}V(Q=>({...Q,accountHolder:c,bankName:A,accountNumber:j}))};Re.reduce((g,H)=>{const c=H.materialAmount||0,A=H.laborAmount||0,j=H.amount||0;let Q=c,u=A,$=0;return c===0&&A===0&&j>0?H.includesVAT?(Q=Math.round(j/1.1),$=j-Q):(Q=j,$=0):H.includesVAT?(c>0&&(Q=Math.round(c/1.1)),A>0&&(u=Math.round(A/1.1)),$=j-(Q+u)):$=0,g.material+=Q,g.labor+=u,g.vat+=$,g.total+=j,g},{material:0,labor:0,vat:0,total:0});const Ye=async()=>{var H;if(Se){console.log(" Already submitting, ignoring click");return}if(console.log(" handleSave called"),console.log(" Current user:",a),console.log(" Form data:",x),!x.project){F.error(" ");return}if(!x.itemName){F.error(" ");return}const g=Number(x.amount)||0;if(g===0){F.error(" ");return}P(!0);try{const c=K?Math.round(g*.967):g,A=new Date;if(h){const j={project:x.project,requestDate:new Date(x.date),purpose:x.itemName,amount:c,category:"material",urgency:"normal",process:x.process,itemName:x.itemName,includesVAT:E,applyTaxDeduction:K,materialAmount:c,laborAmount:0,originalLaborAmount:0,accountHolder:x.accountHolder,bank:x.bankName,accountNumber:x.accountNumber,bankInfo:x.accountHolder||x.bankName||x.accountNumber?{accountHolder:x.accountHolder,bankName:x.bankName,accountNumber:x.accountNumber}:void 0,updatedAt:A};console.log(" Updating payment:",j),await i(h,j),F.success(" "),C(null)}else{const j={id:`payment_${Date.now()}`,project:x.project,requestDate:new Date(x.date),requestedBy:(a==null?void 0:a.name)||"  ",purpose:x.itemName,amount:c,status:"pending",category:"material",urgency:"normal",process:x.process,itemName:x.itemName,includesVAT:E,applyTaxDeduction:K,materialAmount:c,laborAmount:0,originalLaborAmount:0,accountHolder:x.accountHolder,bank:x.bankName,accountNumber:x.accountNumber,bankInfo:x.accountHolder||x.bankName||x.accountNumber?{accountHolder:x.accountHolder,bankName:x.bankName,accountNumber:x.accountNumber}:void 0,quickText:x.quickText||"",images:x.quickImages,attachments:[],createdAt:A,updatedAt:A};console.log(" Creating payment:",j),console.log(" Images in payment:",((H=x.quickImages)==null?void 0:H.length)||0,"");const Q=await n(j);if(F.success(" "),!E&&!K&&x.accountHolder&&x.bankName&&x.accountNumber)try{await ve.post("/payments/send-toss-payment-sms",{recipientPhone:"01089423283",accountHolder:x.accountHolder,bankName:x.bankName,accountNumber:x.accountNumber,amount:c,projectName:x.project,itemName:x.itemName,process:x.process,paymentId:Q}),F.success("   ")}catch(u){console.error("SMS  :",u)}}V(j=>({project:j.project,date:De(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),J(!1),D(!1),w(null),window.innerWidth<768&&G("list")}catch(c){console.error(" Payment save error:",c),F.error("  : "+c.message)}finally{P(!1)}},Je=g=>{var H,c,A,j;try{console.log("[handleEdit] Starting edit for payment:",g.id);const Q=g.originalMaterialAmount!==void 0?g.originalMaterialAmount:g.materialAmount||0,u=g.originalLaborAmount!==void 0?g.originalLaborAmount:g.laborAmount||0,$={project:g.project||"",date:g.requestDate?De(new Date(g.requestDate),"yyyy-MM-dd"):De(new Date,"yyyy-MM-dd"),process:g.process||"",itemName:g.itemName||g.purpose||"",materialCost:Q>0?Q.toString():"",laborCost:u>0?u.toString():"",amount:((H=g.amount)==null?void 0:H.toString())||"",accountHolder:((c=g.bankInfo)==null?void 0:c.accountHolder)||"",bankName:((A=g.bankInfo)==null?void 0:A.bankName)||"",accountNumber:((j=g.bankInfo)==null?void 0:j.accountNumber)||"",images:g.attachments||[],quickText:g.quickText||"",quickImages:g.images||[]};console.log("[handleEdit] Setting form data:",$),V($),J(g.includesVAT||!1),D(g.applyTaxDeduction||!1),b(g.id),C(g.id),le&&G("form"),console.log("[handleEdit] Edit setup complete"),F.success("  ")}catch(Q){console.error("[handleEdit] Error:",Q),F.error("     ")}},Ge=async g=>{var H,c,A;try{const j=((H=g.bankInfo)==null?void 0:H.accountHolder)||g.accountHolder,Q=((c=g.bankInfo)==null?void 0:c.bankName)||g.bank,u=((A=g.bankInfo)==null?void 0:A.accountNumber)||g.accountNumber;if(!j||!Q||!u){F.error("  .    .");return}if(!window.confirm(`  ?

: 
: ${Q}
: ${u}
: ${g.amount.toLocaleString()}`))return;const ie=u.replace(/[-\s]/g,""),Be={KB:"",:"",:"",:"",:"",NH:"",:"",IBK:"",:"",SC:"SC",:"",:"",:"",:"",:"",KDB:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""}[Q]||Q,We={KB:"004",:"004",:"088",:"020",:"081",NH:"011",:"011",IBK:"003",:"003",SC:"023",:"027",:"027",:"045",:"048",:"071",KDB:"002",:"002",:"007",:"031",:"032",:"039",:"034",:"037",:"035",:"090",:"089",:"092"}[Q]||"004",Te="",Xe=`supertoss://send?amount=${g.amount}&bankCode=${We}&bank=${encodeURIComponent(Be)}&accountNo=${ie}&receiverName=${encodeURIComponent(Te)}&toName=${encodeURIComponent(Te)}`;let ss=!1;try{window.location.href=Xe,ss=!0,F.success("  ...",{duration:3e3}),setTimeout(()=>{const qe=/iPhone|iPad|iPod/i.test(navigator.userAgent),Qe=/Android/i.test(navigator.userAgent);(qe||Qe)&&F(`      .

: 
: ${u}
: ${g.amount.toLocaleString()}

    .`,{icon:"",duration:8e3})},2e3)}catch(qe){console.error("   :",qe),F(`   .

: 
: ${Q}
: ${u}
: ${g.amount.toLocaleString()}

    .`,{icon:"",duration:1e4})}}catch(j){console.error(" :",j),F.error(`   : ${j.message}`)}},es=async g=>{try{const H=s.find(c=>c.id===g);if(H&&H.quickText){const c=localStorage.getItem("executionMemos"),A=c?JSON.parse(c):{};A[g]=H.quickText,localStorage.setItem("executionMemos",JSON.stringify(A))}await i(g,{status:"completed"}),F.success(" "),re(!1)}catch{F.error("  ")}},is=g=>{var j;if(!y){F.error("  ");return}const H=Array.from(((j=g.target)==null?void 0:j.files)||[]),c=[],A=H.filter(Q=>Q.type.startsWith("image/"));A.length!==0&&A.forEach(Q=>{const u=new FileReader;u.onload=$=>{var xe;const ie=(xe=$.target)==null?void 0:xe.result;c.push(ie),c.length===A.length&&(p(Be=>({...Be,[y]:[...Be[y]||[],...c]})),F.success(`${c.length}  `))},u.readAsDataURL(Q)})},us=g=>{y&&p(H=>{var c;return{...H,[y]:((c=H[y])==null?void 0:c.filter((A,j)=>j!==g))||[]}})},bs=g=>{U(g),ee(!0)},fs=g=>{g.preventDefault(),z(!0)},L=g=>{g.preventDefault(),z(!1)},ne=g=>{if(g.preventDefault(),z(!1),!y){F.error("  ");return}const H=Array.from(g.dataTransfer.files),c=[],A=H.filter(j=>j.type.startsWith("image/"));A.length!==0&&A.forEach(j=>{const Q=new FileReader;Q.onload=u=>{var ie;const $=(ie=u.target)==null?void 0:ie.result;c.push($),c.length===A.length&&(p(xe=>({...xe,[y]:[...xe[y]||[],...c]})),F.success(`${c.length}  `))},Q.readAsDataURL(j)})};return e.jsxDEV("div",{className:"space-y-3 md:space-y-4",children:[e.jsxDEV("div",{className:"lg:hidden mb-4",children:e.jsxDEV("select",{value:x.project,onChange:g=>{V({...x,project:g.target.value}),g.target.value&&localStorage.setItem("lastSelectedProject",g.target.value)},className:"w-full px-3 py-2.5 md:py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1933,columnNumber:35},void 0),o.filter(g=>g.status!=="completed").map(g=>e.jsxDEV("option",{value:g.name,children:g.name},g.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1935,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1923,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1922,columnNumber:7},void 0),e.jsxDEV("div",{className:"lg:hidden border-b border-gray-200 mb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("nav",{className:"flex space-x-4",children:[e.jsxDEV("button",{onClick:()=>G("form"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Y==="form"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1944,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>G("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Y==="list"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1954,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>G("image"),className:`py-2 px-1 border-b-2 font-medium text-sm ${Y==="image"?"border-gray-900 text-gray-900":"border-transparent text-gray-500"}`,children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1964,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1943,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1942,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1941,columnNumber:7},void 0),e.jsxDEV("div",{className:"payment-container grid grid-cols-1 md:grid-cols-6 ipad:grid-cols-6 ipad-lg:grid-cols-6 ipad-xl:grid-cols-12 ipad-2xl:grid-cols-12 gap-3 md:gap-4",children:[e.jsxDEV("div",{className:`payment-form md:col-span-2 ipad:col-span-2 ipad-lg:col-span-2 ipad-xl:col-span-2 ipad-2xl:col-span-2 bg-white rounded-lg border p-3 md:p-4 overflow-y-auto ${Y!=="form"?"hidden md:block":""}`,children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"hidden lg:block payment-project-row",children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("select",{value:x.project,onChange:g=>{V({...x,project:g.target.value}),g.target.value&&localStorage.setItem("lastSelectedProject",g.target.value)},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10",children:[(a==null?void 0:a.name)!==""&&e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1999,columnNumber:43},void 0),o.filter(g=>g.status!=="completed").map(g=>e.jsxDEV("option",{value:g.name,children:g.name},g.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2001,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1989,columnNumber:17},void 0),e.jsxDEV("select",{value:x.bankName,onChange:g=>V({...x,bankName:g.target.value}),className:"payment-bank-select hidden px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 bg-white cursor-pointer hover:border-gray-400 transition-colors appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-8",children:[e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2009,columnNumber:19},void 0),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2010,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2011,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2012,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2013,columnNumber:19},void 0),e.jsxDEV("option",{value:"NH",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2014,columnNumber:19},void 0),e.jsxDEV("option",{value:"IBK",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2015,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2016,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2017,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2018,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2019,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2020,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2021,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2004,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1988,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1987,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("textarea",{value:x.quickText,onChange:g=>V({...x,quickText:g.target.value}),onPaste:g=>{var c;const H=(c=g.clipboardData)==null?void 0:c.items;if(H){for(let A=0;A<H.length;A++)if(H[A].type.indexOf("image")!==-1){g.preventDefault();const j=H[A].getAsFile();if(j){const Q=new FileReader;Q.onload=u=>{var ie;const $=(ie=u.target)==null?void 0:ie.result;V(xe=>({...xe,quickImages:[...xe.quickImages,$]}))},Q.readAsDataURL(j)}break}}},onDragOver:g=>{g.preventDefault(),g.stopPropagation()},onDrop:g=>{g.preventDefault(),g.stopPropagation(),Array.from(g.dataTransfer.files).filter(A=>A.type.startsWith("image/")).forEach(A=>{const j=new FileReader;j.onload=Q=>{var $;const u=($=Q.target)==null?void 0:$.result;V(ie=>({...ie,quickImages:[...ie.quickImages,u]}))},j.readAsDataURL(A)})},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:le?"  ":"   (   Ctrl+V)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2028,columnNumber:15},void 0),x.quickImages.length>0&&e.jsxDEV("div",{className:"mt-2 mb-2 grid grid-cols-3 gap-2",children:x.quickImages.map((g,H)=>e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("img",{src:g,alt:` ${H+1}`,className:"w-full h-20 object-cover rounded-lg border"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2083,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>{V(c=>({...c,quickImages:c.quickImages.filter((A,j)=>j!==H)}))},className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2088,columnNumber:23},void 0)]},H,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2082,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2080,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxDEV("label",{className:"cursor-pointer",children:[e.jsxDEV("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:g=>{Array.from(g.target.files||[]).forEach(c=>{const A=new FileReader;A.onload=j=>{var u;const Q=(u=j.target)==null?void 0:u.result;V($=>({...$,quickImages:[...$.quickImages,Q]}))},A.readAsDataURL(c)}),g.target.value=""}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2107,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full h-10 flex items-center justify-center bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium border border-gray-300",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2128,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2106,columnNumber:17},void 0),e.jsxDEV("button",{type:"button",onClick:X,className:"h-10 flex items-center justify-center bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors text-sm font-medium",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2132,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2105,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2027,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",x.date&&`(${De(new Date(x.date),"E",{locale:ms})})`]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2145,columnNumber:17},void 0),e.jsxDEV("input",{type:"date",value:x.date,onChange:g=>V({...x,date:g.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 cursor-pointer text-gray-900",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"white",backgroundImage:"none"}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2148,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2144,columnNumber:15},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2164,columnNumber:17},void 0),e.jsxDEV("button",{ref:ue,type:"button",onClick:()=>se(!0),className:"w-full px-3 py-2 border rounded-lg text-left bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:x.process||e.jsxDEV("span",{className:"text-gray-400",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2171,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2165,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2163,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2143,columnNumber:13},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2178,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",value:x.itemName,onChange:g=>V({...x,itemName:g.target.value}),onFocus:()=>R(!0),onBlur:()=>setTimeout(()=>R(!1),200),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2179,columnNumber:15},void 0),ye.length>0&&e.jsxDEV("div",{className:"absolute z-[200] w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:ye.map((g,H)=>e.jsxDEV("button",{type:"button",onClick:()=>{V({...x,itemName:g}),Ie([])},className:"w-full px-3 py-2 text-left hover:bg-gray-50 text-sm",children:e.jsxDEV("div",{className:"font-medium text-gray-900",children:g},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2200,columnNumber:23},void 0)},H,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2191,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2189,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2177,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2 payment-amount-section",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2210,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",value:x.amount?Number(x.amount).toLocaleString():"",onChange:g=>{const H=g.target.value.replace(/[^0-9]/g,"");V({...x,amount:H})},className:"w-full px-3 py-2 pr-8 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2212,columnNumber:19},void 0),e.jsxDEV("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2223,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2211,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2209,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:"includeVat",checked:E,onChange:g=>{g.target.checked&&D(!1),J(g.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2230,columnNumber:19},void 0),e.jsxDEV("label",{htmlFor:"includeVat",className:"ml-2 block text-sm text-gray-700",children:"  (10%)"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2242,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2229,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:"includeTaxDeduction",checked:K,onChange:g=>{g.target.checked&&J(!1),D(g.target.checked)},className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2247,columnNumber:19},void 0),e.jsxDEV("label",{htmlFor:"includeTaxDeduction",className:"ml-2 block text-sm text-gray-700",children:"3.3% "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2259,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2246,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2228,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2208,columnNumber:13},void 0),e.jsxDEV("div",{className:"payment-account-section border-t pt-3 space-y-2",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2270,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:x.accountHolder,onChange:g=>V({...x,accountHolder:g.target.value}),onFocus:ge,onBlur:()=>{setTimeout(()=>ae([]),200)},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2271,columnNumber:17},void 0),T.length>0&&!ce&&e.jsxDEV("div",{className:"absolute left-0 right-0 top-full mt-1 z-[200] bg-blue-50 border border-blue-200 rounded-lg p-3 shadow-lg",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2287,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:T.map((g,H)=>e.jsxDEV("button",{type:"button",onClick:()=>{V(c=>({...c,accountHolder:g.accountHolder,bankName:g.bankName,accountNumber:g.accountNumber})),ae([])},className:"w-full text-left px-3 py-2 rounded-lg border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium text-sm text-gray-900",children:g.accountHolder},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2306,columnNumber:31},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500 mt-0.5",children:[g.bankName," ",g.accountNumber]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2309,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2305,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2304,columnNumber:27},void 0)},H,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2290,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2288,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2286,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2269,columnNumber:15},void 0),e.jsxDEV("div",{className:"payment-bank-field",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2323,columnNumber:17},void 0),e.jsxDEV("select",{value:x.bankName,onChange:g=>V({...x,bankName:g.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[e.jsxDEV("option",{value:"",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2329,columnNumber:19},void 0),e.jsxDEV("option",{value:"KB",children:"KB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2330,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2331,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2332,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2333,columnNumber:19},void 0),e.jsxDEV("option",{value:"NH",children:"NH"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2334,columnNumber:19},void 0),e.jsxDEV("option",{value:"IBK",children:"IBK"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2335,columnNumber:19},void 0),e.jsxDEV("option",{value:"SC",children:"SC"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2336,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2337,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2338,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2339,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2340,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2341,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2342,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2343,columnNumber:19},void 0),e.jsxDEV("option",{value:"KDB",children:"KDB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2344,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2345,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2346,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2347,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2348,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2349,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2350,columnNumber:19},void 0),e.jsxDEV("option",{value:"",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2351,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2324,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2322,columnNumber:15},void 0),(Ce.length>0||f.length>0&&!ce)&&e.jsxDEV("div",{className:"payment-suggestions-row grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{className:`payment-contractor-suggestions bg-amber-50 border border-amber-200 rounded-lg p-2 ${Ce.length===0?"hidden":""}`,children:[e.jsxDEV("label",{className:"block text-xs font-medium text-amber-900 mb-1",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2362,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:Ce.map(g=>{const H=g.id||g._id,c=ce===H;return e.jsxDEV("button",{type:"button",onClick:()=>Fe(g),className:`w-full text-left px-2 py-1.5 rounded border transition-colors ${c?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,children:[e.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:mt(g.name)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2378,columnNumber:29},void 0),g.accountNumber&&g.bankName&&e.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[g.bankName," ",g.accountNumber]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2382,columnNumber:31},void 0)]},H,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2368,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2363,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2359,columnNumber:19},void 0),e.jsxDEV("div",{className:`payment-history-suggestions bg-blue-50 border border-blue-200 rounded-lg p-2 ${f.length===0||ce?"hidden":""}`,children:[e.jsxDEV("label",{className:"block text-xs font-medium text-blue-900 mb-1",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2396,columnNumber:21},void 0),e.jsxDEV("div",{className:"space-y-1 max-h-56 overflow-y-auto",children:f.map((g,H)=>e.jsxDEV("button",{type:"button",onClick:()=>{V(c=>({...c,accountHolder:g.accountHolder,bankName:g.bankName,accountNumber:g.accountNumber})),B([])},className:"w-full text-left px-2 py-1.5 rounded border border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsxDEV("div",{className:"font-medium text-xs text-gray-900",children:g.accountHolder},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2413,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-[10px] text-gray-500 truncate",children:[g.bankName," ",g.accountNumber]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2416,columnNumber:27},void 0)]},H,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2399,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2397,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2393,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2357,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2427,columnNumber:17},void 0),e.jsxDEV("input",{type:"text",value:x.accountNumber,onChange:g=>V({...x,accountNumber:g.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2428,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2426,columnNumber:15},void 0),e.jsxDEV("div",{className:"pt-2 border-t",children:e.jsxDEV("div",{className:"flex justify-between items-baseline",children:[e.jsxDEV("span",{className:"font-medium",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2439,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-right",children:[(E||K)&&e.jsxDEV("span",{className:"text-xs text-gray-500 mr-2",children:["(",E&&" ",K&&"3.3% ",")"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2442,columnNumber:23},void 0),e.jsxDEV("span",{className:"font-semibold",children:[(()=>{const g=Number(x.amount)||0;let H=g;return K&&(H=Math.round(g*.967)),H.toLocaleString()})(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2446,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2440,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2438,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2437,columnNumber:15},void 0),e.jsxDEV("div",{className:"my-6 lg:my-[50px] sticky bottom-0 bg-white pt-4 pb-4 -mb-4 lg:static lg:pb-0",style:{zIndex:100},children:[h&&e.jsxDEV("button",{onClick:()=>{C(null),V(g=>({project:g.project,date:De(new Date,"yyyy-MM-dd"),process:"",itemName:"",materialCost:"",laborCost:"",amount:"",accountHolder:"",bankName:"",accountNumber:"",images:[],quickText:"",quickImages:[]})),J(!1),D(!1),w(null),F.info(" ")},className:"w-full py-2 mb-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 touch-manipulation",style:{minHeight:"48px"},children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2465,columnNumber:19},void 0),e.jsxDEV("button",{onClick:g=>{console.log(" Payment button clicked!",g),console.log(" Button element:",g.currentTarget),console.log(" Form data:",x),Ye()},disabled:Se,className:`w-full py-3 rounded-lg touch-manipulation font-medium text-base ${Se?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 active:bg-gray-950"}`,style:{minHeight:"48px",position:"relative",zIndex:101,WebkitTapHighlightColor:"transparent"},children:Se?"...":h?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2494,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2463,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2267,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1985,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1982,columnNumber:9},void 0),e.jsxDEV("div",{className:`payment-list md:col-span-4 ipad:col-span-4 ipad-lg:col-span-4 ipad-xl:col-span-4 ipad-2xl:col-span-4 bg-white rounded-lg border overflow-hidden flex flex-col ${Y!=="list"?"hidden md:flex":""}`,children:[e.jsxDEV("div",{className:"bg-gray-50 px-4 pt-3 pb-0",children:e.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:e.jsxDEV("nav",{className:"flex gap-2 overflow-x-auto flex-1",children:[e.jsxDEV("button",{onClick:()=>Ve("pending"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${oe==="pending"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${oe==="pending"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:$e.filter(g=>g.status==="pending").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2533,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2524,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>Ve("completed"),className:`px-4 py-2.5 rounded-t-lg font-medium text-sm transition-all whitespace-nowrap flex items-center gap-2 ${oe==="completed"?"bg-white text-gray-900 shadow-sm border-b-2 border-gray-900":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:["",e.jsxDEV("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${oe==="completed"?"bg-gray-900 text-white":"bg-gray-300 text-gray-600"}`,children:$e.filter(g=>g.status==="completed").length},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2548,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2539,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2523,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2522,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2521,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-b border-gray-200"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2557,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto p-4",children:Re.length>0?e.jsxDEV("div",{className:"space-y-4",children:oe==="completed"?(()=>{const g=Re.reduce((H,c)=>{const A=c.project||"";return H[A]||(H[A]=[]),H[A].push(c),H},{});return Object.entries(g).map(([H,c])=>{const A=c.reduce((j,Q)=>j+(Q.amount||0),0);return e.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxDEV("div",{className:"bg-gray-50 px-3 py-2 border-b flex items-center justify-between",children:e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm",children:H},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2583,columnNumber:31},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500",children:[" ",c.length,"  ",A.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2584,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2582,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2581,columnNumber:27},void 0),e.jsxDEV("div",{className:"p-2 space-y-2",children:c.map(j=>{var Be,Ke,We;const Q=j.amount||0,u=((Be=j.bankInfo)==null?void 0:Be.accountHolder)||j.accountHolder||"",$=((Ke=j.bankInfo)==null?void 0:Ke.bankName)||j.bank||"",ie=((We=j.bankInfo)==null?void 0:We.accountNumber)||j.accountNumber||"",xe=u&&$&&ie?`${u} | ${$} ${ie}`:" ";return e.jsxDEV("div",{onClick:()=>b(j.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${y===j.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[j.process&&e.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",j.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2614,columnNumber:43},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:j.purpose||j.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2616,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2612,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2611,columnNumber:37},void 0),e.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[e.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[Q.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2622,columnNumber:39},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[j.requestedBy||"-","  ",De(new Date(j.requestDate),"MM/dd",{locale:ms})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2625,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2621,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2610,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:[" ",(j.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2632,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2633,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-gray-400",children:[" ",(j.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2634,columnNumber:37},void 0),j.includesVAT&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2637,columnNumber:41},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2638,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2636,columnNumber:39},void 0),j.applyTaxDeduction&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2643,columnNumber:41},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2644,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2642,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2631,columnNumber:35},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:xe},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2650,columnNumber:37},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:Te=>{Te.stopPropagation(),Je(j)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:e.jsxDEV(Ft,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2662,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2654,columnNumber:39},void 0),e.jsxDEV("button",{onClick:async Te=>{Te.stopPropagation(),window.confirm("  ?")&&(await r(j.id),F.success(""))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(gs,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2675,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2664,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2653,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2649,columnNumber:35},void 0)]},j.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2600,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2589,columnNumber:27},void 0)]},H,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2579,columnNumber:25},void 0)})})():Re.map(g=>{var u,$,ie;const H=g.amount||0,c=((u=g.bankInfo)==null?void 0:u.accountHolder)||g.accountHolder||"",A=(($=g.bankInfo)==null?void 0:$.bankName)||g.bank||"",j=((ie=g.bankInfo)==null?void 0:ie.accountNumber)||g.accountNumber||"",Q=c&&A&&j?`${c} | ${A} ${j}`:" ";return e.jsxDEV("div",{onClick:()=>b(g.id),className:`border rounded-lg p-3 cursor-pointer transition-colors ${y===g.id?"border-gray-900 bg-gray-50":"border-gray-200 bg-white hover:border-gray-400"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2.5",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-baseline gap-2",children:[g.process&&e.jsxDEV("span",{className:"text-xs text-gray-500 shrink-0",children:["[",g.process,"]"]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2714,columnNumber:31},void 0),e.jsxDEV("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:g.purpose||g.itemName||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2716,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2712,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:g.project||"-"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2720,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2711,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-right ml-3 shrink-0",children:[e.jsxDEV("p",{className:"text-base font-bold text-gray-900",children:[H.toLocaleString(),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2723,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-[10px] text-gray-400",children:[g.requestedBy||"-","  ",De(new Date(g.requestDate),"MM/dd",{locale:ms})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2726,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2722,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2710,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2.5 text-xs",children:[e.jsxDEV("span",{className:"text-gray-400",children:[" ",(g.materialAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2734,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2735,columnNumber:25},void 0),e.jsxDEV("span",{className:"text-gray-400",children:[" ",(g.laborAmount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2736,columnNumber:25},void 0),g.includesVAT&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2739,columnNumber:29},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-700 text-[10px] rounded",children:"VAT"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2740,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2738,columnNumber:27},void 0),g.applyTaxDeduction&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-gray-300",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2745,columnNumber:29},void 0),e.jsxDEV("span",{className:"px-1.5 py-0.5 bg-purple-50 text-purple-700 text-[10px] rounded",children:"3.3%"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2746,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2744,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2733,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2.5",children:[e.jsxDEV("div",{className:"text-xs text-gray-500 truncate flex-1",children:Q},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2753,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[e.jsxDEV("button",{onClick:xe=>{xe.stopPropagation(),Je(g)},className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:e.jsxDEV(Ft,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2765,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2757,columnNumber:27},void 0),e.jsxDEV("button",{onClick:async xe=>{xe.stopPropagation(),window.confirm("  ?")&&(await r(g.id),F.success(""))},className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(gs,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2778,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2767,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2756,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2752,columnNumber:23},void 0),oe==="pending"&&(a==null?void 0:a.role)&&["manager","admin"].includes(a.role)&&e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:xe=>{if(xe.stopPropagation(),g.status==="completed"){F.info("   ");return}Ge(g)},disabled:g.status==="completed",className:`flex-1 py-1.5 px-2 rounded text-xs font-medium transition-colors ${g.status==="completed"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,children:g.status==="completed"?"":""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2787,columnNumber:27},void 0),e.jsxDEV("button",{onClick:xe=>{xe.stopPropagation(),es(g.id)},disabled:g.status==="completed",className:`flex-1 py-1.5 px-2 text-white rounded text-xs font-medium transition-colors ${g.status==="completed"?"opacity-50 cursor-not-allowed":""}`,style:{backgroundColor:g.status==="completed"?"#9ca3af":"#5f81a5"},onMouseEnter:xe=>{g.status!=="completed"&&(xe.currentTarget.style.backgroundColor="#4a6b8a")},onMouseLeave:xe=>{g.status!=="completed"&&(xe.currentTarget.style.backgroundColor="#5f81a5")},children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2805,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2786,columnNumber:25},void 0)]},g.id,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2700,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2561,columnNumber:15},void 0):e.jsxDEV("div",{className:"flex items-center justify-center h-full text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2836,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2559,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2517,columnNumber:9},void 0),e.jsxDEV("div",{className:`payment-images md:col-span-6 ipad:col-span-6 ipad-lg:col-span-6 ipad-xl:col-span-6 ipad-2xl:col-span-6 bg-white rounded-lg border flex flex-col overflow-hidden ${Y!=="image"?"hidden lg:flex":""}`,onDragOver:fs,onDragLeave:L,onDrop:ne,children:[e.jsxDEV("input",{type:"file",multiple:!0,accept:"image/*",onChange:is,className:"hidden",id:"image-file-input"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2852,columnNumber:11},void 0),le&&y&&Y==="image"&&(()=>{const g=$e.find(H=>H.id===y);return g?e.jsxDEV("div",{className:"border-b bg-gray-50 p-3",children:e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-gray-900 text-sm",children:g.purpose||g.itemName},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2869,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-0.5",children:[g.process||"-","  ",De(new Date(g.requestDate),"yyyy.MM.dd",{locale:ms})]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2870,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2868,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-bold text-gray-900",children:["",(g.amount||0).toLocaleString()]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2874,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2867,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2866,columnNumber:17},void 0):null})(),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 relative",onClick:g=>{var c;const H=g.target;if(!H.closest("img")&&!H.closest("button")&&y){const A=$e.find($=>$.id===y),j=(A==null?void 0:A.images)||[],Q=v[y]||[];(j.length>0?j:Q).length>0&&((c=document.getElementById("image-file-input"))==null||c.click())}},children:y?(()=>{const g=$e.find(j=>j.id===y),H=(g==null?void 0:g.images)||[],c=v[y]||[],A=H.length>0?H:c;return console.log("[Payments] selectedRecord:",y),console.log("[Payments] record found:",g?"yes":"no"),console.log("[Payments] record.images:",g==null?void 0:g.images),console.log("[Payments] serverImages:",H.length),console.log("[Payments] localImages:",c.length),A.length>0?e.jsxDEV("div",{className:"grid grid-cols-1 gap-3",children:A.map((j,Q)=>e.jsxDEV("div",{className:"relative group border rounded-lg overflow-hidden",children:[e.jsxDEV("img",{src:j,alt:` ${Q+1}`,className:"w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:u=>{u.stopPropagation(),bs(j)}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2916,columnNumber:23},void 0),e.jsxDEV("button",{onClick:u=>{u.stopPropagation(),us(Q)},className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxDEV(ns,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2932,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2925,columnNumber:23},void 0)]},Q,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2915,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2913,columnNumber:17},void 0):e.jsxDEV("label",{htmlFor:"image-file-input",className:"h-full flex items-center justify-center cursor-pointer",children:e.jsxDEV("div",{className:`w-full h-full min-h-[200px] border-2 border-dashed rounded-lg p-6 text-center transition-colors flex flex-col items-center justify-center ${k?"border-gray-500 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[e.jsxDEV(tt,{className:"h-10 w-10 mx-auto text-gray-400 mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2947,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm font-medium text-gray-700",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2948,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"   Ctrl+V "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2949,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2942,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2938,columnNumber:17},void 0)})():e.jsxDEV("div",{className:"h-full flex items-center justify-center min-h-[200px]",children:e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV(Ys,{className:"h-12 w-12 mx-auto mb-2"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2956,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2957,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2955,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2954,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2884,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2844,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1979,columnNumber:7},void 0),ke&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"lg:hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxDEV("div",{className:"bg-white rounded-lg w-full max-w-md mx-4 max-h-[80vh] overflow-hidden",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsxDEV("h2",{className:"text-base font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2972,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>se(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ns,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2977,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2973,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2971,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-3 overflow-y-auto max-h-[calc(80vh-100px)]",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 mb-2",children:Zn.map(g=>e.jsxDEV("button",{onClick:()=>{V({...x,process:g}),se(!1)},className:`p-2 text-sm text-center border rounded-lg transition-all ${x.process===g?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:g},g,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2984,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2982,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{V({...x,process:""}),se(!1)},className:"w-full p-2 text-sm text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3001,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2981,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2970,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2969,columnNumber:11},void 0),e.jsxDEV("div",{className:"hidden lg:block fixed inset-0 z-40",onClick:()=>se(!1),children:e.jsxDEV("div",{onClick:g=>g.stopPropagation(),className:"absolute bg-white rounded-lg shadow-xl border border-gray-200",style:{top:ue.current?`${ue.current.getBoundingClientRect().bottom+window.scrollY+4}px`:"50%",left:ue.current?`${ue.current.getBoundingClientRect().left+window.scrollX}px`:"50%"},children:[e.jsxDEV("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxDEV("h2",{className:"text-sm font-bold text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3025,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>se(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsxDEV(ns,{className:"h-3 w-3 text-gray-500"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3030,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3026,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3024,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:Zn.map(g=>e.jsxDEV("button",{onClick:()=>{V({...x,process:g}),se(!1)},className:`p-1.5 text-xs text-center border rounded-lg transition-all whitespace-nowrap ${x.process===g?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:g},g,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3037,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3035,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>{V({...x,process:""}),se(!1)},className:"w-full p-1.5 text-xs text-center border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3054,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3034,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3016,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3015,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:2967,columnNumber:9},void 0),O&&e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",onClick:()=>ee(!1),children:e.jsxDEV("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[e.jsxDEV("button",{onClick:g=>{g.stopPropagation(),ee(!1)},className:"absolute -top-10 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsxDEV(ns,{className:"h-8 w-8"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3083,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3076,columnNumber:13},void 0),e.jsxDEV("img",{src:Z,alt:" ",className:"max-w-full max-h-[90vh] object-contain",onClick:g=>g.stopPropagation()},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3085,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3075,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3071,columnNumber:9},void 0),Ne&&e.jsxDEV(Pu,{projectName:He,onClose:()=>Ae(!1)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:3097,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Payments.tsx",lineNumber:1920,columnNumber:5},void 0)},Mu=()=>{const[s,t]=l.useState([]),[n,r]=l.useState(null),[i,a]=l.useState(!0);l.useEffect(()=>{o()},[]);const o=async()=>{try{a(!0);const h=await ve.get("/quote-inquiries");t(h.data)}catch(h){console.error("Failed to load inquiries:",h),F.error("  ")}finally{a(!1)}},m=async h=>{try{await ve.put(`/quote-inquiries/${h}/read`),t(C=>C.map(k=>k.id===h?{...k,isRead:!0}:k)),window.dispatchEvent(new CustomEvent("quoteInquiryRead"))}catch(C){console.error("Failed to mark as read:",C)}},N=h=>{r(h),h.isRead||m(h.id)},y=async(h,C)=>{if(C.stopPropagation(),!!confirm("  ?"))try{await ve.delete(`/quote-inquiries/${h}`),t(k=>k.filter(z=>z.id!==h)),(n==null?void 0:n.id)===h&&r(null),F.success(" ")}catch(k){console.error("Failed to delete inquiry:",k),F.error("  ")}},b=s.filter(h=>!h.isRead).length;return i?e.jsxDEV("div",{className:"flex items-center justify-center h-full",children:e.jsxDEV("div",{className:"text-gray-500",children:" ..."},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:90,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:89,columnNumber:7},void 0):e.jsxDEV("div",{className:"h-full flex flex-col md:flex-row gap-4 p-4",children:[e.jsxDEV("div",{className:`w-full md:w-1/3 bg-white rounded-lg shadow overflow-hidden flex flex-col ${n?"hidden md:flex":"flex"}`,children:[e.jsxDEV("div",{className:"p-4 border-b bg-gray-50",children:e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:[" ",b>0&&e.jsxDEV("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full",children:b},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:103,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:100,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:99,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:s.length===0?e.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:"  "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:112,columnNumber:13},void 0):e.jsxDEV("div",{className:"divide-y",children:s.map(h=>e.jsxDEV("div",{className:`relative group ${(n==null?void 0:n.id)===h.id?"bg-blue-50 border-l-4 border-blue-500":""} ${h.isRead?"":"bg-yellow-50"}`,children:e.jsxDEV("button",{onClick:()=>N(h),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium text-gray-900",children:h.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:130,columnNumber:25},void 0),!h.isRead&&e.jsxDEV("span",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:132,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:129,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-xs text-gray-500",children:De(new Date(h.createdAt),"MM/dd HH:mm")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:136,columnNumber:25},void 0),e.jsxDEV("button",{onClick:C=>y(h.id,C),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"",children:e.jsxDEV(gs,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:144,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:139,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:135,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:128,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[e.jsxDEV(zr,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:150,columnNumber:23},void 0),h.phone]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:149,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500 line-clamp-2",children:h.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:154,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:124,columnNumber:19},void 0)},h.id,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:118,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:116,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:110,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:98,columnNumber:7},void 0),e.jsxDEV("div",{className:`flex-1 bg-white rounded-lg shadow overflow-hidden ${n?"flex flex-col":"hidden md:flex md:flex-col"}`,children:n?e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"p-6 border-b bg-gray-50",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900",children:n.name},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:171,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>r(null),className:"md:hidden px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 rounded transition-colors",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:170,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500",children:De(new Date(n.createdAt),"yyyy MM dd HH:mm")},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:169,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsxDEV(ho,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:191,columnNumber:19},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:190,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-6 space-y-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(zr,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:196,columnNumber:21},void 0),e.jsxDEV("span",{children:n.phone},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:197,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:195,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(ko,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:200,columnNumber:21},void 0),e.jsxDEV("span",{children:n.email},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:201,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:199,columnNumber:19},void 0),n.address&&e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsxDEV(Do,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:205,columnNumber:23},void 0),e.jsxDEV("span",{children:n.address},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:206,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:204,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:189,columnNumber:15},void 0),(n.projectType||n.budget)&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsxDEV(vo,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:216,columnNumber:21},void 0)," "]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV("div",{className:"pl-6 space-y-2",children:[n.projectType&&e.jsxDEV("div",{className:"text-gray-700",children:[e.jsxDEV("span",{className:"text-gray-500",children:" : "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:222,columnNumber:25},void 0),n.projectType]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:221,columnNumber:23},void 0),n.budget&&e.jsxDEV("div",{className:"text-gray-700",children:[e.jsxDEV("span",{className:"text-gray-500",children:": "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:228,columnNumber:25},void 0),n.budget]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:227,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:219,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:214,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV("div",{className:"pl-6 text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:n.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:237,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:168,columnNumber:11},void 0):e.jsxDEV("div",{className:"h-full flex items-center justify-center text-gray-500",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:246,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:166,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/QuoteInquiry.tsx",lineNumber:96,columnNumber:5},void 0)},Iu=()=>{const{login:s}=js(),[t,n]=l.useState(!1),{register:r,handleSubmit:i,setValue:a,formState:{errors:o}}=Kt(),m=async y=>{n(!0);try{await s(y.username,y.password)}finally{n(!1)}},N=y=>{a("username",y)};return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxDEV("div",{className:"max-w-md w-full",children:e.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[e.jsxDEV("div",{className:"text-center mb-8",children:[e.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900",children:"HV LAB"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:39,columnNumber:13},void 0),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"   "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:38,columnNumber:11},void 0),e.jsxDEV("form",{onSubmit:i(m),className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:47,columnNumber:15},void 0),e.jsxDEV("input",{...r("username",{required:" "}),type:"text",className:"input",placeholder:" ",autoFocus:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:50,columnNumber:15},void 0),o.username&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:o.username.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:60,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:65,columnNumber:15},void 0),e.jsxDEV("input",{...r("password",{required:" "}),type:"password",className:"input",placeholder:""},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:68,columnNumber:15},void 0),o.password&&e.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:o.password.message},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:77,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:64,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:t,className:"w-full btn btn-primary flex items-center justify-center",children:t?e.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:87,columnNumber:17},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Vo,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:90,columnNumber:19},void 0),""]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:89,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:81,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:45,columnNumber:11},void 0),e.jsxDEV("div",{className:"mt-6 border-t pt-6",children:[e.jsxDEV("p",{className:"text-sm text-gray-600 text-center mb-4",children:" "},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:98,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:["","","","","","",""].map(y=>e.jsxDEV("button",{onClick:()=>N(y),className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button",children:y},y,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:101,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:37,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/pages/Login.tsx",lineNumber:35,columnNumber:5},void 0)},Tu=s=>{try{const t=window.AudioContext||window.webkitAudioContext,n=new t,r=s==="emergency"?5:3;let i=0;const a=()=>{if(i>=r)return;const o=n.createOscillator(),m=n.createGain();o.connect(m),m.connect(n.destination),o.frequency.value=s==="emergency"?1e3:800,o.type="sine",m.gain.setValueAtTime(.3,n.currentTime),m.gain.exponentialRampToValueAtTime(.01,n.currentTime+.5),o.start(n.currentTime),o.stop(n.currentTime+.5),i++,i<r&&setTimeout(a,700)};a()}catch(t){console.error("  :",t)}},Fu=s=>{if("vibrate"in navigator){const t=s==="emergency"?[200,200,200,200,200,200,200,200,200,200]:[200,200,200,200,200,200];navigator.vibrate(t)}},qu=(s,t)=>{Tu(s),Fu(s),"Notification"in window&&Notification.permission==="granted"&&new Notification("  ",{body:t,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:"urgent-payment",requireInteraction:!0})},Wu=async()=>"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted",Ou=new ro({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function $u(){const[s,t]=l.useState(!1);return l.useEffect(()=>{const n=gl({immediate:!0,onNeedRefresh(){console.log("   ."),t(!0),F.loading("   ...",{duration:2e3}),setTimeout(()=>{n(!0).then(()=>{F.dismiss(),F.success(" !",{duration:2e3,icon:""}),setTimeout(()=>{window.location.reload()},1e3)})},1500)},onOfflineReady(){console.log("    ")},onRegisteredSW(m,N){console.log(" Service Worker :",m),N&&setInterval(()=>{console.log("   ..."),N.update()},6e4)},onRegisterError(m){console.error(" Service Worker  :",m)}});Wu();const r=async()=>{try{const N=await(await fetch("/version.json?t="+Date.now())).json(),y=localStorage.getItem("app_version");y&&y!==N.version?(console.log("   :",N.version),localStorage.setItem("app_version",N.version),"serviceWorker"in navigator&&(await navigator.serviceWorker.ready).update()):y||localStorage.setItem("app_version",N.version)}catch(m){console.error("  :",m)}};setTimeout(r,5e3);const i=setInterval(r,3e4),o=Nn("/",{transports:["websocket","polling"]});return o.on("connect",()=>{console.log(" Socket.IO ")}),o.on("urgent-payment",m=>{console.log("    :",m);const N=`${m.project}  ${m.amount.toLocaleString()}  `;qu(m.urgency,N)}),o.on("disconnect",()=>{console.log(" Socket.IO  ")}),()=>{o.disconnect(),clearInterval(i)}},[]),e.jsxDEV(io,{client:Ou,children:e.jsxDEV(so,{children:e.jsxDEV(bl,{children:[e.jsxDEV(to,{children:[e.jsxDEV(Ds,{path:"/login",element:e.jsxDEV(Iu,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:152,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:152,columnNumber:13},this),e.jsxDEV(Ds,{path:"/",element:e.jsxDEV(Zl,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:153,columnNumber:38},this),children:[e.jsxDEV(Ds,{index:!0,element:e.jsxDEV(Ln,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:154,columnNumber:37},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV(Ds,{path:"dashboard",element:e.jsxDEV(vd,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:155,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:155,columnNumber:15},this),e.jsxDEV(Ds,{path:"projects",element:e.jsxDEV(Ld,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:156,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV(Ds,{path:"schedule",element:e.jsxDEV(Ud,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:157,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV(Ds,{path:"drawings",element:e.jsxDEV(Pd,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:158,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:158,columnNumber:15},this),e.jsxDEV(Ds,{path:"site-log",element:e.jsxDEV(Rd,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:159,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:159,columnNumber:15},this),e.jsxDEV(Ds,{path:"after-service",element:e.jsxDEV(Md,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:160,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:160,columnNumber:15},this),e.jsxDEV(Ds,{path:"additional-work",element:e.jsxDEV(Td,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:161,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:161,columnNumber:15},this),e.jsxDEV(Ds,{path:"construction-payment",element:e.jsxDEV(qd,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:162,columnNumber:59},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV(Ds,{path:"contractors",element:e.jsxDEV(Wd,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:163,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:163,columnNumber:15},this),e.jsxDEV(Ds,{path:"work-request",element:e.jsxDEV(Od,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:164,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV(Ds,{path:"finish-check",element:e.jsxDEV($d,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:165,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(Ds,{path:"specbook",element:e.jsxDEV(Lu,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:166,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:166,columnNumber:15},this),e.jsxDEV(Ds,{path:"estimate-preview",element:e.jsxDEV(_u,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:167,columnNumber:55},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:167,columnNumber:15},this),e.jsxDEV(Ds,{path:"execution-history",element:e.jsxDEV(Su,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:168,columnNumber:56},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:168,columnNumber:15},this),e.jsxDEV(Ds,{path:"payments",element:e.jsxDEV(Ru,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:169,columnNumber:47},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:169,columnNumber:15},this),e.jsxDEV(Ds,{path:"quote-inquiry",element:e.jsxDEV(Mu,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:170,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:153,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:151,columnNumber:11},this),e.jsxDEV(xm,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#363636",border:"1px solid #e5e5e5"}}},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:150,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:149,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/App.tsx",lineNumber:148,columnNumber:5},this)}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(s){for(const t of s)t.update()});zi(document.getElementById("root")).render(e.jsxDEV(l.StrictMode,{children:e.jsxDEV($u,{},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/main.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kim_s/Desktop/HV LAB app/interior-management-system/frontend/src/main.tsx",lineNumber:17,columnNumber:3},void 0));
