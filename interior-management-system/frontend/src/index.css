@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-gray-200;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-gray-50 text-gray-900;
    font-family: 'Inter', 'Pretendard', system-ui, sans-serif;
    touch-action: manipulation;
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }

  input, textarea, select {
    @apply outline-none;
    touch-action: manipulation;
  }

  button, a {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  div, span, p, h1, h2, h3, h4, h5, h6 {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* 스펙북 이미지가 제대로 표시되도록 img의 height: auto 오버라이드 */
  .aspect-square img.object-cover {
    height: 100% !important;
    max-height: none !important;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2.5 sm:px-6 sm:py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
    min-height: 44px; /* iOS 터치 최소 크기 */
  }

  .btn-primary {
    @apply bg-gray-900 text-white hover:bg-gray-800 active:bg-gray-950;
  }

  .btn-secondary {
    @apply bg-gray-100 text-gray-900 hover:bg-gray-200 active:bg-gray-300;
  }

  .btn-outline {
    @apply border border-gray-300 text-gray-700 hover:bg-gray-50 active:bg-gray-100;
  }

  .input {
    @apply w-full px-3 py-2.5 sm:px-4 sm:py-3 bg-white border border-gray-300 rounded-lg focus:border-gray-500 focus:ring-0 transition-colors text-base;
    min-height: 44px; /* iOS 터치 최소 크기 */
  }

  .card {
    @apply bg-white border border-gray-200 rounded-lg p-4 sm:p-6;
  }

  .container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
}

@layer utilities {
  .animation-delay-200 {
    animation-delay: 200ms;
  }

  .animation-delay-400 {
    animation-delay: 400ms;
  }

  /* Scrollbar styles */
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }

  /* 모바일 최적화 */
  .touch-manipulation {
    touch-action: manipulation;
  }

  /* 모바일 안전 영역 */
  @supports(padding: max(0px)) {
    .safe-top {
      padding-top: max(env(safe-area-inset-top), 0px);
    }
    .safe-bottom {
      padding-bottom: max(env(safe-area-inset-bottom), 0px);
    }
  }

  /* 모바일에서 페이지 제목 숨기기 (헤더에 표시되므로) */
  @media (max-width: 1023px) {
    /* 일반적인 페이지 제목 */
    main h1.text-xl,
    main h1.text-2xl,
    main h1[class*="text-xl"],
    main h1[class*="text-2xl"] {
      display: none !important;
    }
  }
}

/* React Big Calendar 날짜 클릭 피드백 스타일 - 모든 피드백 제거 */
.rbc-day-bg {
  cursor: default;
}

.rbc-day-bg:hover {
  background-color: transparent !important;
}

.rbc-day-bg:active {
  background-color: transparent !important;
}

.rbc-off-range-bg {
  background-color: transparent !important;
  cursor: default !important;
}

.rbc-off-range-bg:hover {
  background-color: transparent !important;
}

.rbc-off-range-bg:active {
  background-color: transparent !important;
}

.rbc-today {
  background-color: transparent !important;
}

.rbc-today:hover {
  background-color: transparent !important;
}

.rbc-month-view .rbc-today button {
  font-weight: 900 !important;
  font-size: 1.1em !important;
  letter-spacing: -0.5px !important;
}

/* 이전/다음 달 날짜 색상 - 기본 */
.rbc-off-range-bg button,
.rbc-off-range-bg .rbc-button-link,
.rbc-off-range button,
.rbc-off-range .rbc-button-link {
  color: #e5e7eb !important;
}

/* 주말 색상 스타일 */
/* 평일 날짜 명시적으로 검정색 지정 */
.rbc-month-view .rbc-date-cell:not(:nth-child(7n)):not(:nth-child(7n+1)):not(.rbc-off-range-bg) button,
.rbc-month-view .rbc-date-cell:not(:nth-child(7n)):not(:nth-child(7n+1)):not(.rbc-off-range-bg) .rbc-button-link {
  color: #000000 !important;
}

/* 일요일 헤더 */
.rbc-month-view .rbc-header:nth-child(1) {
  color: #dc2626 !important;
}

/* 일요일 현재달 날짜 */
.rbc-month-view .rbc-date-cell:nth-child(7n+1):not(.rbc-off-range) .flex > span:first-child,
.rbc-month-view .rbc-row .rbc-date-cell:nth-child(7n+1):not(.rbc-off-range) .flex > span:first-child {
  color: #dc2626 !important;
}

/* 일요일 이전/다음 달 날짜 (투명도 30%) */
.rbc-month-view .rbc-date-cell:nth-child(7n+1).rbc-off-range .flex > span:first-child,
.rbc-month-view .rbc-month-row .rbc-date-cell:nth-child(7n+1).rbc-off-range .flex > span:first-child {
  color: #dc2626 !important;
  opacity: 0.3 !important;
}

/* 토요일 헤더 */
.rbc-month-view .rbc-header:nth-child(7) {
  color: #3b82f6 !important;
}

/* 토요일 현재달 날짜 */
.rbc-month-view .rbc-date-cell:nth-child(7n):not(.rbc-off-range) .flex > span:first-child,
.rbc-month-view .rbc-row .rbc-date-cell:nth-child(7n):not(.rbc-off-range) .flex > span:first-child {
  color: #3b82f6 !important;
}

/* 토요일 이전/다음 달 날짜 (투명도 30%) */
.rbc-month-view .rbc-date-cell:nth-child(7n).rbc-off-range .flex > span:first-child,
.rbc-month-view .rbc-month-row .rbc-date-cell:nth-child(7n).rbc-off-range .flex > span:first-child {
  color: #3b82f6 !important;
  opacity: 0.3 !important;
}

/* 평일 이전/다음 달 날짜 (투명도 30%) */
.rbc-month-view .rbc-date-cell.rbc-off-range:not(:nth-child(7n)):not(:nth-child(7n+1)) .flex > span:first-child,
.rbc-month-view .rbc-month-row .rbc-date-cell.rbc-off-range:not(:nth-child(7n)):not(:nth-child(7n+1)) .flex > span:first-child {
  color: #000000 !important;
  opacity: 0.3 !important;
}

/* ============================================
   캘린더 간격 최적화 - 전문가 재설계
   ============================================ */

/* 1. 툴바 영역 (월/년 선택, 네비게이션) */
.rbc-toolbar {
  margin: 0 !important;
  padding: 4px 0 0 0 !important;
}

/* 툴바 버튼 간격 축소 및 화살표 꼬리 제거 */
.rbc-toolbar button {
  margin: 0 4px !important;
  padding: 6px 10px !important;
}

/* 이전/다음 버튼 화살표만 표시 */
.rbc-toolbar button:first-child::after,
.rbc-toolbar button:nth-child(2)::after {
  content: '' !important;
}

.rbc-toolbar .rbc-toolbar-label {
  margin: 0 4px !important;
}

/* 2. 요일 헤더 (일~토) - 높이 및 텍스트 크기 조정 */
.rbc-month-view .rbc-header {
  text-align: left !important;
  padding: 0 8px !important;
  height: 22px !important;
  min-height: 22px !important;
  line-height: 22px !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  border: none !important;
}

.rbc-month-view .rbc-month-header {
  height: 22px !important;
  min-height: 22px !important;
  margin: 0 0 0 0 !important;
  padding: 0 !important;
  border: none !important;
}

.rbc-month-view .rbc-row.rbc-month-header {
  height: 22px !important;
  min-height: 22px !important;
  margin-bottom: 0 !important;
  flex: 0 0 auto !important;
  border: none !important;
  border-bottom: 1px solid #e5e7eb !important;
}

/* 3. 날짜 셀 행 (주 단위) - 동적 높이 적용 */
.rbc-month-view .rbc-month-row {
  min-height: 100px !important;
  height: auto !important;
  border-bottom: 1px solid #f3f4f6 !important;
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* 모든 주 행의 상단 여백 강제 제거 */
.rbc-month-view .rbc-month-row:first-of-type {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

.rbc-month-view .rbc-row-content {
  height: auto !important;
  min-height: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

.rbc-month-view .rbc-row-bg {
  height: 100% !important;
}

/* 4. 날짜 셀 내부 */
.rbc-month-view .rbc-date-cell {
  text-align: left !important;
  padding: 1px 6px 4px 6px !important;
  vertical-align: top !important;
}

/* 5. 날짜 숫자 */
.rbc-month-view .rbc-date-cell button,
.rbc-month-view .rbc-date-cell .rbc-button-link {
  font-size: 13px !important;
  font-weight: 500 !important;
  padding: 0 !important;
  margin-bottom: 0 !important;
}

/* 6. 캘린더 전체 컨테이너 */
.rbc-calendar {
  margin: 0 !important;
  padding: 0 !important;
}

.rbc-calendar > .rbc-month-view {
  margin: 0 !important;
  padding: 0 !important;
}

.rbc-month-view {
  margin: 0 !important;
  padding: 0 !important;
}

/* 월 뷰 내부의 모든 컨텐츠 */
.rbc-month-view > * {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* 7. 요일 헤더와 첫 주 사이 큰 빈 공간 완전 제거 */
.rbc-month-view .rbc-month-header + .rbc-month-row {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* 요일 헤더 바로 아래 날짜 셀의 상단 패딩 제거 */
.rbc-month-view .rbc-month-header + .rbc-month-row .rbc-date-cell {
  padding-top: 0 !important;
}

/* 요일 헤더 바로 아래 빈 영역 제거 */
.rbc-month-view .rbc-month-header + .rbc-month-row .rbc-row-bg {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* 8. 툴바와 헤더 연결 */
.rbc-toolbar + * {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* 공휴일 날짜 색상 - 일요일과 동일한 채도 낮은 붉은색 */
.rbc-date-cell.holiday-date button,
.rbc-date-cell.holiday-date .rbc-button-link,
.rbc-date-cell.holiday-date .flex > span:first-child {
  color: #dc2626 !important;
}

/* 이전/다음 달 공휴일 날짜 (투명도 30% - 일요일과 동일) */
.rbc-month-view .rbc-month-row .rbc-date-cell.holiday-date.rbc-off-range-bg button,
.rbc-month-view .rbc-date-cell.holiday-date.rbc-off-range-bg .rbc-button-link,
.rbc-month-view .rbc-date-cell.holiday-date.rbc-off-range .flex > span:first-child {
  color: #dc2626 !important;
  opacity: 0.3 !important;
}

/* 모바일에서 공휴일 날짜 색상 */
@media (max-width: 768px) {
  .rbc-date-cell.holiday-date button,
  .rbc-date-cell.holiday-date .rbc-button-link,
  .rbc-date-cell.holiday-date .flex > span:first-child {
    color: #dc2626 !important;
  }

  /* 모바일 이전/다음 달 공휴일 */
  .rbc-month-view .rbc-date-cell.holiday-date.rbc-off-range .flex > span:first-child {
    color: #dc2626 !important;
    opacity: 0.3 !important;
  }
}

/* 이전/다음 달 일정 배경색 연하게 */
.rbc-off-range .rbc-event,
.rbc-off-range-bg .rbc-event,
.rbc-month-row .rbc-off-range .rbc-event {
  opacity: 0.3 !important;
}

.rbc-row-content .rbc-off-range .rbc-event-content {
  opacity: 0.3 !important;
}

/* 일정 호버 효과 */
.rbc-event {
  cursor: pointer;
  transition: filter 0.2s ease;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.rbc-event:hover,
.rbc-month-view .rbc-event:hover {
  filter: brightness(0.95) !important;
}

/* 선택된 셀과 이벤트의 배경색 변경 방지 - 최우선순위 */
.rbc-selected,
.rbc-selected-cell {
  background-color: transparent !important;
}

/* 선택된 이벤트도 원래 배경색과 색상 완전히 유지 - 변화 없음 */
.rbc-month-view .rbc-event.rbc-selected,
.rbc-event-content.rbc-selected,
div.rbc-event.rbc-selected,
.rbc-event.rbc-selected,
.rbc-event.rbc-selected:hover,
.rbc-event.rbc-selected:active,
.rbc-event.rbc-selected:focus,
.rbc-selected .rbc-event-content {
  background-color: var(--event-bg-color) !important;
  color: inherit !important;
  filter: none !important;
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
}

.rbc-event:active {
  filter: brightness(0.9) !important;
}

/* 일정 내부 텍스트 선택 방지 */
.rbc-event-content,
.rbc-event-label {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* 더보기 버튼과 팝업 오버레이 완전히 제거 - 전역 */
.rbc-show-more,
button.rbc-show-more,
a.rbc-show-more,
.rbc-overlay,
.rbc-overlay-header,
div.rbc-overlay,
div[class*="rbc-overlay"],
.rbc-popup,
div.rbc-popup {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  height: 0 !important;
  width: 0 !important;
  pointer-events: none !important;
  position: absolute !important;
  left: -9999px !important;
  top: -9999px !important;
  z-index: -1 !important;
}

/* 월 뷰 행 높이 자동 조정 - 화면 꽉 차게 (데스크톱) */
.rbc-month-row {
  height: auto !important;
  flex: 1 1 0 !important; /* 균등 분배하되 내용 넘치면 자동 확장 */
  min-height: 0 !important;
  padding-bottom: 0px !important;
}

/* 각 주(row)가 화면을 꽉 채우도록 */
.rbc-month-view {
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
}

.rbc-month-view .rbc-row {
  flex: 1 1 0 !important; /* 균등 분배하되 내용 넘치면 자동 확장 */
  height: auto !important;
  min-height: 0 !important;
}

/* 이벤트 오버플로우 허용 (데스크톱) */
.rbc-row-segment {
  height: auto !important;
  margin-bottom: 0px !important; /* 이벤트 간 간격 제거 */
}

.rbc-row-content,
.rbc-row-content-scrollable {
  height: auto !important;
  max-height: none !important;
  overflow: visible !important;
  padding-bottom: 0px !important; /* 여백 제거 */
}

.rbc-addons-dnd .rbc-row-content-scrollable {
  max-height: none !important;
  overflow: visible !important;
}

/* 날짜 셀(day cell) 높이를 내용에 맞게 자동 조정 */
.rbc-day-bg {
  height: 100% !important;
}

/* 이벤트 컨테이너 - 날짜와 분리 */
.rbc-row-content-scroll-container {
  margin-top: 25px !important;
  padding-top: 0 !important;
  position: relative !important;
}

/* 모든 가능한 이벤트 컨테이너 셀렉터 */
.rbc-month-view .rbc-row-content-scroll-container,
.rbc-calendar .rbc-row-content-scroll-container,
.rbc-row-content-scroll-container {
  margin-top: 25px !important;
  padding-top: 0 !important;
}

/* rbc-row 내부의 이벤트들 */
.rbc-row-content-scroll-container .rbc-row {
  position: relative !important;
  margin-top: 0 !important;
}

/* 이벤트 세그먼트 위치 */
.rbc-row-segment {
  margin-top: 0 !important;
}

/* ============================================
   일정 항목 최적화
   ============================================ */

/* 개별 일정 스타일 */
.rbc-event {
  margin: 0 0 1px 0 !important;
  padding: 1px 4px !important;
  font-size: 13px !important;
  line-height: 18px !important;
  min-height: 18px !important;
  height: 18px !important;
  overflow: hidden !important;
  border-radius: 2px !important;
  display: flex !important;
  align-items: center !important;
}

/* 화살표 꼬리 제거 - 연속 일정의 좌우 둥근 모서리 유지 */
.rbc-event:before,
.rbc-event:after {
  display: none !important;
}

.rbc-event-continues-prior {
  border-top-left-radius: 2px !important;
  border-bottom-left-radius: 2px !important;
}

.rbc-event-continues-after {
  border-top-right-radius: 2px !important;
  border-bottom-right-radius: 2px !important;
}

.rbc-event-content {
  padding: 0 !important;
  line-height: 18px !important;
  font-size: 13px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  flex: 1 !important;
}

/* 일정 세그먼트 간격 */
.rbc-row-segment {
  margin: 0 !important;
  padding: 0 !important;
}

/* 이전/다음 달 일요일 */
.rbc-day-bg:nth-child(7n+1).rbc-off-range-bg button,
.rbc-day-bg:nth-child(7n+1).rbc-off-range button,
.rbc-month-row .rbc-day-bg:nth-child(7n+1).rbc-off-range-bg button {
  color: #dc2626 !important;
  opacity: 0.5 !important;
}

/* 이전/다음 달 토요일 */
.rbc-day-bg:nth-child(7n).rbc-off-range-bg button,
.rbc-day-bg:nth-child(7n).rbc-off-range button,
.rbc-month-row .rbc-day-bg:nth-child(7n).rbc-off-range-bg button {
  color: #60a5fa !important;
  opacity: 0.5 !important;
}

/* 모바일 날짜 셀 클릭 개선 */
@media (max-width: 768px) {
  /* 날짜 셀 터치 영역 확대 - 피드백 제거 */
  .rbc-date-cell {
    cursor: pointer !important;
    position: relative !important;
    -webkit-tap-highlight-color: transparent !important;
    touch-action: manipulation !important;
  }

  /* 날짜 배경 셀도 클릭 가능하게 - 피드백 제거 */
  .rbc-day-bg {
    cursor: pointer !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: transparent !important;
  }
}

/* 모바일 캘린더 최적화 */
@media (max-width: 768px) {
  /* 캘린더 헤더 - 요일 가운데 정렬, 텍스트 크기 30% 증가 */
  .rbc-month-view .rbc-header {
    font-size: 13px !important; /* 10px * 1.3 = 13px */
    padding: 8px 2px !important;
    text-align: center !important;
    min-height: auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* 날짜 셀 폰트 크기 - 더 크게 */
  .rbc-date-cell button,
  .rbc-date-cell .rbc-button-link {
    font-size: 14px !important;
    font-weight: 500 !important;
  }

  /* 오늘 날짜 강조 */
  .rbc-month-view .rbc-today button {
    font-size: 15px !important;
  }

  /* 이벤트 폰트 크기 */
  .rbc-event {
    font-size: 10px !important;
    padding: 2px 4px !important;
  }

  .rbc-event-content {
    font-size: 10px !important;
  }

  /* 날짜 셀 - 완전한 가운데 정렬 */
  .rbc-month-view .rbc-date-cell {
    padding: 6px 0 6px 0 !important;
    display: flex !important;
    align-items: flex-start !important;
    justify-content: center !important;
    overflow: visible !important;
    min-height: 40px !important;
    position: relative !important;
  }

  /* 첫번째 주 날짜도 다른 주와 동일하게 */
  .rbc-month-view .rbc-month-row:first-child .rbc-date-cell {
    padding-top: 6px !important;
  }

  /* 캘린더 전체 여백 - 모바일 */
  .rbc-month-view {
    display: flex !important;
    flex-direction: column !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 280px !important;
  }

  /* 캘린더 컨테이너 높이 자동 */
  .rbc-calendar {
    display: flex !important;
    flex-direction: column !important;
    height: auto !important;
    min-height: 280px !important;
  }

  /* 캘린더 컨테이너 - 6주일 때 자동 높이 */
  .calendar-container {
    display: flex !important;
    flex-direction: column !important;
    height: auto !important;
    min-height: 280px !important;
    overflow: visible !important;
  }

  /* Agenda 뷰 모바일 최적화 */
  .rbc-agenda-view {
    font-size: 12px !important;
  }

  .rbc-agenda-view table {
    font-size: 12px !important;
  }

  .rbc-agenda-date-cell,
  .rbc-agenda-time-cell {
    font-size: 11px !important;
    padding: 8px 4px !important;
  }

  .rbc-agenda-event-cell {
    font-size: 12px !important;
    padding: 8px 4px !important;
  }

  /* 모바일에서 달력 내 일정 내용 숨기기 - 날짜와 요일만 표시 */
  .rbc-event,
  .rbc-event-content,
  .rbc-event-label {
    display: none !important;
  }

  /* 모바일에서 캘린더 필수 요소 보이기 */
  .rbc-month-view,
  .rbc-month-header,
  .rbc-month-row,
  .rbc-row,
  .rbc-row-bg,
  .rbc-day-bg,
  .rbc-date-cell,
  .rbc-header {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* 특정 요소들의 display 복원 */
  .rbc-month-view {
    display: flex !important;
    flex-direction: column !important;
  }

  .rbc-row,
  .rbc-row-bg {
    display: flex !important;
  }

  .rbc-month-header {
    display: flex !important;
  }

  .rbc-header {
    display: flex !important;
  }

  /* 날짜 셀 높이 조정 - 자동 높이로 설정하여 6주일 때도 잘리지 않도록 */
  .rbc-month-view .rbc-month-row {
    min-height: 40px !important;
    height: auto !important;
    border-bottom: none !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }

  /* 첫번째 주 행 높이 */
  .rbc-month-view .rbc-month-row:first-child {
    min-height: 40px !important;
    margin-top: 0 !important;
  }

  /* row-content는 숨기지 말고 높이만 0으로 */
  .rbc-month-view .rbc-row-content {
    min-height: 0 !important;
    height: 0 !important;
  }

  /* 6주일 때 달력 높이 자동 조정 */
  .rbc-month-view .rbc-row-bg {
    min-height: 40px !important;
    height: auto !important;
  }

  /* 날짜 버튼 스타일 */
  .rbc-month-view .rbc-date-cell button,
  .rbc-month-view .rbc-date-cell .rbc-button-link {
    font-size: 13px !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    visibility: visible !important;
    width: 28px !important;
    height: 28px !important;
    margin: 0 !important;
    margin-top: 20px !important;
    border-radius: 50% !important;
    transition: none !important;
    position: relative !important;
  }

  /* 모바일 일요일 날짜 색상 */
  .rbc-month-view .rbc-date-cell:nth-child(7n+1):not(.rbc-off-range) .flex > span:first-child {
    color: #dc2626 !important;
  }

  /* 모바일 토요일 날짜 색상 */
  .rbc-month-view .rbc-date-cell:nth-child(7n):not(.rbc-off-range) .flex > span:first-child {
    color: #3b82f6 !important;
  }

  /* 모바일 이전/다음 달 일요일 */
  .rbc-month-view .rbc-date-cell:nth-child(7n+1).rbc-off-range .flex > span:first-child {
    color: #dc2626 !important;
    opacity: 0.3 !important;
  }

  /* 모바일 이전/다음 달 토요일 */
  .rbc-month-view .rbc-date-cell:nth-child(7n).rbc-off-range .flex > span:first-child {
    color: #3b82f6 !important;
    opacity: 0.3 !important;
  }

  /* 모바일 이전/다음 달 평일 */
  .rbc-month-view .rbc-date-cell.rbc-off-range:not(:nth-child(7n)):not(:nth-child(7n+1)) .flex > span:first-child {
    color: #000000 !important;
    opacity: 0.3 !important;
  }

  /* 선택된 날짜에 동그라미 표시 - 모바일 */
  .rbc-date-cell.selected-date button,
  .rbc-date-cell.selected-date .rbc-button-link {
    background-color: #1f2937 !important;
    color: #ffffff !important;
    font-weight: 700 !important;
    box-shadow: 0 0 0 2px rgba(31, 41, 55, 0.1) !important;
  }

  /* selected-date 배경 제거 */
  .rbc-date-cell.selected-date {
    background-color: transparent !important;
  }

  .rbc-day-bg.selected-date {
    background-color: transparent !important;
  }

  /* 선택된 날짜의 색상 오버라이드 */
  .rbc-month-view .rbc-date-cell.selected-date:nth-child(7n+1) button,
  .rbc-month-view .rbc-date-cell.selected-date:nth-child(7n) button,
  .rbc-month-view .rbc-date-cell.selected-date button {
    color: #ffffff !important;
  }

  .rbc-month-view .rbc-date-cell.selected-date .flex > span:first-child {
    color: #ffffff !important;
    opacity: 1 !important;
  }

  /* 일정 개수 점 표시 */
  .rbc-date-cell::after {
    content: '';
    position: absolute;
    bottom: 0px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 2px;
  }

  /* 일정 개수별 점 표시 (data attribute로 제어) */
  .rbc-date-cell[data-event-count="1"]::after {
    content: '•';
    font-size: 7px;
    color: #ef4444;
  }

  .rbc-date-cell[data-event-count="2"]::after {
    content: '• •';
    font-size: 7px;
    color: #ef4444;
    letter-spacing: 1px;
  }

  .rbc-date-cell[data-event-count="3"]::after {
    content: '• • •';
    font-size: 7px;
    color: #ef4444;
    letter-spacing: 1px;
  }

  .rbc-date-cell[data-event-count="4"]::after,
  .rbc-date-cell[data-event-count="5"]::after,
  .rbc-date-cell[data-event-count="6"]::after,
  .rbc-date-cell[data-event-count="7"]::after,
  .rbc-date-cell[data-event-count="8"]::after,
  .rbc-date-cell[data-event-count="9"]::after {
    content: '• • • +';
    font-size: 6px;
    color: #ef4444;
    letter-spacing: 0.5px;
  }

  /* 그리드 라인 제거 */
  .rbc-month-view,
  .rbc-month-view .rbc-month-row,
  .rbc-day-bg,
  .rbc-date-cell {
    border: none !important;
  }

  /* 헤더 하단 보더만 유지 */
  .rbc-month-view .rbc-header {
    border-bottom: 1px solid #e5e7eb !important;
    border-left: none !important;
    border-right: none !important;
    border-top: none !important;
  }

  /* 캘린더 외곽 테두리만 유지 */
  .rbc-calendar {
    border: 1px solid #e5e7eb !important;
  }
}

/* 캘린더 컨테이너 높이 설정 및 하단 여백 제거 */
.calendar-container {
  height: auto;
  min-height: 500px;
  padding-bottom: 0 !important;
}

.calendar-container .rbc-calendar {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

.calendar-container .rbc-month-view {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

@media (min-width: 768px) {
  .calendar-container {
    height: calc(100vh - 180px);
    min-height: 600px;
  }
}

@media (min-width: 768px) and (max-width: 1023px) and (orientation: landscape) {
  .calendar-container {
    height: calc(100vh - 220px);
    min-height: 450px;
  }
}

@media (min-width: 768px) and (max-width: 1023px) and (orientation: portrait) {
  .calendar-container {
    height: calc(100vh - 260px);
    min-height: 500px;
  }
}

/* ===== 태블릿 최적화 ===== */
/* 태블릿 세로형 (Portrait) */
@media (min-width: 768px) and (max-width: 1023px) and (orientation: portrait) {
  /* 컨테이너 패딩 조정 */
  .container {
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
  }

  /* 카드 패딩 */
  .card {
    padding: 1.25rem !important;
  }

  /* 버튼 크기 */
  .btn {
    padding: 0.625rem 1.25rem !important;
    font-size: 0.9375rem !important;
  }

  /* 입력 필드 */
  .input {
    padding: 0.625rem 1rem !important;
    font-size: 0.9375rem !important;
  }

  /* 테이블 폰트 크기 */
  table {
    font-size: 0.875rem !important;
  }

  table th,
  table td {
    padding: 0.75rem !important;
  }

  /* 캘린더 이벤트 텍스트 */
  .rbc-event {
    font-size: 0.75rem !important;
  }

  /* 모달 크기 조정 */
  .fixed.inset-0 > div {
    max-width: 90% !important;
  }
}

/* 태블릿 가로형 (Landscape) */
@media (min-width: 768px) and (max-width: 1023px) and (orientation: landscape) {
  /* 컨테이너 패딩 */
  .container {
    padding-left: 2rem !important;
    padding-right: 2rem !important;
  }

  /* 카드 패딩 */
  .card {
    padding: 1.5rem !important;
  }

  /* 그리드 레이아웃 최적화 */
  .grid {
    gap: 1rem !important;
  }

  /* 캘린더 높이 조정 */
  .rbc-calendar {
    height: calc(100vh - 200px) !important;
    min-height: 500px !important;
  }

  /* 테이블 뷰 - 2열 그리드 */
  .grid-cols-1 {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* 모달 크기 */
  .fixed.inset-0 > div {
    max-width: 85% !important;
  }

  /* 캘린더 이벤트 */
  .rbc-event {
    font-size: 0.8125rem !important;
    padding: 4px 6px !important;
  }

  /* 날짜 헤더 */
  .rbc-month-view .rbc-header {
    font-size: 0.875rem !important;
    padding: 0.5rem !important;
  }

  /* 일정 목록 컴팩트하게 */
  .space-y-4 {
    gap: 0.75rem !important;
  }
}

/* 태블릿 공통 (세로형 + 가로형) */
@media (min-width: 768px) and (max-width: 1023px) {
  /* 헤더 타이틀 크기 */
  h1 {
    font-size: 1.5rem !important;
  }

  h2 {
    font-size: 1.25rem !important;
  }

  /* 페이지 제목은 보이게 (데스크톱처럼) */
  main h1.text-xl,
  main h1.text-2xl,
  main h1[class*="text-xl"],
  main h1[class*="text-2xl"] {
    display: block !important;
  }

  /* 검색 입력 필드 */
  input[type="text"],
  input[type="search"] {
    font-size: 1rem !important;
  }

  /* 선택 드롭다운 */
  select {
    font-size: 0.9375rem !important;
    padding: 0.625rem 2.5rem 0.625rem 1rem !important;
  }

  /* 모달 내부 폼 요소 */
  .fixed.inset-0 label {
    font-size: 0.875rem !important;
  }

  .fixed.inset-0 input,
  .fixed.inset-0 select,
  .fixed.inset-0 textarea {
    font-size: 0.9375rem !important;
  }

  /* 캘린더 툴바 */
  .rbc-toolbar {
    padding: 1rem !important;
  }

  .rbc-toolbar button {
    padding: 0.5rem 1rem !important;
    font-size: 0.9375rem !important;
  }

  /* AS 요청 카드 */
  .card.hover\\:border-gray-400 {
    padding: 1rem !important;
  }

  /* 프로젝트 카드 그리드 */
  @media (orientation: portrait) {
    .grid-cols-1.md\\:grid-cols-2.lg\\:grid-cols-3 {
      grid-template-columns: repeat(2, 1fr) !important;
    }
  }

  @media (orientation: landscape) {
    .grid-cols-1.md\\:grid-cols-2.lg\\:grid-cols-3 {
      grid-template-columns: repeat(3, 1fr) !important;
    }
  }

  /* AS 관리 카드 뷰 2열 그리드 (태블릿 가로형) */
  @media (orientation: landscape) {
    .lg\\:hidden.space-y-3 {
      display: grid !important;
      grid-template-columns: repeat(2, 1fr) !important;
      gap: 1rem !important;
    }

    .lg\\:hidden.space-y-3 > * {
      margin-top: 0 !important;
    }
  }

  /* ===== 태블릿 일정관리 최적화 ===== */

  /* 캘린더 날짜 헤더 (요일) 크기 */
  .rbc-month-view .rbc-header {
    font-size: 0.9375rem !important;
    padding: 0.75rem 0.5rem !important;
    font-weight: 600 !important;
  }

  /* 캘린더 날짜 셀 */
  .rbc-month-view .rbc-date-cell {
    padding: 0.5rem !important;
  }

  /* 날짜 버튼 크기 */
  .rbc-date-cell button,
  .rbc-date-cell .rbc-button-link {
    font-size: 1rem !important;
    min-width: 36px !important;
    min-height: 36px !important;
  }

  /* 캘린더 행 높이 - 증가 */
  .rbc-month-view .rbc-month-row {
    min-height: 140px !important;
  }

  /* 일정 이벤트 크기 - 컴팩트하게 */
  .rbc-event {
    font-size: 0.75rem !important;
    padding: 2px 5px !important;
    margin-bottom: 1px !important;
    border-radius: 3px !important;
    line-height: 1.2 !important;
    min-height: 20px !important;
    height: auto !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: block !important;
  }

  /* 일정 이벤트 내용 - 컴팩트하게 */
  .rbc-event-content {
    font-size: 0.75rem !important;
    line-height: 1.2 !important;
    display: block !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    height: 100% !important;
  }

  /* 일정 더보기 링크 숨기기 - 강력하게 */
  .rbc-show-more,
  button.rbc-show-more,
  a.rbc-show-more,
  .rbc-overlay,
  .rbc-overlay-header {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    height: 0 !important;
    width: 0 !important;
    pointer-events: none !important;
  }

  /* 팝업 오버레이 완전히 숨기기 - 데스크톱 */
  .rbc-overlay,
  div.rbc-overlay,
  .rbc-overlay-header,
  div[class*="rbc-overlay"],
  .rbc-popup,
  div.rbc-popup {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    position: absolute !important;
    left: -9999px !important;
    z-index: -1 !important;
  }

  /* 월 뷰 행 높이 자동 조정 - 모든 일정 표시 */
  .rbc-month-row {
    min-height: 100px !important;
    height: auto !important;
  }

  /* 이벤트 오버플로우 허용 */
  .rbc-row-segment {
    height: auto !important;
  }

  .rbc-row-content,
  .rbc-row-content-scrollable {
    height: auto !important;
    min-height: 100px !important;
    max-height: none !important;
    overflow: visible !important;
  }

  .rbc-addons-dnd .rbc-row-content-scrollable {
    max-height: none !important;
    overflow: visible !important;
  }

  /* 캘린더 툴바 개선 */
  .rbc-toolbar {
    flex-wrap: nowrap !important;
    padding: 1rem 1.5rem !important;
  }

  .rbc-toolbar-label {
    font-size: 1.125rem !important;
    font-weight: 700 !important;
  }

  /* 캘린더 내비게이션 버튼 */
  .rbc-toolbar button {
    min-width: 44px !important;
    min-height: 44px !important;
    touch-action: manipulation !important;
  }

  /* 모달 크기 최적화 */
  .fixed.inset-0 > div {
    max-width: 90% !important;
    max-height: 85vh !important;
  }

  /* 모달 내 버튼 크기 */
  .fixed.inset-0 button {
    min-height: 44px !important;
    padding: 0.625rem 1.25rem !important;
    font-size: 0.9375rem !important;
  }

  /* 모달 내 입력 필드 간격 */
  .fixed.inset-0 .space-y-3 > * + *,
  .fixed.inset-0 .space-y-4 > * + * {
    margin-top: 1rem !important;
  }

  /* 캘린더 전체 뷰 개선 */
  .calendar-container .rbc-calendar {
    font-size: 1rem !important;
  }

  /* 오늘 날짜 강조 */
  .rbc-month-view .rbc-today button {
    font-weight: 800 !important;
    font-size: 1.1rem !important;
  }

  /* 선택된 날짜 배경 제거 - 태블릿도 동일하게 */
  .rbc-date-cell.selected-date {
    background-color: transparent !important;
  }
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - 공사대금 카드 2열 */
@media (orientation: portrait) and (min-width: 1024px) {
  .construction-payment-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - 현장일지 레이아웃 */
@media (orientation: portrait) and (min-width: 1024px) {
  /* 전체 컨테이너: 2행 레이아웃으로 변경 */
  .site-log-container {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important; /* 상단 2열 */
    grid-template-rows: auto 1fr !important; /* 상단 자동, 하단 채우기 */
    gap: 1rem !important;
    height: calc(100vh - 140px) !important;
  }

  /* 좌측 영역 (달력 + 일지작성): 가로 배치로 변경 */
  .site-log-left {
    display: contents !important; /* 자식들을 그리드에 직접 배치 */
  }

  /* 달력: 첫번째 열 */
  .site-log-calendar {
    grid-column: 1 !important;
    grid-row: 1 !important;
    height: auto !important;
    max-height: none !important;
  }

  .site-log-calendar > div {
    max-height: none !important;
    height: 100% !important;
  }

  /* 일지작성: 두번째 열 */
  .site-log-notes {
    grid-column: 2 !important;
    grid-row: 1 !important;
    height: auto !important;
  }

  .site-log-notes > div {
    max-height: none !important;
    height: 100% !important;
  }

  /* 현장사진: 전체 너비, 두번째 행 */
  .site-log-photos {
    grid-column: 1 / -1 !important; /* 전체 너비 */
    grid-row: 2 !important;
    height: 100% !important;
    min-height: 0 !important;
  }

  /* 일지작성 카드 내부 flex 구조 */
  .site-log-notes > div {
    display: flex !important;
    flex-direction: column !important;
  }

  /* textarea가 남은 공간 채우기 */
  .site-log-textarea {
    flex: 1 !important;
    min-height: 150px !important;
  }
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - 추가내역 레이아웃 */
@media (orientation: portrait) and (min-width: 1024px) {
  /* 전체 컨테이너: 2행 레이아웃으로 변경 */
  .additional-work-container {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important; /* 하단 2열 */
    grid-template-rows: auto 1fr !important; /* 상단 자동, 하단 채우기 */
    gap: 1rem !important;
    height: calc(100vh - 160px) !important;
  }

  /* 프로젝트 입력 폼: 상단 전체 너비 */
  .additional-work-form {
    grid-column: 1 / -1 !important;
    grid-row: 1 !important;
    position: static !important;
    height: auto !important;
  }

  /* 추가내역 목록: 하단 왼쪽 */
  .additional-work-list {
    grid-column: 1 !important;
    grid-row: 2 !important;
    height: 100% !important;
    min-height: 0 !important;
    overflow: hidden !important;
  }

  .additional-work-list > .space-y-4 {
    max-height: calc(100vh - 380px) !important;
  }

  /* 이미지 영역: 하단 오른쪽 */
  .additional-work-images {
    grid-column: 2 !important;
    grid-row: 2 !important;
    height: 100% !important;
    min-height: 0 !important;
    overflow-y: auto !important;
  }
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - 스펙북 레이아웃 */
@media (orientation: portrait) and (min-width: 1024px) {
  /* 전체 컨테이너: 세로 레이아웃으로 변경 */
  .specbook-container {
    display: grid !important;
    grid-template-columns: 1fr 1.5fr !important; /* 카테고리 영역 더 넓게 */
    grid-template-rows: auto auto 1fr 1fr !important;
    gap: 1rem !important;
    height: calc(100vh - 140px) !important;
  }

  /* 사이드바: 내용물들을 그리드에 직접 배치 */
  .specbook-sidebar {
    display: contents !important;
  }

  /* 등급 필터: 상단 전체 너비 */
  .specbook-grade-filter {
    grid-column: 1 / -1 !important;
    grid-row: 1 !important;
  }

  /* 아이템 등록 폼: 등급 필터 아래 왼쪽 */
  .specbook-form {
    grid-column: 1 !important;
    grid-row: 2 !important;
    width: 100% !important;
  }

  /* 카테고리: 등급 필터 아래 오른쪽 */
  .specbook-category {
    grid-column: 2 !important;
    grid-row: 2 !important;
  }

  /* 카테고리 버튼 그리드: 5열로 변경 */
  .specbook-category .grid {
    grid-template-columns: repeat(5, 1fr) !important;
  }

  /* 메인 영역: 전체 너비 */
  .specbook-main {
    grid-column: 1 / -1 !important;
    grid-row: 3 / -1 !important;
    padding-right: 0 !important;
    padding-top: 0 !important;
  }

  /* 스펙 라이브러리와 프로젝트 콘텐츠 영역: 상하 배치 */
  .specbook-content {
    flex-direction: column !important;
    gap: 1rem !important;
  }

  /* 스펙 라이브러리: 전체 너비, 상단 */
  .specbook-library {
    width: 100% !important;
    flex: 1 !important;
    padding-right: 0 !important;
  }

  /* 드롭 영역 (라이브러리 뷰): 전체 너비, 하단 */
  .specbook-drop-zone {
    width: 100% !important;
    flex: 1 !important;
    padding-left: 0 !important;
  }

  /* 프로젝트 영역: 전체 너비, 하단 */
  .specbook-project {
    width: 100% !important;
    flex: 1 !important;
    padding-left: 0 !important;
  }

  /* 세로모드에서 텍스트 전환 */
  .specbook-drop-text-landscape {
    display: none !important;
  }

  .specbook-drop-text-portrait {
    display: inline !important;
  }

  /* 세로모드에서 드롭 영역 위 프로젝트 선택 표시 */
  .specbook-drop-project-select {
    display: block !important;
  }
}

/* 기본: portrait 텍스트 숨김 (가로모드) */
.specbook-drop-text-portrait {
  display: none;
}

/* 기본: 실행내역 날짜/총액 - 가로모드는 전체형식 표시 */
.exec-date-short {
  display: none;
}
.exec-total-short {
  display: none;
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - 실행내역 레이아웃 */
@media (orientation: portrait) and (min-width: 1024px) {
  /* 전체 컨테이너 */
  .execution-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
    height: calc(100vh - 180px) !important;
  }

  /* 입력 폼 카드 */
  .execution-form {
    width: 100% !important;
    max-height: none !important;
    overflow: visible !important;
    padding: 1rem 1.25rem !important;
  }

  /* 폼 내부: CSS Grid 2행 레이아웃 */
  .execution-form-inner {
    display: grid !important;
    grid-template-columns: 120px 90px 90px 1fr 100px 100px auto auto auto !important;
    grid-template-rows: auto auto !important;
    gap: 0.75rem 0.75rem !important;
    align-items: end !important;
  }

  /* Row 1: 메인 입력 필드들 */
  .exec-project { grid-column: 1; grid-row: 1; }
  .exec-date-process {
    grid-column: 2 / 4;
    grid-row: 1;
    display: contents !important;
  }
  .exec-date-process > div:first-child { grid-column: 2; grid-row: 1; }
  .exec-date-process > div:last-child { grid-column: 3; grid-row: 1; }
  .exec-item-name { grid-column: 4; grid-row: 1; }
  .exec-amounts {
    grid-column: 5 / 8;
    grid-row: 1;
    display: contents !important;
  }
  .exec-amounts > div:first-child { grid-column: 5; grid-row: 1; }
  .exec-amounts > div:nth-child(2) { grid-column: 6; grid-row: 1; }
  .exec-amounts > .flex.items-center.gap-4 {
    grid-column: 7;
    grid-row: 1;
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0 !important;
    font-size: 0.75rem !important;
    white-space: nowrap !important;
  }
  .exec-total-submit {
    grid-column: 8 / 10;
    grid-row: 1;
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
    border: none !important;
    padding: 0 !important;
    margin: 0 !important;
  }
  .exec-total {
    border: none !important;
    padding: 0 !important;
    white-space: nowrap !important;
  }
  .exec-submit {
    margin: 0 !important;
  }
  .exec-submit button {
    padding: 0.5rem 1rem !important;
    white-space: nowrap !important;
  }

  /* Row 2: 빠른입력 */
  .exec-quick-input {
    grid-column: 1 / 9;
    grid-row: 2;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }
  .exec-quick-input textarea {
    flex: 1 !important;
    height: 40px !important;
    min-height: 40px !important;
    resize: none !important;
  }
  .exec-quick-input .grid.grid-cols-3 { display: none !important; }
  .exec-quick-input .grid.grid-cols-2 {
    display: flex !important;
    gap: 0.5rem !important;
    margin: 0 !important;
    flex-shrink: 0 !important;
  }
  .exec-quick-input .grid.grid-cols-2 > * {
    padding: 0.4rem 0.75rem !important;
    font-size: 0.8rem !important;
  }
  .exec-quick-input .grid.grid-cols-2 label {
    display: none !important;
  }

  /* 라벨 스타일 */
  .execution-form-inner label {
    font-size: 0.7rem !important;
    margin-bottom: 0.2rem !important;
  }

  /* 입력 필드 높이 통일 */
  .execution-form-inner input,
  .execution-form-inner select,
  .execution-form-inner button[type="button"] {
    height: 38px !important;
    padding: 0.5rem 0.5rem !important;
    font-size: 0.85rem !important;
  }

  /* 총계/검색 숨김 */
  .exec-summary { display: none !important; }
  .exec-search { display: none !important; }

  /* 실행내역 목록 */
  .execution-list {
    width: 100% !important;
    flex: 1.5 !important;
    min-height: 200px !important;
  }

  /* 이미지 영역 */
  .execution-images {
    width: 100% !important;
    flex: 1 !important;
    min-height: 150px !important;
  }

  /* 테이블 컬럼 */
  .exec-th-author, .exec-author-col { width: 6% !important; white-space: nowrap !important; }
  .exec-th-date, .exec-date-col { width: 10% !important; }
  .exec-th-process, .exec-process-col { width: 10% !important; }
  .exec-th-item, .exec-item-col { width: 24% !important; }
  .exec-th-material, .exec-material-col { width: 10% !important; }
  .exec-th-labor, .exec-labor-col { width: 10% !important; }
  .exec-th-vat, .exec-vat-col { width: 10% !important; }
  .exec-th-total, .exec-total-col { width: 20% !important; }

  /* 날짜/총액 짧은 형식 */
  .exec-date-full { display: none !important; }
  .exec-date-short { display: inline !important; }
  .exec-total-full { display: none !important; }
  .exec-total-short { display: inline !important; }
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - AS관리 레이아웃 */
@media (orientation: portrait) and (min-width: 1024px) {
  .as-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 1rem !important;
  }

  .as-form {
    width: 100% !important;
    order: 1 !important;
  }

  .as-form .card {
    position: relative !important;
  }

  .as-form form {
    display: grid !important;
    grid-template-columns: 1fr 2fr 1fr 1fr 1fr 1fr !important;
    gap: 0.75rem !important;
    align-items: end !important;
  }

  .as-form form > div:nth-child(1) { grid-column: 1; } /* 프로젝트 */
  .as-form form > input[type="hidden"] { display: none; }
  .as-form form > div:nth-child(4) { grid-column: 2; } /* 내용 */
  .as-form form > div:nth-child(5) { grid-column: 3; } /* 담당자 */
  .as-form form > div:nth-child(6) { grid-column: 4; } /* 요청일/방문예정일 */
  .as-form form > div:nth-child(7) { grid-column: 5; } /* 방문시간 */
  .as-form form > div:nth-child(8) { grid-column: 6; } /* 버튼 */

  .as-form textarea {
    height: 60px !important;
    min-height: 60px !important;
  }

  .as-list {
    width: 100% !important;
    order: 2 !important;
  }

  .as-cards {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - 가견적서 레이아웃 */
@media (orientation: portrait) and (min-width: 1024px) {
  .estimate-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 1.5rem !important;
  }

  .estimate-form {
    width: 100% !important;
    order: 1 !important;
  }

  .estimate-result {
    width: 100% !important;
    order: 2 !important;
  }
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - 결제요청 레이아웃 */
@media (orientation: portrait) and (min-width: 1024px) {
  .payment-container {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
    height: calc(100vh - 220px) !important;
  }

  /* 입력 폼: 상단 - 고정 높이 */
  .payment-form {
    width: 100% !important;
    order: 1 !important;
    overflow: visible !important;
    padding: 1rem !important;
    flex-shrink: 0 !important;
    height: auto !important;
    max-height: none !important;
  }

  .payment-form > .space-y-4 {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.5rem !important;
  }

  /* 프로젝트 및 은행 선택 */
  .payment-form .payment-project-row {
    display: block !important;
  }

  .payment-form .payment-project-row select {
    height: 36px !important;
  }

  /* 은행 선택 드롭다운 표시 */
  .payment-form .payment-bank-select {
    display: block !important;
    width: 100px !important;
    flex-shrink: 0 !important;
  }

  /* 계좌 정보 섹션 - 가로선 제거 */
  .payment-form .payment-account-section {
    border-top: none !important;
    padding-top: 0 !important;
  }

  /* 은행 필드 숨김 (상단에서 선택하므로) */
  .payment-form .payment-bank-field {
    display: none !important;
  }

  /* 폼 2열 그리드 레이아웃 */
  .payment-form > .space-y-4 {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    grid-template-rows: auto auto auto auto auto !important;
    gap: 0.125rem 0.5rem !important;
  }

  /* 공통 스타일 */
  .payment-form label {
    font-size: 0.75rem !important;
    margin-bottom: 0.125rem !important;
  }

  .payment-form input,
  .payment-form select {
    height: 32px !important;
    font-size: 0.875rem !important;
  }

  /* Row 1: 프로젝트 선택 (왼쪽) */
  .payment-form .payment-project-row {
    grid-column: 1 !important;
    grid-row: 1 !important;
    align-self: start !important;
    padding-top: 0.875rem !important;
  }

  /* 프로젝트 행에서 은행 선택 숨김 */
  .payment-form .payment-bank-select {
    display: none !important;
  }

  /* Row 1: 날짜/공정 (오른쪽) - 라벨과 입력 필드 정렬 */
  .payment-form > .space-y-4 > div:nth-child(3) {
    grid-column: 2 !important;
    grid-row: 1 !important;
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 0.25rem !important;
    align-self: start !important;
  }

  .payment-form > .space-y-4 > div:nth-child(3) > div {
    display: flex !important;
    flex-direction: column !important;
  }

  .payment-form > .space-y-4 > div:nth-child(3) label {
    font-size: 0.65rem !important;
    margin-bottom: 0 !important;
    line-height: 1.2 !important;
  }

  /* Row 2-5: 빠른입력 (왼쪽, 4행 차지) */
  .payment-form > .space-y-4 > div:nth-child(2) {
    grid-column: 1 !important;
    grid-row: 2 / 6 !important;
    display: flex !important;
    flex-direction: column !important;
    margin-top: 0 !important;
  }

  .payment-form > .space-y-4 > div:nth-child(2) label {
    font-size: 0.65rem !important;
    margin-bottom: 0 !important;
  }

  .payment-form textarea {
    flex: 1 !important;
    min-height: 160px !important;
    resize: none !important;
    font-size: 0.875rem !important;
  }

  .payment-form .grid.grid-cols-3 {
    display: none !important;
  }

  .payment-form .grid.grid-cols-2.gap-2.mt-2 {
    margin-top: 0.5rem !important;
    gap: 0.25rem !important;
  }

  .payment-form .grid.grid-cols-2.gap-2.mt-2 > label > div,
  .payment-form .grid.grid-cols-2.gap-2.mt-2 > label > .flex,
  .payment-form .grid.grid-cols-2.gap-2.mt-2 > button {
    height: 32px !important;
    font-size: 0.75rem !important;
  }

  /* Row 2: 항목명 (오른쪽) */
  .payment-form > .space-y-4 > div:nth-child(4) {
    grid-column: 2 !important;
    grid-row: 2 !important;
  }

  .payment-form > .space-y-4 > div:nth-child(4) label {
    display: block !important;
    font-size: 0.65rem !important;
  }

  /* Row 3: 공사비 (오른쪽) */
  .payment-form > .space-y-4 > div:nth-child(5) {
    grid-column: 2 !important;
    grid-row: 3 !important;
  }

  .payment-form > .space-y-4 > div:nth-child(5) > div:first-child label {
    display: none !important;
  }

  .payment-form > .space-y-4 > div:nth-child(5) .space-y-2 {
    gap: 0.25rem !important;
  }

  .payment-form > .space-y-4 > div:nth-child(5) .flex.items-center.gap-4 {
    gap: 0.5rem !important;
    margin-top: 0.25rem !important;
  }

  .payment-form > .space-y-4 > div:nth-child(5) .flex.items-center.gap-4 label {
    font-size: 0.65rem !important;
    margin-left: 0.125rem !important;
  }

  .payment-form > .space-y-4 > div:nth-child(5) .flex.items-center.gap-4 input[type="checkbox"] {
    height: 12px !important;
    width: 12px !important;
  }

  /* 추천 협력업체 - 숨김 */
  .payment-form .bg-amber-50 {
    display: none !important;
  }

  /* Row 6: 계좌 정보 (전체 너비, 2행 2열) */
  .payment-form .payment-account-section {
    grid-column: 1 / 3 !important;
    grid-row: 6 !important;
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    grid-template-rows: auto auto auto !important;
    gap: 0.25rem 0.5rem !important;
    border-top: none !important;
    padding-top: 0 !important;
    align-items: end !important;
  }

  /* space-y-2 클래스 효과 제거 */
  .payment-form .payment-account-section.space-y-2 > * + * {
    margin-top: 0 !important;
  }

  .payment-form .payment-account-section > div label {
    display: block !important;
    font-size: 0.65rem !important;
    margin-bottom: 0.125rem !important;
  }

  /* 예금주 - Row 1, Col 1 */
  .payment-form .payment-account-section > div.relative {
    display: block !important;
    grid-column: 1 !important;
    grid-row: 1 !important;
  }

  .payment-form .payment-account-section > div.relative input {
    height: 32px !important;
  }

  /* 은행 필드 - Row 1, Col 2 */
  .payment-form .payment-account-section > .payment-bank-field {
    display: block !important;
    grid-column: 2 !important;
    grid-row: 1 !important;
  }

  .payment-form .payment-account-section > .payment-bank-field label {
    display: block !important;
  }

  .payment-form .payment-account-section > .payment-bank-field select {
    height: 32px !important;
    width: 100% !important;
  }

  /* 계좌번호 - Row 2, Col 1 */
  .payment-form .payment-account-section > div:nth-child(3) {
    grid-column: 1 !important;
    grid-row: 2 !important;
  }

  .payment-form .payment-account-section > div:nth-child(3) input {
    height: 32px !important;
  }

  /* 총액 섹션 - Row 2, Col 2 */
  .payment-form .payment-account-section > div.pt-2 {
    display: flex !important;
    flex-direction: row !important;
    grid-column: 2 !important;
    grid-row: 2 !important;
    border-top: none !important;
    padding-top: 0 !important;
    justify-content: flex-end !important;
    align-items: end !important;
  }

  .payment-form .payment-account-section > div.pt-2 > .flex {
    flex-direction: row !important;
    align-items: baseline !important;
    gap: 0.5rem !important;
  }

  .payment-form .payment-account-section > div.pt-2 .text-xs {
    display: inline !important;
  }

  /* 결제요청 버튼 - Row 3, 전체 너비 */
  .payment-form .payment-account-section > div.my-6 {
    grid-column: 1 / 3 !important;
    grid-row: 3 !important;
    margin: 0.5rem 0 0 0 !important;
  }

  /* Row 7: 결제요청 버튼 */
  .payment-form > .space-y-4 > div:last-child {
    grid-column: 1 / 3 !important;
    grid-row: 7 !important;
    display: flex !important;
    flex-direction: row !important;
    gap: 0.5rem !important;
    align-items: center !important;
    justify-content: flex-end !important;
    margin-top: 0.5rem !important;
    padding-left: 0 !important;
  }

  /* 총액 섹션 표시 (payment-account-section 내부로 이동하므로 기존 것 숨김) */
  .payment-form > .space-y-4 > div:nth-last-child(2) {
    display: none !important;
  }

  /* 결제요청 버튼들 */
  .payment-form > .space-y-4 > div:last-child button {
    height: 32px !important;
    font-size: 0.75rem !important;
    padding: 0 0.5rem !important;
    flex-shrink: 0 !important;
  }

  .payment-form > .space-y-4 > div:last-child button:first-of-type {
    display: none !important;
  }

  /* 결제요청 목록: 중단 */
  .payment-list {
    width: 100% !important;
    order: 2 !important;
    flex: 1.5 !important;
    min-height: 250px !important;
  }

  /* 이미지 영역: 하단 */
  .payment-images {
    display: flex !important;
    width: 100% !important;
    order: 3 !important;
    flex: 1 !important;
    min-height: 150px !important;
  }
}

/* 세로방향 데스크탑 모니터 (portrait orientation) - 일정 2~3줄 레이아웃 */
@media (orientation: portrait) and (min-width: 1024px) {
  /* 이벤트 행 내부 - 여백 제거 */
  .rbc-row-content .rbc-row,
  .rbc-row-content-scrollable .rbc-row {
    min-height: 0 !important;
    height: auto !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* 이벤트 세그먼트 - 여백 제거 */
  .rbc-row-segment {
    height: auto !important;
    min-height: 0 !important;
    margin: 0 !important;
    padding: 0 0 1px 0 !important;
  }

  /* 이벤트 - 내용에 맞게 자동 높이 */
  .rbc-event {
    height: auto !important;
    min-height: 0 !important;
    max-height: none !important;
    line-height: 1.2 !important;
    align-items: flex-start !important;
    padding: 2px 4px !important;
    margin: 0 !important;
  }

  .rbc-event-content {
    line-height: 1.2 !important;
    white-space: normal !important;
    overflow: hidden !important;
    display: block !important;
  }

  /* 월 행 최소 높이 */
  .rbc-month-view .rbc-month-row {
    min-height: 120px !important;
  }
}

/* 인쇄 시 현금수령증만 표시 */
@media print {
  /* 페이지 여백 및 크기 설정 */
  @page {
    margin: 0mm 20mm 15mm 20mm; /* 상단 0mm, 좌우 20mm, 하단 15mm */
    size: A4 portrait;
  }

  /* 모든 요소 숨기기 */
  body * {
    visibility: hidden !important;
  }

  html, body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    height: 100vh !important;
    max-height: 100vh !important;
    overflow: hidden !important;
  }

  /* 페이지 넘김 방지 */
  html {
    page-break-after: avoid !important;
    page-break-before: avoid !important;
  }

  /* 현금수령증 모달과 그 자식 요소만 표시 */
  .fixed.inset-0,
  .fixed.inset-0 * {
    visibility: visible !important;
  }

  /* 모달 배경 제거 및 위치 조정 */
  .fixed.inset-0 {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    background: transparent !important;
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    overflow: hidden !important;
  }

  /* 현금수령증 컨테이너 배경 제거 및 크기 조정 */
  .fixed.inset-0 > div {
    background: transparent !important;
    box-shadow: none !important;
    margin: 0 !important;
    font-size: 81% !important; /* 전체 폰트 크기 81%로 축소 (90%의 90%) */
    height: auto !important;
    max-height: none !important;
    overflow: hidden !important;
  }

  /* 현금수령증 출력 영역 폰트 크기 조정 */
  .print\\:block {
    font-size: 81% !important;
    overflow: hidden !important;
    max-height: 100vh !important;
  }

  /* 제목 크기 조정 */
  .print\\:block h1 {
    font-size: 2.43rem !important; /* 원래 3rem의 81% */
    margin-bottom: 1.44rem !important; /* 간격 축소 */
  }

  /* 텍스트 크기 조정 */
  .print\\:block .text-lg {
    font-size: 0.93rem !important; /* 원래 1.15rem의 81% */
  }

  .print\\:block .text-xl {
    font-size: 1.01rem !important; /* 원래 1.25rem의 81% */
  }

  /* 날짜 텍스트 살짝 축소 (인쇄 시) */
  .print\\:block .receipt-date {
    font-size: 0.88rem !important; /* 0.93rem의 95% */
  }

  /* 금액 텍스트 확대 (인쇄 시) */
  .print\\:block .receipt-amount {
    font-size: 1.2rem !important; /* 0.93rem의 약 130% */
  }

  /* 패딩 조정 (81% 비율 적용) */
  .print\\:block {
    padding: 2.0rem !important; /* 2.5rem의 81% */
  }

  .print\\:block > div {
    padding: 1.3rem !important; /* 1.6rem의 81% */
  }

  /* 간격 조정 */
  .print\\:block .space-y-6 > * + * {
    margin-top: 1.0rem !important; /* 원래 1.5rem의 67% */
  }

  .print\\:block .mt-12 {
    margin-top: 1.9rem !important; /* 원래 3rem의 63% */
  }

  .print\\:block .mt-8 {
    margin-top: 1.3rem !important; /* 원래 2rem의 65% */
  }

  .print\\:block .mb-8 {
    margin-bottom: 1.3rem !important; /* 원래 2rem의 65% */
  }

  /* 텍스트 선명도 개선 */
  * {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    text-rendering: optimizeLegibility !important;
  }

  /* 1페이지만 출력 */
  * {
    page-break-after: avoid !important;
    page-break-inside: avoid !important;
    page-break-before: avoid !important;
  }

  /* 인쇄하지 않을 요소들 */
  .print\\:hidden {
    display: none !important;
  }
}