rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Default: authenticated users can read/write
    match /{allPaths=**} {
      allow read, write: if request.auth != null;
    }

    // Public read access for all app images
    // specbook images
    match /specbook/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    // site_logs images
    match /site_logs/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    // additional_works images
    match /additional_works/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    // execution_records images
    match /execution_records/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    // finish_check images
    match /finish_check/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    // payments images
    match /payments/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    // drawings images
    match /drawings/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
  }
}
